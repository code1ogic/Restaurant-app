(self.webpackChunkhotel_management=self.webpackChunkhotel_management||[]).push([[179],{8255:Je=>{function Ee(L){return Promise.resolve().then(()=>{var c=new Error("Cannot find module '"+L+"'");throw c.code="MODULE_NOT_FOUND",c})}Ee.keys=()=>[],Ee.resolve=Ee,Ee.id=8255,Je.exports=Ee},3018:(Je,Ee,L)=>{"use strict";L.d(Ee,{deG:()=>hl,tb:()=>T_,AFp:()=>Xb,ip1:()=>Eg,CZH:()=>Qh,hGG:()=>lD,z2F:()=>nd,sBO:()=>Gr,Sil:()=>Ig,_Vd:()=>Nu,EJc:()=>o0,SBq:()=>ds,qLn:()=>_u,vpe:()=>xa,gxx:()=>yp,tBr:()=>gl,XFs:()=>Te,OlP:()=>Yt,zs3:()=>Dn,ZZ4:()=>Ky,aQg:()=>Qy,soG:()=>D_,YKP:()=>yb,v3s:()=>rf,h0i:()=>An,PXZ:()=>QT,R0b:()=>pi,FiY:()=>Bi,Lbi:()=>r0,g9A:()=>n0,Qsj:()=>IS,FYo:()=>jc,JOm:()=>T,Tiy:()=>Qp,q3G:()=>an,tp0:()=>sa,EAV:()=>I0,Rgc:()=>st,dDg:()=>zT,DyG:()=>fl,q4F:()=>Sh,GfV:()=>fb,s_b:()=>e_,ifc:()=>vt,eFA:()=>N_,G48:()=>Ex,Gpc:()=>de,X6Q:()=>x_,_c5:()=>Rx,VLi:()=>YT,c2e:()=>s0,zSh:()=>Qm,wAp:()=>it,vHH:()=>he,EiD:()=>Gf,mCW:()=>Ic,qzn:()=>ui,JVY:()=>Bf,pB0:()=>pm,eBb:()=>rv,L6k:()=>fm,LAX:()=>vl,cg1:()=>qE,Tjo:()=>oD,kL8:()=>Ry,yhl:()=>_l,dqk:()=>$,sIi:()=>xl,CqO:()=>TC,QGY:()=>_y,F4k:()=>IC,RDi:()=>Qi,AaK:()=>K,z3N:()=>as,qOj:()=>lC,TTD:()=>Zu,_Bn:()=>DI,xp6:()=>Um,uIk:()=>oE,ekj:()=>Mp,Suo:()=>Ma,Xpm:()=>io,lG2:()=>hd,Yz7:()=>Ct,cJS:()=>Dr,oAB:()=>Vo,Yjl:()=>Ds,Y36:()=>Ap,_UZ:()=>CC,qZA:()=>yy,TgZ:()=>EE,EpF:()=>qA,n5z:()=>Eo,Ikx:()=>ZE,LFG:()=>Tn,$8M:()=>Rr,NdJ:()=>DC,CRH:()=>DT,oxw:()=>xC,Q6J:()=>my,iGM:()=>IT,CHM:()=>Ga,LSH:()=>$i,kYT:()=>oo,YNc:()=>DA,_uU:()=>Cy,Oqu:()=>Op,hij:()=>Iy});var c=L(9765),J=L(5319),P=L(7574),le=L(6682),te=L(2441);var ue=L(1307);function X(){return new c.xQ}function V(r){for(let i in r)if(r[i]===V)return i;throw Error("Could not find renamed property on target object.")}function Y(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function K(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(K).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function oe(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const be=V({__forward_ref__:V});function de(r){return r.__forward_ref__=de,r.toString=function(){return K(this())},r}function W(r){return ge(r)?r():r}function ge(r){return"function"==typeof r&&r.hasOwnProperty(be)&&r.__forward_ref__===de}class he extends Error{constructor(i,o){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,o)),this.code=i}}function Oe(r){return"string"==typeof r?r:null==r?"":String(r)}function At(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Oe(r)}function Et(r,i){const o=i?` in ${i}`:"";throw new he("201",`No provider for ${At(r)} found${o}`)}function ln(r,i){null==r&&function(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function Ct(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Dr(r){return{providers:r.providers||[],imports:r.imports||[]}}function pr(r){return Ie(r,Nt)||Ie(r,no)}function Ie(r,i){return r.hasOwnProperty(i)?r[i]:null}function yi(r){return r&&(r.hasOwnProperty(Br)||r.hasOwnProperty(nt))?r[Br]:null}const Nt=V({\u0275prov:V}),Br=V({\u0275inj:V}),no=V({ngInjectableDef:V}),nt=V({ngInjectorDef:V});var Te=(()=>((Te=Te||{})[Te.Default=0]="Default",Te[Te.Host=1]="Host",Te[Te.Self=2]="Self",Te[Te.SkipSelf=4]="SkipSelf",Te[Te.Optional=8]="Optional",Te))();let Vt;function gn(r){const i=Vt;return Vt=r,i}function Ot(r,i,o){const u=pr(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Te.Optional?null:void 0!==i?i:void Et(K(r),"Injector")}function qe(r){return{toString:r}.toString()}var Ar=(()=>((Ar=Ar||{})[Ar.OnPush=0]="OnPush",Ar[Ar.Default=1]="Default",Ar))(),vt=(()=>((vt=vt||{})[vt.Emulated=0]="Emulated",vt[vt.None=2]="None",vt[vt.ShadowDom=3]="ShadowDom",vt))();const gr="undefined"!=typeof globalThis&&globalThis,ju="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$=gr||"undefined"!=typeof global&&global||ju||H,Ue={},Ve=[],Gt=V({\u0275cmp:V}),Vn=V({\u0275dir:V}),cn=V({\u0275pipe:V}),Sr=V({\u0275mod:V}),Mt=V({\u0275loc:V}),on=V({\u0275fac:V}),xi=V({__NG_ELEMENT_ID__:V});let ec=0;function io(r){return qe(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Ar.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Ve,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||vt.Emulated,id:"c",styles:r.styles||Ve,_:null,setInput:null,schemas:r.schemas||null,tView:null},l=r.directives,h=r.features,m=r.pipes;return u.id+=ec++,u.inputs=Uo(r.inputs,o),u.outputs=Uo(r.outputs),h&&h.forEach(_=>_(u)),u.directiveDefs=l?()=>("function"==typeof l?l():l).map(so):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(nc):null,u})}function so(r){return Un(r)||function(r){return r[Vn]||null}(r)}function nc(r){return function(r){return r[cn]||null}(r)}const Xr={};function Vo(r){return qe(()=>{const i={type:r.type,bootstrap:r.bootstrap||Ve,declarations:r.declarations||Ve,imports:r.imports||Ve,exports:r.exports||Ve,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(Xr[r.id]=r.type),i})}function oo(r,i){return qe(()=>{const o=rr(r,!0);o.declarations=i.declarations||Ve,o.imports=i.imports||Ve,o.exports=i.exports||Ve})}function Uo(r,i){if(null==r)return Ue;const o={};for(const u in r)if(r.hasOwnProperty(u)){let l=r[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}const hd=io;function Ds(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Un(r){return r[Gt]||null}function rr(r,i){const o=r[Sr]||null;if(!o&&!0===i)throw new Error(`Type ${K(r)} does not have '\u0275mod' property.`);return o}function Ri(r){return Array.isArray(r)&&"object"==typeof r[1]}function yn(r){return Array.isArray(r)&&!0===r[1]}function xs(r){return 0!=(8&r.flags)}function La(r){return 2==(2&r.flags)}function Zo(r){return 1==(1&r.flags)}function ni(r){return null!==r.template}function rc(r){return 0!=(512&r[2])}function _n(r,i){return r.hasOwnProperty(on)?r[on]:null}class Ni{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Zu(){return Ba}function Ba(r){return r.type.prototype.ngOnChanges&&(r.setInput=Ef),Cd}function Cd(){const r=ja(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===Ue)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function Ef(r,i,o,u){const l=ja(r)||function(r,i){return r[ac]=i}(r,{previous:Ue,current:null}),h=l.current||(l.current={}),m=l.previous,_=this.declaredInputs[o],b=m[_];h[_]=new Ni(b&&b.currentValue,i,m===Ue),r[u]=i}Zu.ngInherit=!0;const ac="__ngSimpleChanges__";function ja(r){return r[ac]||null}let $a;function Qi(r){$a=r}function Kt(r){return!!r.listen}const Za={createRenderer:(r,i)=>void 0!==$a?$a:"undefined"!=typeof document?document:void 0};function It(r){for(;Array.isArray(r);)r=r[0];return r}function ho(r,i){return It(i[r])}function xr(r,i){return It(i[r.index])}function ki(r,i){return r.data[i]}function ir(r,i){const o=i[r];return Ri(o)?o:o[0]}function Gu(r){return 4==(4&r[2])}function zo(r){return 128==(128&r[2])}function Ji(r,i){return null==i?null:r[i]}function qa(r){r[18]=0}function Wu(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const rt={lFrame:tl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zu(){return rt.bindingsEnabled}function we(){return rt.lFrame.lView}function bt(){return rt.lFrame.tView}function Ga(r){return rt.lFrame.contextLView=r,r[8]}function vn(){let r=Ku();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ku(){return rt.lFrame.currentTNode}function ri(r,i){const o=rt.lFrame;o.currentTNode=r,o.isParent=i}function Wa(){return rt.lFrame.isParent}function ts(){return rt.isInCheckNoChangesMode}function Pi(r){rt.isInCheckNoChangesMode=r}function ks(){return rt.lFrame.bindingIndex++}function Ju(r,i){const o=rt.lFrame;o.bindingIndex=o.bindingRootIndex=r,Xu(i)}function Xu(r){rt.lFrame.currentDirectiveIndex=r}function xd(){return rt.lFrame.currentQueryIndex}function el(r){rt.lFrame.currentQueryIndex=r}function wf(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Md(r,i,o){if(o&Te.SkipSelf){let l=i,h=r;for(;!(l=l.parent,null!==l||o&Te.Host||(l=wf(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;i=l,r=h}const u=rt.lFrame=Rd();return u.currentTNode=i,u.lView=r,!0}function ns(r){const i=Rd(),o=r[1];rt.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Rd(){const r=rt.lFrame,i=null===r?null:r.child;return null===i?tl(r):i}function tl(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function za(){const r=rt.lFrame;return rt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Jg=za;function nl(){const r=za();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Mr(){return rt.lFrame.selectedIndex}function $r(r){rt.lFrame.selectedIndex=r}function dn(){const r=rt.lFrame;return ki(r.tView,r.selectedIndex)}function rl(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:_,ngAfterViewInit:b,ngAfterViewChecked:I,ngOnDestroy:A}=h;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),_&&((r.contentHooks||(r.contentHooks=[])).push(o,_),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,_)),b&&(r.viewHooks||(r.viewHooks=[])).push(-o,b),I&&((r.viewHooks||(r.viewHooks=[])).push(o,I),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,I)),null!=A&&(r.destroyHooks||(r.destroyHooks=[])).push(o,A)}}function Qa(r,i,o){go(r,i,3,o)}function Ja(r,i,o,u){(3&r[2])===o&&go(r,i,o,u)}function il(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function go(r,i,o,u){const h=null!=u?u:-1,m=i.length-1;let _=0;for(let b=void 0!==u?65535&r[18]:0;b<m;b++)if("number"==typeof i[b+1]){if(_=i[b],null!=u&&_>=u)break}else i[b]<0&&(r[18]+=65536),(_<h||-1==h)&&(sl(r,o,i,b),r[18]=(4294901760&r[18])+b+2),b++}function sl(r,i,o,u){const l=o[u]<0,h=o[u+1],_=r[l?-o[u]:o[u]];if(l){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(_)}finally{}}}else try{h.call(_)}finally{}}class Xa{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function eu(r,i,o){const u=Kt(r);let l=0;for(;l<o.length;){const h=o[l];if("number"==typeof h){if(0!==h)break;l++;const m=o[l++],_=o[l++],b=o[l++];u?r.setAttribute(i,_,b,m):i.setAttributeNS(m,_,b)}else{const m=h,_=o[++l];al(m)?u&&r.setProperty(i,m,_):u?r.setAttribute(i,m,_):i.setAttribute(m,_),l++}}return l}function ol(r){return 3===r||4===r||6===r}function al(r){return 64===r.charCodeAt(0)}function Ei(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||ul(r,o,l,null,-1===o||2===o?i[++u]:null)}}return r}function ul(r,i,o,u,l){let h=0,m=r.length;if(-1===i)m=-1;else for(;h<r.length;){const _=r[h++];if("number"==typeof _){if(_===i){m=-1;break}if(_>i){m=h-1;break}}}for(;h<r.length;){const _=r[h];if("number"==typeof _)break;if(_===o){if(null===u)return void(null!==l&&(r[h+1]=l));if(u===r[h+1])return void(r[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==m&&(r.splice(m,0,i),h=m+1),r.splice(h++,0,o),null!==u&&r.splice(h++,0,u),null!==l&&r.splice(h++,0,l)}function ll(r){return-1!==r}function tu(r){return 32767&r}function nu(r,i){let o=function(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let cl=!0;function yo(r){const i=cl;return cl=r,i}let Xe=0;function _o(r,i){const o=Fs(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,yr(u.data,r),yr(i,null),yr(u.blueprint,null));const l=Xo(r,i),h=r.injectorIndex;if(ll(l)){const m=tu(l),_=nu(l,i),b=_[1].data;for(let I=0;I<8;I++)i[h+I]=_[m+I]|b[m+I]}return i[h+8]=l,h}function yr(r,i){r.push(0,0,0,0,0,0,0,0,i)}function Fs(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Xo(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){const h=l[1],m=h.type;if(u=2===m?h.declTNode:1===m?l[6]:null,null===u)return-1;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function tn(r,i,o){!function(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(xi)&&(u=o[xi]),null==u&&(u=o[xi]=Xe++);const l=255&u;i.data[r+(l>>5)]|=1<<l}(r,i,o)}function Sf(r,i,o){if(o&Te.Optional)return r;Et(i,"NodeInjector")}function ea(r,i,o,u){if(o&Te.Optional&&void 0===u&&(u=null),0==(o&(Te.Self|Te.Host))){const l=r[9],h=gn(void 0);try{return l?l.get(i,u,o&Te.Optional):Ot(i,u,o&Te.Optional)}finally{gn(h)}}return Sf(u,i,o)}function si(r,i,o,u=Te.Default,l){if(null!==r){const h=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(xi)?r[xi]:void 0;return"number"==typeof i?i>=0?255&i:dc:i}(o);if("function"==typeof h){if(!Md(i,r,u))return u&Te.Host?Sf(l,o,u):ea(i,o,u,l);try{const m=h(u);if(null!=m||u&Te.Optional)return m;Et(o)}finally{Jg()}}else if("number"==typeof h){let m=null,_=Fs(r,i),b=-1,I=u&Te.Host?i[16][6]:null;for((-1===_||u&Te.SkipSelf)&&(b=-1===_?Xo(r,i):i[_+8],-1!==b&&Ls(u,!1)?(m=i[1],_=tu(b),i=nu(b,i)):_=-1);-1!==_;){const A=i[1];if(xf(h,_,A.data)){const R=dl(_,i,o,m,u,I);if(R!==Cn)return R}b=i[_+8],-1!==b&&Ls(u,i[1].data[_+8]===I)&&xf(h,_,i)?(m=A,_=tu(b),i=nu(b,i)):_=-1}}}return ea(i,o,u,l)}const Cn={};function dc(){return new is(vn(),we())}function dl(r,i,o,u,l,h){const m=i[1],_=m.data[r+8],A=ta(_,m,o,null==u?La(_)&&cl:u!=m&&0!=(3&_.type),l&Te.Host&&h===_);return null!==A?vo(i,m,A,_):Cn}function ta(r,i,o,u,l){const h=r.providerIndexes,m=i.data,_=1048575&h,b=r.directiveStart,A=h>>20,O=l?_+A:r.directiveEnd;for(let B=u?_:_+A;B<O;B++){const q=m[B];if(B<b&&o===q||B>=b&&q.type===o)return B}if(l){const B=m[b];if(B&&ni(B)&&B.type===o)return b}return null}function vo(r,i,o,u){let l=r[o];const h=i.data;if(function(r){return r instanceof Xa}(l)){const m=l;m.resolving&&function(r,i){throw new he("200",`Circular dependency in DI detected for ${r}`)}(At(h[o]));const _=yo(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?gn(m.injectImpl):null;Md(r,u,Te.Default);try{l=r[o]=m.factory(void 0,h,r,u),i.firstCreatePass&&o>=u.directiveStart&&function(r,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const m=Ba(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,l),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],i)}finally{null!==b&&gn(b),yo(_),m.resolving=!1,Jg()}}return l}function xf(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function Ls(r,i){return!(r&Te.Self||r&Te.Host&&i)}class is{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return si(this._tNode,this._lView,i,u,o)}}function Eo(r){return qe(()=>{const i=r.prototype.constructor,o=i[on]||ru(i),u=Object.prototype;let l=Object.getPrototypeOf(r.prototype).constructor;for(;l&&l!==u;){const h=l[on]||ru(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function ru(r){return ge(r)?()=>{const i=ru(W(r));return i&&i()}:_n(r)}function Rr(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(ol(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(vn(),r)}const Vs="__parameters__";function na(r,i,o){return qe(()=>{const u=function(r){return function(...o){if(r){const u=r(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const m=new l(...h);return _.annotation=m,_;function _(b,I,A){const R=b.hasOwnProperty(Vs)?b[Vs]:Object.defineProperty(b,Vs,{value:[]})[Vs];for(;R.length<=A;)R.push(null);return(R[A]=R[A]||[]).push(m),b}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=r,l.annotationCls=l,l})}class Yt{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ct({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const hl=new Yt("AnalyzeForEntryComponents"),fl=Function;function oi(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(i===r&&(i=r.slice(0,o)),oi(u,i)):i!==r&&i.push(u)}return i}function ai(r,i){r.forEach(o=>Array.isArray(o)?ai(o,i):i(o))}function Vi(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function bo(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function C(r,i,o){let u=M(r,i);return u>=0?r[1|u]=o:(u=~u,function(r,i,o,u){let l=r.length;if(l==i)r.push(o,u);else if(1===l)r.push(u,r[0]),r[0]=o;else{for(l--,r.push(r[l-1],r[l]);l>i;)r[l]=r[l-2],l--;r[i]=o,r[i+1]=u}}(r,u,i,o)),u}function D(r,i){const o=M(r,i);if(o>=0)return r[1|o]}function M(r,i){return function(r,i,o){let u=0,l=r.length>>o;for(;l!==u;){const h=u+(l-u>>1),m=r[h<<o];if(i===m)return h<<o;m>i?l=h:u=h+1}return~(l<<o)}(r,i,1)}const js={},wo="__NG_DI_FLAG__",Ui="ngTempTokenPath",Co=/\n/gm,yc="__source",au=V({provide:String,useValue:V});let uu;function pl(r){const i=uu;return uu=r,i}function kf(r,i=Te.Default){if(void 0===uu)throw new Error("inject() must be called from an injection context");return null===uu?Ot(r,void 0,i):uu.get(r,i&Te.Optional?null:void 0,i)}function Tn(r,i=Te.Default){return(Vt||kf)(W(r),i)}function Io(r){const i=[];for(let o=0;o<r.length;o++){const u=W(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let l,h=Te.Default;for(let m=0;m<u.length;m++){const _=u[m],b=tw(_);"number"==typeof b?-1===b?l=_.token:h|=b:l=_}i.push(Tn(l,h))}else i.push(Tn(u))}return i}function lu(r,i){return r[wo]=i,r.prototype[wo]=i,r}function tw(r){return r[wo]}function ur(r,i,o,u){const l=r[Ui];throw i[yc]&&l.unshift(i[yc]),r.message=function(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let l=K(i);if(Array.isArray(i))l=i.map(K).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let _=i[m];h.push(m+":"+("string"==typeof _?JSON.stringify(_):K(_)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${r.replace(Co,"\n  ")}`}("\n"+r.message,l,o,u),r.ngTokenPath=l,r[Ui]=null,r}const gl=lu(na("Inject",r=>({token:r})),-1),Bi=lu(na("Optional"),8),sa=lu(na("SkipSelf"),4);let To;function la(r){var i;return(null===(i=function(){if(void 0===To&&(To=null,$.trustedTypes))try{To=$.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return To}())||void 0===i?void 0:i.createHTML(r))||r}class du{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class tv extends du{getTypeName(){return"HTML"}}class nv extends du{getTypeName(){return"Style"}}class Vf extends du{getTypeName(){return"Script"}}class hm extends du{getTypeName(){return"URL"}}class Uf extends du{getTypeName(){return"ResourceURL"}}function as(r){return r instanceof du?r.changingThisBreaksApplicationSecurity:r}function ui(r,i){const o=_l(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function _l(r){return r instanceof du&&r.getTypeName()||null}function Bf(r){return new tv(r)}function fm(r){return new nv(r)}function rv(r){return new Vf(r)}function vl(r){return new hm(r)}function pm(r){return new Uf(r)}class Gd{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(la(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Wd{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=la(i),o;const u=this.inertDocument.createElement("body");return u.innerHTML=la(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const o=i.attributes;for(let l=o.length-1;0<l;l--){const m=o.item(l).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&i.removeAttribute(m)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const $f=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Cc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ic(r){return(r=String(r)).match($f)||r.match(Cc)?r:"unsafe:"+r}function ji(r){const i={};for(const o of r.split(","))i[o]=!0;return i}function Tc(...r){const i={};for(const o of r)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const mm=ji("area,br,col,hr,img,wbr"),ym=ji("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zd=ji("rp,rt"),bl=Tc(mm,Tc(ym,ji("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tc(zd,ji("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tc(zd,ym)),Zf=ji("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hu=ji("srcset"),Kd=Tc(Zf,hu,ji("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ji("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vm=ji("script,style,template");class Yd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!bl.hasOwnProperty(o))return this.sanitizedSomething=!0,!vm.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let l=0;l<u.length;l++){const h=u.item(l),m=h.name,_=m.toLowerCase();if(!Kd.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let b=h.value;Zf[_]&&(b=Ic(b)),hu[_]&&(r=b,b=(r=String(r)).split(",").map(i=>Ic(i.trim())).join(", ")),this.buf.push(" ",m,'="',Em(b),'"')}var r;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();bl.hasOwnProperty(o)&&!mm.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Em(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Hf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qf=/([^\#-~ |!])/g;function Em(r){return r.replace(/&/g,"&amp;").replace(Hf,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(qf,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Dc;function Gf(r,i){let o=null;try{Dc=Dc||function(r){const i=new Wd(r);return function(){try{return!!(new window.DOMParser).parseFromString(la(""),"text/html")}catch(r){return!1}}()?new Gd(i):i}(r);let u=i?String(i):"";o=Dc.getInertBodyElement(u);let l=5,h=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=h,h=o.innerHTML,o=Dc.getInertBodyElement(u)}while(u!==h);return la((new Yd).sanitizeChildren(Wf(o)||o))}finally{if(o){const u=Wf(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Wf(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var an=(()=>((an=an||{})[an.NONE=0]="NONE",an[an.HTML=1]="HTML",an[an.STYLE=2]="STYLE",an[an.SCRIPT=3]="SCRIPT",an[an.URL=4]="URL",an[an.RESOURCE_URL=5]="RESOURCE_URL",an))();function $i(r){const i=function(){const r=we();return r&&r[12]}();return i?i.sanitize(an.URL,r)||"":ui(r,"URL")?as(r):Ic(Oe(r))}const pu="__ngContext__";function nn(r,i){r[pu]=i}function eh(r){const i=function(r){return r[pu]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function Sc(r){return r.ngOriginalError}function Hs(r,...i){r.error(...i)}class _u{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),u=this._findContext(i),l=(r=i)&&r.ngErrorLogger||Hs;var r;l(this._console,"ERROR",i),o&&l(this._console,"ORIGINAL ERROR",o),u&&l(this._console,"ERROR CONTEXT",u)}_findContext(i){return i?i.ngDebugContext||this._findContext(Sc(i)):null}_findOriginalError(i){let o=i&&Sc(i);for(;o&&Sc(o);)o=Sc(o);return o||null}}const Rm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($))();function qs(r){return r instanceof Function?r():r}var T=(()=>((T=T||{})[T.Important=1]="Important",T[T.DashCase=2]="DashCase",T))();function j(r,i){return undefined(r,i)}function De(r){const i=r[3];return yn(i)?i[3]:i}function Tt(r){return So(r[13])}function jn(r){return So(r[4])}function So(r){for(;null!==r&&!yn(r);)r=r[4];return r}function ca(r,i,o,u,l){if(null!=u){let h,m=!1;yn(u)?h=u:Ri(u)&&(m=!0,u=u[0]);const _=It(u);0===r&&null!==o?null==l?km(i,o,_):ha(i,o,_,l||null,!0):1===r&&null!==o?ha(i,o,_,l||null,!0):2===r?function(r,i,o){const u=Fm(r,i);u&&function(r,i,o,u){Kt(r)?r.removeChild(i,o,u):i.removeChild(o)}(r,u,i,o)}(i,_,m):3===r&&i.destroyNode(_),null!=h&&function(r,i,o,u,l){const h=o[7];h!==It(o)&&ca(i,r,u,h,l);for(let _=10;_<o.length;_++){const b=o[_];sp(b[1],b,r,i,u,h)}}(i,r,h,o,l)}}function ah(r,i,o){return Kt(r)?r.createElement(i,o):null===o?r.createElement(i):r.createElementNS(o,i)}function sw(r,i){const o=r[9],u=o.indexOf(i),l=i[3];1024&i[2]&&(i[2]&=-1025,Wu(l,-1)),o.splice(u,1)}function mv(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const l=u[17];null!==l&&l!==r&&sw(l,u),i>0&&(r[o-1][4]=u[4]);const h=bo(r,10+i);!function(r,i){sp(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const m=h[19];null!==m&&m.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function ow(r,i){if(!(256&i[2])){const o=i[11];Kt(o)&&o.destroyNode&&sp(r,i,o,3,null,null),function(r){let i=r[13];if(!i)return Om(r[1],r);for(;i;){let o=null;if(Ri(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)Ri(i)&&Om(i[1],i),i=i[3];null===i&&(i=r),Ri(i)&&Om(i[1],i),o=i&&i[4]}i=o}}(i)}}function Om(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof Xa)){const h=o[u+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const _=l[h[m]],b=h[m+1];try{b.call(_)}finally{}}else try{h.call(l)}finally{}}}}(r,i),function(r,i){const o=r.cleanup,u=i[7];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],_="function"==typeof m?m(i):It(i[m]),b=u[l=o[h+2]],I=o[h+3];"boolean"==typeof I?_.removeEventListener(o[h],b,I):I>=0?u[l=I]():u[l=-I].unsubscribe(),h+=2}else{const m=u[l=o[h+1]];o[h].call(m)}if(null!==u){for(let h=l+1;h<u.length;h++)u[h]();i[7]=null}}(r,i),1===i[1].type&&Kt(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&yn(i[3])){o!==i[3]&&sw(o,i);const u=i[19];null!==u&&u.detachView(r)}}}function li(r,i,o){return function(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const l=r.data[u.directiveStart].encapsulation;if(l===vt.None||l===vt.Emulated)return null}return xr(u,o)}(r,i.parent,o)}function ha(r,i,o,u,l){Kt(r)?r.insertBefore(i,o,u,l):i.insertBefore(o,u,l)}function km(r,i,o){Kt(r)?r.appendChild(i,o):i.appendChild(o)}function Pm(r,i,o,u,l){null!==u?ha(r,i,o,u,l):km(r,i,o)}function Fm(r,i){return Kt(r)?r.parentNode(i):i.parentNode}let yv=function(r,i,o){return 40&r.type?xr(r,o):null};function ip(r,i,o,u){const l=li(r,u,i),h=i[11],_=function(r,i,o){return yv(r,i,o)}(u.parent||i[6],u,i);if(null!=l)if(Array.isArray(o))for(let b=0;b<o.length;b++)Pm(h,l,o[b],_,!1);else Pm(h,l,o,_,!1)}function lh(r,i){if(null!==i){const o=i.type;if(3&o)return xr(i,r);if(4&o)return vu(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return lh(r,u);{const l=r[i.index];return yn(l)?vu(-1,l):It(l)}}if(32&o)return j(i,r)()||It(r[i.index]);{const u=LD(r,i);return null!==u?Array.isArray(u)?u[0]:lh(De(r[16]),u):lh(r,i.next)}}return null}function LD(r,i){return null!==i?r[16][6].projection[i.projection]:null}function vu(r,i){const o=10+r+1;if(o<i.length){const u=i[o],l=u[1].firstChild;if(null!==l)return lh(u,l)}return i[7]}function bv(r,i,o,u,l,h,m){for(;null!=o;){const _=u[o.index],b=o.type;if(m&&0===i&&(_&&nn(It(_),u),o.flags|=4),64!=(64&o.flags))if(8&b)bv(r,i,o.child,u,l,h,!1),ca(i,r,l,_,h);else if(32&b){const I=j(o,u);let A;for(;A=I();)ca(i,r,l,A,h);ca(i,r,l,_,h)}else 16&b?wv(r,i,u,o,l,h):ca(i,r,l,_,h);o=m?o.projectionNext:o.next}}function sp(r,i,o,u,l,h){bv(o,u,r.firstChild,i,l,h,!1)}function wv(r,i,o,u,l,h){const m=o[16],b=m[6].projection[u.projection];if(Array.isArray(b))for(let I=0;I<b.length;I++)ca(i,r,l,b[I],h);else bv(r,i,b,m[3],l,h,!0)}function lw(r,i,o){Kt(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function Vm(r,i,o){Kt(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function cw(r,i,o){let u=r.length;for(;;){const l=r.indexOf(i,o);if(-1===l)return l;if(0===l||r.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||r.charCodeAt(l+h)<=32)return l}o=l+1}}const dw="ng-template";function Cv(r,i,o){let u=0;for(;u<r.length;){let l=r[u++];if(o&&"class"===l){if(l=r[u],-1!==cw(l.toLowerCase(),i,0))return!0}else if(1===l){for(;u<r.length&&"string"==typeof(l=r[u++]);)if(l.toLowerCase()===i)return!0;return!1}}return!1}function hw(r){return 4===r.type&&r.value!==dw}function jD(r,i,o){return i===(4!==r.type||o?r.value:dw)}function fw(r,i,o){let u=4;const l=r.attrs||[],h=function(r){for(let i=0;i<r.length;i++)if(ol(r[i]))return i;return r.length}(l);let m=!1;for(let _=0;_<i.length;_++){const b=i[_];if("number"!=typeof b){if(!m)if(4&u){if(u=2|1&u,""!==b&&!jD(r,b,o)||""===b&&1===i.length){if(xo(u))return!1;m=!0}}else{const I=8&u?b:i[++_];if(8&u&&null!==r.attrs){if(!Cv(r.attrs,I,o)){if(xo(u))return!1;m=!0}continue}const R=pM(8&u?"class":b,l,hw(r),o);if(-1===R){if(xo(u))return!1;m=!0;continue}if(""!==I){let O;O=R>h?"":l[R+1].toLowerCase();const B=8&u?O:null;if(B&&-1!==cw(B,I,0)||2&u&&I!==O){if(xo(u))return!1;m=!0}}}}else{if(!m&&!xo(u)&&!xo(b))return!1;if(m&&xo(b))continue;m=!1,u=b|1&u}}return xo(u)||m}function xo(r){return 0==(1&r)}function pM(r,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const m=i[l];if(m===r)return l;if(3===m||6===m)h=!0;else{if(1===m||2===m){let _=i[++l];for(;"string"==typeof _;)_=i[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=h?1:2}return-1}return function(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function pw(r,i,o=!1){for(let u=0;u<i.length;u++)if(fw(r,i[u],o))return!0;return!1}function gw(r,i){return r?":not("+i.trim()+")":i}function qD(r){let i=r[0],o=1,u=2,l="",h=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&u){const _=r[++o];l+="["+m+(_.length>0?'="'+_+'"':"")+"]"}else 8&u?l+="."+m:4&u&&(l+=" "+m);else""!==l&&!xo(m)&&(i+=gw(h,l),l=""),u=m,h=h||!xo(u);o++}return""!==l&&(i+=gw(h,l)),i}const ht={};function Um(r){Zr(bt(),we(),Mr()+r,ts())}function Zr(r,i,o,u){if(!u)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&Qa(i,h,o)}else{const h=r.preOrderHooks;null!==h&&Ja(i,h,0,o)}$r(o)}function Zi(r,i){return r<<17|i<<2}function Gs(r){return r>>17&32767}function yw(r){return 2|r}function Eu(r){return(131068&r)>>2}function up(r,i){return-131069&r|i<<2}function _w(r){return 1|r}function Iw(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],h=o[u+1];if(-1!==h){const m=r.data[h];el(l),m.contentQueries(2,i[h],h)}}}function Sl(r,i,o,u,l,h,m,_,b,I){const A=i.blueprint.slice();return A[0]=l,A[2]=140|u,qa(A),A[3]=A[15]=r,A[8]=o,A[10]=m||r&&r[10],A[11]=_||r&&r[11],A[12]=b||r&&r[12]||null,A[9]=I||r&&r[9]||null,A[6]=h,A[16]=2==i.type?r[16]:A,A}function Nc(r,i,o,u,l){let h=r.data[i];if(null===h)h=function(r,i,o,u,l){const h=Ku(),m=Wa(),b=r.data[i]=function(r,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,i,u,l);return null===r.firstChild&&(r.firstChild=b),null!==h&&(m?null==h.child&&null!==b.parent&&(h.child=b):null===h.next&&(h.next=b)),b}(r,i,o,u,l),rt.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const m=function(){const r=rt.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return ri(h,!0),h}function ch(r,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),r.blueprint.push(u),r.data.push(null);return l}function hp(r,i,o){ns(i);try{const u=r.viewQuery;null!==u&&mp(1,u,o);const l=r.template;null!==l&&Zm(r,i,l,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Iw(r,i),r.staticViewQueries&&mp(2,r.viewQuery,o);const h=r.components;null!==h&&function(r,i){for(let o=0;o<i.length;o++)AM(r,i[o])}(i,h)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,nl()}}function dh(r,i,o,u){const l=i[2];if(256==(256&l))return;ns(i);const h=ts();try{qa(i),function(r){rt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Zm(r,i,o,2,u);const m=3==(3&l);if(!h)if(m){const I=r.preOrderCheckHooks;null!==I&&Qa(i,I,null)}else{const I=r.preOrderHooks;null!==I&&Ja(i,I,0,null),il(i,0)}if(function(r){for(let i=Tt(r);null!==i;i=jn(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const l=o[u],h=l[3];0==(1024&l[2])&&Wu(h,1),l[2]|=1024}}}(i),function(r){for(let i=Tt(r);null!==i;i=jn(i))for(let o=10;o<i.length;o++){const u=i[o],l=u[1];zo(u)&&dh(l,u,l.template,u[8])}}(i),null!==r.contentQueries&&Iw(r,i),!h)if(m){const I=r.contentCheckHooks;null!==I&&Qa(i,I)}else{const I=r.contentHooks;null!==I&&Ja(i,I,1),il(i,1)}!function(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)$r(~l);else{const h=l,m=o[++u],_=o[++u];Ju(m,h),_(2,i[h])}}}finally{$r(-1)}}(r,i);const _=r.components;null!==_&&function(r,i){for(let o=0;o<i.length;o++)Vw(r,i[o])}(i,_);const b=r.viewQuery;if(null!==b&&mp(2,b,u),!h)if(m){const I=r.viewCheckHooks;null!==I&&Qa(i,I)}else{const I=r.viewHooks;null!==I&&Ja(i,I,2),il(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),h||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Wu(i[3],-1))}finally{nl()}}function Dw(r,i,o,u){const l=i[10],h=!ts(),m=Gu(i);try{h&&!m&&l.begin&&l.begin(),m&&hp(r,i,u),dh(r,i,o,u)}finally{h&&!m&&l.end&&l.end()}}function Zm(r,i,o,u,l){const h=Mr(),m=2&u;try{$r(-1),m&&i.length>20&&Zr(r,i,20,ts()),o(u,l)}finally{$r(h)}}function fp(r,i,o){!zu()||(function(r,i,o,u){const l=o.directiveStart,h=o.directiveEnd;r.firstCreatePass||_o(o,i),nn(u,i);const m=o.initialInputs;for(let _=l;_<h;_++){const b=r.data[_],I=ni(b);I&&Pw(i,o,b);const A=vo(i,r,_,o);nn(A,i),null!==m&&aA(0,_-l,A,b,0,m),I&&(ir(o.index,i)[8]=A)}}(r,i,o,xr(o,i)),128==(128&o.flags)&&function(r,i,o){const u=o.directiveStart,l=o.directiveEnd,m=o.index,_=rt.lFrame.currentDirectiveIndex;try{$r(m);for(let b=u;b<l;b++){const I=r.data[b],A=i[b];Xu(b),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Nw(I,A)}}finally{$r(-1),Xu(_)}}(r,i,o))}function Hm(r,i,o=xr){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const m=u[h+1],_=-1===m?o(i,r):r[m];r[l++]=_}}}function hh(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=qm(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function qm(r,i,o,u,l,h,m,_,b,I){const A=20+u,R=A+l,O=function(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:ht);return o}(A,R),B="function"==typeof I?I():I;return O[1]={type:r,blueprint:O,template:o,queries:null,viewQuery:_,declTNode:i,data:O.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:B,incompleteFirstPass:!1}}function Pv(r,i,o,u){const l=Ym(i);null===o?l.push(u):(l.push(o),r.firstCreatePass&&dA(r).push(u,l.length-1))}function Wm(r,i,o){for(let u in r)if(r.hasOwnProperty(u)){const l=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,l):o[u]=[i,l]}return o}function us(r,i,o,u,l,h,m,_){const b=xr(i,o);let A,I=i.inputs;!_&&null!=I&&(A=I[u])?(Hw(r,o,A,u,l),La(i)&&function(r,i){const o=ir(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),l=null!=m?m(l,i.value||"",u):l,Kt(h)?h.setProperty(b,u,l):al(u)||(b.setProperty?b.setProperty(u,l):b[u]=l))}function fh(r,i,o,u){let l=!1;if(zu()){const h=function(r,i,o){const u=r.directiveRegistry;let l=null;if(u)for(let h=0;h<u.length;h++){const m=u[h];pw(o,m.selectors,!1)&&(l||(l=[]),tn(_o(o,i),r,m.type),ni(m)?(Ow(r,o),l.unshift(m)):l.push(m))}return l}(r,i,o),m=null===u?null:{"":-1};if(null!==h){l=!0,kw(o,r.data.length,h.length);for(let A=0;A<h.length;A++){const R=h[A];R.providersResolver&&R.providersResolver(R)}let _=!1,b=!1,I=ch(r,i,h.length,null);for(let A=0;A<h.length;A++){const R=h[A];o.mergedAttrs=Ei(o.mergedAttrs,R.hostAttrs),pp(r,o,i,I,R),oA(I,R,m),null!==R.contentQueries&&(o.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(o.flags|=128);const O=R.type.prototype;!_&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),_=!0),!b&&(O.ngOnChanges||O.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),b=!0),I++}!function(r,i){const u=i.directiveEnd,l=r.data,h=i.attrs,m=[];let _=null,b=null;for(let I=i.directiveStart;I<u;I++){const A=l[I],R=A.inputs,O=null===h||hw(i)?null:uA(R,h);m.push(O),_=Wm(R,I,_),b=Wm(A.outputs,I,b)}null!==_&&(_.hasOwnProperty("class")&&(i.flags|=16),_.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=_,i.outputs=b}(r,o)}m&&function(r,i,o){if(i){const u=r.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new he("301",`Export of name '${i[l+1]}' not found!`);u.push(i[l],h)}}}(o,u,m)}return o.mergedAttrs=Ei(o.mergedAttrs,o.attrs),l}function Rw(r,i,o,u,l,h){const m=h.hostBindings;if(m){let _=r.hostBindingOpCodes;null===_&&(_=r.hostBindingOpCodes=[]);const b=~i.index;(function(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(_)!=b&&_.push(b),_.push(u,l,m)}}function Nw(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Ow(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function oA(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;ni(i)&&(o[""]=r)}}function kw(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function pp(r,i,o,u,l){r.data[u]=l;const h=l.factory||(l.factory=_n(l.type)),m=new Xa(h,ni(l),null);r.blueprint[u]=m,o[u]=m,Rw(r,i,0,u,ch(r,o,l.hostVars,ht),l)}function Pw(r,i,o){const u=xr(i,r),l=hh(o),h=r[10],m=Uv(r,Sl(r,l,null,o.onPush?64:16,u,i,h,h.createRenderer(u,o),null,null));r[i.index]=m}function Mo(r,i,o,u,l,h){const m=xr(r,i);!function(r,i,o,u,l,h,m){if(null==h)Kt(r)?r.removeAttribute(i,l,o):i.removeAttribute(l);else{const _=null==m?Oe(h):m(h,u||"",l);Kt(r)?r.setAttribute(i,l,_,o):o?i.setAttributeNS(o,l,_):i.setAttribute(l,_)}}(i[11],m,h,r.value,o,u,l)}function aA(r,i,o,u,l,h){const m=h[i];if(null!==m){const _=u.setInput;for(let b=0;b<m.length;){const I=m[b++],A=m[b++],R=m[b++];null!==_?u.setInput(o,R,I,A):o[A]=R}}}function uA(r,i){let o=null,u=0;for(;u<i.length;){const l=i[u];if(0!==l)if(5!==l){if("number"==typeof l)break;r.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,r[l],i[u+1])),u+=2}else u+=2;else u+=4}return o}function Vv(r,i,o,u){return new Array(r,!0,!1,i,null,0,u,o,null,null)}function Vw(r,i){const o=ir(i,r);if(zo(o)){const u=o[1];80&o[2]?dh(u,o,u.template,o[8]):o[5]>0&&Km(o)}}function Km(r){for(let u=Tt(r);null!==u;u=jn(u))for(let l=10;l<u.length;l++){const h=u[l];if(1024&h[2]){const m=h[1];dh(m,h,m.template,h[8])}else h[5]>0&&Km(h)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=ir(o[u],r);zo(l)&&l[5]>0&&Km(l)}}function AM(r,i){const o=ir(i,r),u=o[1];(function(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),hp(u,o,o[8])}function Uv(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Uw(r){for(;r;){r[2]|=64;const i=De(r);if(rc(r)&&!i)return r;r=i}return null}function jv(r,i,o){const u=i[10];u.begin&&u.begin();try{dh(r,i,r.template,o)}catch(l){throw hA(i,l),l}finally{u.end&&u.end()}}function $v(r){!function(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],u=eh(o),l=u[1];Dw(l,u,l.template,o)}}(r[8])}function mp(r,i,o){el(0),i(r,o)}const SM=(()=>Promise.resolve(null))();function Ym(r){return r[7]||(r[7]=[])}function dA(r){return r.cleanup||(r.cleanup=[])}function hA(r,i){const o=r[9],u=o?o.get(_u,null):null;u&&u.handleError(i)}function Hw(r,i,o,u,l){for(let h=0;h<o.length;){const m=o[h++],_=o[h++],b=i[m],I=r.data[m];null!==I.setInput?I.setInput(b,l,u,_):b[_]=l}}function wu(r,i,o){const u=ho(i,r);!function(r,i,o){Kt(r)?r.setValue(i,o):i.textContent=o}(r[11],u,o)}function Zv(r,i,o){let u=o?r.styles:null,l=o?r.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const _=i[m];"number"==typeof _?h=_:1==h?l=oe(l,_):2==h&&(u=oe(u,_+": "+i[++m]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=l:r.classesWithoutHost=l}const yp=new Yt("INJECTOR",-1);class pA{get(i,o=js){if(o===js){const u=new Error(`NullInjectorError: No provider for ${K(i)}!`);throw u.name="NullInjectorError",u}return o}}const Qm=new Yt("Set Injector scope."),Jm={},MM={};let Hv;function qv(){return void 0===Hv&&(Hv=new pA),Hv}function Gv(r,i=null,o=null,u){return new Gw(r,o,i||qv(),u)}class Gw{constructor(i,o,u,l=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&ai(o,_=>this.processProvider(_,i,o)),ai([i],_=>this.processInjectorType(_,[],h)),this.records.set(yp,_p(void 0,this));const m=this.records.get(Qm);this.scope=null!=m?m.value:null,this.source=l||("object"==typeof i?null:K(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=js,u=Te.Default){this.assertNotDestroyed();const l=pl(this),h=gn(void 0);try{if(!(u&Te.SkipSelf)){let _=this.records.get(i);if(void 0===_){const b=("function"==typeof(r=i)||"object"==typeof r&&r instanceof Yt)&&pr(i);_=b&&this.injectableDefInScope(b)?_p(Xm(i),Jm):null,this.records.set(i,_)}if(null!=_)return this.hydrate(i,_)}return(u&Te.Self?qv():this.parent).get(i,o=u&Te.Optional&&o===js?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Ui]=m[Ui]||[]).unshift(K(i)),l)throw m;return ur(m,i,"R3InjectorError",this.source)}throw m}finally{gn(h),pl(l)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,l)=>i.push(K(l))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,o,u){if(!(i=W(i)))return!1;let l=yi(i);const h=null==l&&i.ngModule||void 0,m=void 0===h?i:h,_=-1!==u.indexOf(m);if(void 0!==h&&(l=yi(h)),null==l)return!1;if(null!=l.imports&&!_){let A;u.push(m);try{ai(l.imports,R=>{this.processInjectorType(R,o,u)&&(void 0===A&&(A=[]),A.push(R))})}finally{}if(void 0!==A)for(let R=0;R<A.length;R++){const{ngModule:O,providers:B}=A[R];ai(B,q=>this.processProvider(q,O,B||Ve))}}this.injectorDefTypes.add(m);const b=_n(m)||(()=>new m);this.records.set(m,_p(b,Jm));const I=l.providers;if(null!=I&&!_){const A=i;ai(I,R=>this.processProvider(R,A,I))}return void 0!==h&&void 0!==i.providers}processProvider(i,o,u){let l=Cu(i=W(i))?i:W(i&&i.provide);const h=ty(r=i)?_p(void 0,r.useValue):_p(ey(r),Jm);var r;if(Cu(i)||!0!==i.multi)this.records.get(l);else{let m=this.records.get(l);m||(m=_p(void 0,Jm,!0),m.factory=()=>Io(m.multi),this.records.set(l,m)),l=i,m.multi.push(i)}this.records.set(l,h)}hydrate(i,o){return o.value===Jm&&(o.value=MM,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(r=o.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const o=W(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Xm(r){const i=pr(r),o=null!==i?i.factory:_n(r);if(null!==o)return o;if(r instanceof Yt)throw new Error(`Token ${K(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const u=function(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}(i,"?");throw new Error(`Can't resolve all parameters for ${K(r)}: (${u.join(", ")}).`)}const o=function(r){const i=r&&(r[Nt]||r[no]);if(i){const o=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Error("unreachable")}function ey(r,i,o){let u;if(Cu(r)){const l=W(r);return _n(l)||Xm(l)}if(ty(r))u=()=>W(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Io(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>Tn(W(r.useExisting));else{const l=W(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return _n(l)||Xm(l);u=()=>new l(...Io(r.deps))}return u}function _p(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function ty(r){return null!==r&&"object"==typeof r&&au in r}function Cu(r){return"function"==typeof r}const Yw=function(r,i,o){return function(r,i=null,o=null,u){const l=Gv(r,i,o,u);return l._resolveInjectorDefTypes(),l}({name:o},i,r,o)};let Dn=(()=>{class r{static create(o,u){return Array.isArray(o)?Yw(o,u,""):Yw(o.providers,o.parent,o.name||"")}}return r.THROW_IF_NOT_FOUND=js,r.NULL=new pA,r.\u0275prov=Ct({token:r,providedIn:"any",factory:()=>Tn(yp)}),r.__NG_ELEMENT_ID__=-1,r})();function bA(r,i){rl(eh(r)[1],vn())}function lC(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;i;){let l;if(ni(r))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");l=i.\u0275dir}if(l){if(o){u.push(l);const m=r;m.inputs=cC(r.inputs),m.declaredInputs=cC(r.declaredInputs),m.outputs=cC(r.outputs);const _=l.hostBindings;_&&FM(r,_);const b=l.viewQuery,I=l.contentQueries;if(b&&kM(r,b),I&&PM(r,I),Y(r.inputs,l.inputs),Y(r.declaredInputs,l.declaredInputs),Y(r.outputs,l.outputs),ni(l)&&l.data.animation){const A=r.data;A.animation=(A.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let m=0;m<h.length;m++){const _=h[m];_&&_.ngInherit&&_(r),_===lC&&(o=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,o=null;for(let u=r.length-1;u>=0;u--){const l=r[u];l.hostVars=i+=l.hostVars,l.hostAttrs=Ei(l.hostAttrs,o=Ei(o,l.hostAttrs))}}(u)}function cC(r){return r===Ue?{}:r===Ve?[]:r}function kM(r,i){const o=r.viewQuery;r.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function PM(r,i){const o=r.contentQueries;r.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function FM(r,i){const o=r.hostBindings;r.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}let Fc=null;function Tu(){if(!Fc){const r=$.Symbol;if(r&&r.iterator)Fc=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Fc=u)}}}return Fc}function xl(r){return!!oy(r)&&(Array.isArray(r)||!(r instanceof Map)&&Tu()in r)}function oy(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function di(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function oE(r,i,o,u){const l=we();return di(l,ks(),i)&&(bt(),Mo(dn(),l,r,i,o,u)),oE}function DA(r,i,o,u,l,h,m,_){const b=we(),I=bt(),A=r+20,R=I.firstCreatePass?function(r,i,o,u,l,h,m,_,b){const I=i.consts,A=Nc(i,r,4,m||null,Ji(I,_));fh(i,o,A,Ji(I,b)),rl(i,A);const R=A.tViews=qm(2,A,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,I);return null!==i.queries&&(i.queries.template(i,A),R.queries=i.queries.embeddedTView(A)),A}(A,I,b,i,o,u,l,h,m):I.data[A];ri(R,!1);const O=b[11].createComment("");ip(I,b,O,R),nn(O,b),Uv(b,b[A]=Vv(O,b,O,R)),Zo(R)&&fp(I,b,R),null!=m&&Hm(b,R,_)}function Ap(r,i=Te.Default){const o=we();return null===o?Tn(r,i):si(vn(),o,W(r),i)}function my(r,i,o){const u=we();return di(u,ks(),i)&&us(bt(),dn(),u,r,i,u[11],o,!1),my}function vE(r,i,o,u,l){const m=l?"class":"style";Hw(r,o,i.inputs[m],m,u)}function EE(r,i,o,u){const l=we(),h=bt(),m=20+r,_=l[11],b=l[m]=ah(_,i,rt.lFrame.currentNamespace),I=h.firstCreatePass?function(r,i,o,u,l,h,m){const _=i.consts,I=Nc(i,r,2,l,Ji(_,h));return fh(i,o,I,Ji(_,m)),null!==I.attrs&&Zv(I,I.attrs,!1),null!==I.mergedAttrs&&Zv(I,I.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,I),I}(m,h,l,0,i,o,u):h.data[m];ri(I,!0);const A=I.mergedAttrs;null!==A&&eu(_,b,A);const R=I.classes;null!==R&&Vm(_,b,R);const O=I.styles;null!==O&&lw(_,b,O),64!=(64&I.flags)&&ip(h,l,b,I),0===rt.lFrame.elementDepthCount&&nn(b,l),rt.lFrame.elementDepthCount++,Zo(I)&&(fp(h,l,I),function(r,i,o){if(xs(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const m=r.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}(h,I,l)),null!==u&&Hm(l,I)}function yy(){let r=vn();Wa()?rt.lFrame.isParent=!1:(r=r.parent,ri(r,!1));const i=r;rt.lFrame.elementDepthCount--;const o=bt();o.firstCreatePass&&(rl(o,r),xs(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&vE(o,i,we(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&vE(o,i,we(),i.stylesWithoutHost,!1)}function CC(r,i,o,u){EE(r,i,o,u),yy()}function qA(){return we()}function _y(r){return!!r&&"function"==typeof r.then}function IC(r){return!!r&&"function"==typeof r.subscribe}const TC=IC;function DC(r,i,o,u){const l=we(),h=bt(),m=vn();return function(r,i,o,u,l,h,m,_){const b=Zo(u),A=r.firstCreatePass&&dA(r),R=i[8],O=Ym(i);let B=!0;if(3&u.type||_){const Q=xr(u,i),Me=_?_(Q):Q,me=O.length,Qe=_?ot=>_(It(ot[u.index])):u.index;if(Kt(o)){let ot=null;if(!_&&b&&(ot=function(r,i,o,u){const l=r.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const m=l[h];if(m===o&&l[h+1]===u){const _=i[7],b=l[h+2];return _.length>b?_[b]:null}"string"==typeof m&&(h+=2)}return null}(r,i,l,u.index)),null!==ot)(ot.__ngLastListenerFn__||ot).__ngNextListenerFn__=h,ot.__ngLastListenerFn__=h,B=!1;else{h=wE(u,i,R,h,!1);const wt=o.listen(Me,l,h);O.push(h,wt),A&&A.push(l,Qe,me,me+1)}}else h=wE(u,i,R,h,!0),Me.addEventListener(l,h,m),O.push(h),A&&A.push(l,Qe,me,m)}else h=wE(u,i,R,h,!1);const q=u.outputs;let se;if(B&&null!==q&&(se=q[l])){const Q=se.length;if(Q)for(let Me=0;Me<Q;Me+=2){const fr=i[se[Me]][se[Me+1]].subscribe(h),vs=O.length;O.push(h,fr),A&&A.push(l,u.index,vs,-(vs+1))}}}(h,l,l[11],m,r,i,!!o,u),DC}function SC(r,i,o,u){try{return!1!==o(u)}catch(l){return hA(r,l),!1}}function wE(r,i,o,u,l){return function h(m){if(m===Function)return u;const _=2&r.flags?ir(r.index,i):i;0==(32&i[2])&&Uw(_);let b=SC(i,0,u,m),I=h.__ngNextListenerFn__;for(;I;)b=SC(i,0,I,m)&&b,I=I.__ngNextListenerFn__;return l&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function xC(r=1){return function(r){return(rt.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,rt.lFrame.contextLView))[8]}(r)}function Sp(r,i,o,u,l){const h=r[o+1],m=null===i;let _=u?Gs(h):Eu(h),b=!1;for(;0!==_&&(!1===b||m);){const A=r[_+1];TE(r[_],i)&&(b=!0,r[_+1]=u?_w(A):yw(A)),_=u?Gs(A):Eu(A)}b&&(r[o+1]=u?yw(h):_w(h))}function TE(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&M(r,i)>=0}function Mp(r,i){return function(r,i,o,u){const l=we(),h=bt(),m=function(r){const i=rt.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2);h.firstUpdatePass&&function(r,i,o,u){const l=r.data;if(null===l[o+1]){const h=l[Mr()],m=function(r,i){return i>=r.expandoStartIndex}(r,o);(function(r,i){return 0!=(r.flags&(i?16:32))})(h,u)&&null===i&&!m&&(i=!1),i=function(r,i,o,u){const l=function(r){const i=rt.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=Rp(o=RE(null,r,i,o,u),i.attrs,u),h=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==l)if(o=RE(l,r,i,o,u),null===h){let b=function(r,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Eu(u))return r[Gs(u)]}(r,i,u);void 0!==b&&Array.isArray(b)&&(b=RE(null,r,i,b[1],u),b=Rp(b,i.attrs,u),function(r,i,o,u){r[Gs(o?i.classBindings:i.styleBindings)]=u}(r,i,u,b))}else h=function(r,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=Rp(u,r[h].hostAttrs,o);return Rp(u,i.attrs,o)}(r,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function(r,i,o,u,l,h){let m=h?i.classBindings:i.styleBindings,_=Gs(m),b=Eu(m);r[u]=o;let A,I=!1;if(Array.isArray(o)){const R=o;A=R[1],(null===A||M(R,A)>0)&&(I=!0)}else A=o;if(l)if(0!==b){const O=Gs(r[_+1]);r[u+1]=Zi(O,_),0!==O&&(r[O+1]=up(r[O+1],u)),r[_+1]=function(r,i){return 131071&r|i<<17}(r[_+1],u)}else r[u+1]=Zi(_,0),0!==_&&(r[_+1]=up(r[_+1],u)),_=u;else r[u+1]=Zi(b,0),0===_?_=u:r[b+1]=up(r[b+1],u),b=u;I&&(r[u+1]=yw(r[u+1])),Sp(r,A,u,!0),Sp(r,A,u,!1),function(r,i,o,u,l){const h=l?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&M(h,i)>=0&&(o[u+1]=_w(o[u+1]))}(i,A,r,u,h),m=Zi(_,b),h?i.classBindings=m:i.styleBindings=m}(l,h,i,o,m,u)}}(h,r,m,u),i!==ht&&di(l,m,i)&&function(r,i,o,u,l,h,m,_){if(!(3&i.type))return;const b=r.data,I=b[_+1];Np(function(r){return 1==(1&r)}(I)?HC(b,i,o,l,Eu(I),m):void 0)||(Np(h)||function(r){return 2==(2&r)}(I)&&(h=HC(b,null,o,l,_,m)),function(r,i,o,u,l){const h=Kt(r);if(i)l?h?r.addClass(o,u):o.classList.add(u):h?r.removeClass(o,u):o.classList.remove(u);else{let m=-1===u.indexOf("-")?void 0:T.DashCase;if(null==l)h?r.removeStyle(o,u,m):o.style.removeProperty(u);else{const _="string"==typeof l&&l.endsWith("!important");_&&(l=l.slice(0,-10),m|=T.Important),h?r.setStyle(o,u,l,m):o.style.setProperty(u,l,_?"important":"")}}}(u,m,ho(Mr(),o),l,h))}(h,h.data[Mr()],l,l[11],r,l[m+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=K(as(r)))),r}(i,o),u,m)}(r,i,null,!0),Mp}function RE(r,i,o,u,l){let h=null;const m=o.directiveEnd;let _=o.directiveStylingLast;for(-1===_?_=o.directiveStart:_++;_<m&&(h=i[_],u=Rp(u,h.hostAttrs,l),h!==r);)_++;return null!==r&&(o.directiveStylingLast=_),u}function Rp(r,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const m=i[h];"number"==typeof m?l=m:l===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),C(r,m,!!o||i[++h]))}return void 0===r?null:r}function HC(r,i,o,u,l,h){const m=null===i;let _;for(;l>0;){const b=r[l],I=Array.isArray(b),A=I?b[1]:b,R=null===A;let O=o[l+1];O===ht&&(O=R?Ve:void 0);let B=R?D(O,u):A===u?O:void 0;if(I&&!Np(B)&&(B=D(b,u)),Np(B)&&(_=B,m))return _;const q=r[l+1];l=m?Gs(q):Eu(q)}if(null!==i){let b=h?i.residualClasses:i.residualStyles;null!=b&&(_=D(b,u))}return _}function Np(r){return void 0!==r}function Cy(r,i=""){const o=we(),u=bt(),l=r+20,h=u.firstCreatePass?Nc(u,l,1,i,null):u.data[l],m=o[l]=function(r,i){return Kt(r)?r.createText(i):r.createTextNode(i)}(o[11],i);ip(u,o,m,h),ri(h,!1)}function Op(r){return Iy("",r,""),Op}function Iy(r,i,o){const u=we(),l=function(r,i,o,u){return di(r,ks(),o)?i+Oe(o)+u:ht}(u,r,i,o);return l!==ht&&wu(u,Mr(),l),Iy}function ZE(r,i,o){const u=we();return di(u,ks(),i)&&us(bt(),dn(),u,r,i,u[11],o,!0),ZE}const Su=void 0;var iS=["en",[["a","p"],["AM","PM"],Su],[["AM","PM"],Su,Su],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Su,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Su,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Su,"{1} 'at' {0}",Su],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),o=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let Ol={};function qE(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=Ny(i);if(o)return o;const u=i.split("-")[0];if(o=Ny(u),o)return o;if("en"===u)return iS;throw new Error(`Missing locale data for the locale "${r}".`)}function Ry(r){return qE(r)[it.PluralCase]}function Ny(r){return r in Ol||(Ol[r]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[r]),Ol[r]}var it=(()=>((it=it||{})[it.LocaleId=0]="LocaleId",it[it.DayPeriodsFormat=1]="DayPeriodsFormat",it[it.DayPeriodsStandalone=2]="DayPeriodsStandalone",it[it.DaysFormat=3]="DaysFormat",it[it.DaysStandalone=4]="DaysStandalone",it[it.MonthsFormat=5]="MonthsFormat",it[it.MonthsStandalone=6]="MonthsStandalone",it[it.Eras=7]="Eras",it[it.FirstDayOfWeek=8]="FirstDayOfWeek",it[it.WeekendRange=9]="WeekendRange",it[it.DateFormat=10]="DateFormat",it[it.TimeFormat=11]="TimeFormat",it[it.DateTimeFormat=12]="DateTimeFormat",it[it.NumberSymbols=13]="NumberSymbols",it[it.NumberFormats=14]="NumberFormats",it[it.CurrencyCode=15]="CurrencyCode",it[it.CurrencySymbol=16]="CurrencySymbol",it[it.CurrencyName=17]="CurrencyName",it[it.Currencies=18]="Currencies",it[it.Directionality=19]="Directionality",it[it.PluralCase=20]="PluralCase",it[it.ExtraData=21]="ExtraData",it))();const Lp="en-US";let sI=Lp;function xu(r){ln(r,"Expected localeId to be defined"),"string"==typeof r&&(sI=r.toLowerCase().replace(/_/g,"-"))}function Ah(r,i,o,u,l){if(r=W(r),Array.isArray(r))for(let h=0;h<r.length;h++)Ah(r[h],i,o,u,l);else{const h=bt(),m=we();let _=Cu(r)?r:W(r.provide),b=ey(r);const I=vn(),A=1048575&I.providerIndexes,R=I.directiveStart,O=I.providerIndexes>>20;if(Cu(r)||!r.multi){const B=new Xa(b,l,Ap),q=Bc(_,i,l?A:A+O,R);-1===q?(tn(_o(I,m),h,_),Wp(h,r,i.length),i.push(_),I.directiveStart++,I.directiveEnd++,l&&(I.providerIndexes+=1048576),o.push(B),m.push(B)):(o[q]=B,m[q]=B)}else{const B=Bc(_,i,A+O,R),q=Bc(_,i,A,A+O),se=B>=0&&o[B],Q=q>=0&&o[q];if(l&&!Q||!l&&!se){tn(_o(I,m),h,_);const Me=function(r,i,o,u,l){const h=new Xa(r,o,Ap);return h.multi=[],h.index=i,h.componentProviders=0,ub(h,l,u&&!o),h}(l?_S:zp,o.length,l,u,b);!l&&Q&&(o[q].providerFactory=Me),Wp(h,r,i.length,0),i.push(_),I.directiveStart++,I.directiveEnd++,l&&(I.providerIndexes+=1048576),o.push(Me),m.push(Me)}else Wp(h,r,B>-1?B:q,ub(o[l?q:B],b,!l&&u));!l&&u&&Q&&o[q].componentProviders++}}}function Wp(r,i,o,u){const l=Cu(i);if(l||function(r){return!!r.useClass}(i)){const m=(i.useClass||i).prototype.ngOnDestroy;if(m){const _=r.destroyHooks||(r.destroyHooks=[]);if(!l&&i.multi){const b=_.indexOf(o);-1===b?_.push(o,[u,m]):_[b+1].push(u,m)}else _.push(o,m)}}}function ub(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Bc(r,i,o,u){for(let l=o;l<u;l++)if(i[l]===r)return l;return-1}function zp(r,i,o,u){return Zn(this.multi,[])}function _S(r,i,o,u){const l=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,_=vo(o,o[1],this.providerFactory.index,u);h=_.slice(0,m),Zn(l,h);for(let b=m;b<_.length;b++)h.push(_[b])}else h=[],Zn(l,h);return h}function Zn(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function DI(r,i=[]){return o=>{o.providersResolver=(u,l)=>function(r,i,o){const u=bt();if(u.firstCreatePass){const l=ni(r);Ah(o,u.data,u.blueprint,l,!0),Ah(i,u.data,u.blueprint,l,!1)}}(u,l?l(r):r,i)}}class AI{}const lb="ngComponent";class xI{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${K(r)}. Did you add it to @NgModule.entryComponents?`);return i[lb]=r,i}(i)}}let Nu=(()=>{class r{}return r.NULL=new xI,r})();function Kp(...r){}function Ll(r,i){return new ds(xr(r,i))}const cb=function(){return Ll(vn(),we())};let ds=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=cb,r})();function db(r){return r instanceof ds?r.nativeElement:r}class jc{}let IS=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>NI(),r})();const NI=function(){const r=we(),o=ir(vn().index,r);return function(r){return r[11]}(Ri(o)?o:r)};let Qp=(()=>{class r{}return r.\u0275prov=Ct({token:r,providedIn:"root",factory:()=>null}),r})();class fb{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Sh=new fb("12.2.16");class pb{constructor(){}supports(i){return xl(i)}create(i){return new PI(i)}}const kI=(r,i)=>i;class PI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||kI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const m=!u||o&&o.currentIndex<Jp(u,l,h)?o:u,_=Jp(m,l,h),b=m.currentIndex;if(m===u)l--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)l++;else{h||(h=[]);const I=_-l,A=b-l;if(I!=A){for(let O=0;O<I;O++){const B=O<h.length?h[O]:h[O]=0,q=B+O;A<=q&&q<I&&(h[O]=B+1)}h[m.previousIndex]=A-I}}_!==b&&i(m,_,b)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!xl(i))throw new Error(`Error trying to diff '${K(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,m,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let _=0;_<this.length;_++)h=i[_],m=this._trackByFn(_,h),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,h,m,_)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,_),u=!0),o=o._next}else l=0,function(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Tu()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,_=>{m=this._trackByFn(l,_),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,_,m,l)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,m,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new FI(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new gb),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gb),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class FI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class gb{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new LI,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jp(r,i,o){const u=r.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class qi{constructor(){}supports(i){return i instanceof Map||oy(i)}create(){return new VI}}class VI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||oy(i)))throw new Error(`Error trying to diff '${K(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,m=l._next;return h&&(h._next=m),m&&(m._prev=h),l._next=null,l._prev=null,l}const u=new UI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class UI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $c(){return new Ky([new pb])}let Ky=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||$c()),deps:[[r,new sa,new Bi]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(r){return r.name||typeof r}(o)}'`)}}return r.\u0275prov=Ct({token:r,providedIn:"root",factory:$c}),r})();function Yy(){return new Qy([new qi])}let Qy=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||Yy()),deps:[[r,new sa,new Bi]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return r.\u0275prov=Ct({token:r,providedIn:"root",factory:Yy}),r})();function Jy(r,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(It(h)),yn(h))for(let _=10;_<h.length;_++){const b=h[_],I=b[1].firstChild;null!==I&&Jy(b[1],b,I,u)}const m=o.type;if(8&m)Jy(r,i,o.child,u);else if(32&m){const _=j(o,i);let b;for(;b=_();)u.push(b)}else if(16&m){const _=LD(i,o);if(Array.isArray(_))u.push(..._);else{const b=De(i[16]);Jy(b[1],b,_,u,!0)}}o=l?o.projectionNext:o.next}return u}class Mh{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return Jy(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(yn(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(mv(i,u),bo(o,u))}this._attachedToViewContainer=!1}ow(this._lView[1],this._lView)}onDestroy(i){Pv(this._lView[1],this._lView,null,i)}markForCheck(){Uw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){jv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,o){Pi(!0);try{jv(r,i,o)}finally{Pi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,sp(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class DS extends Mh{constructor(i){super(i),this._view=i}detectChanges(){$v(this._view)}checkNoChanges(){!function(r){Pi(!0);try{$v(r)}finally{Pi(!1)}}(this._view)}get context(){return null}}const BI=function(r){return function(r,i,o){if(La(r)&&!o){const u=ir(r.index,i);return new Mh(u,u)}return 47&r.type?new Mh(i[16],i):null}(vn(),we(),16==(16&r))};let Gr=(()=>{class r{}return r.__NG_ELEMENT_ID__=BI,r})();const mb=[new qi],Ne=new Ky([new pb]),cr=new Qy(mb),tt=function(){return Ae(vn(),we())};let st=(()=>{class r{}return r.__NG_ELEMENT_ID__=tt,r})();const SS=st,Le=class extends SS{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i){const o=this._declarationTContainer.tViews,u=Sl(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(u[19]=h.createEmbeddedView(o)),hp(o,u,i),new Mh(u)}};function Ae(r,i){return 4&r.type?new Le(i,r,Ll(r,i)):null}class An{}class yb{}const MS=function(){return HI(vn(),we())};let e_=(()=>{class r{}return r.__NG_ELEMENT_ID__=MS,r})();const $I=e_,ZI=class extends $I{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Ll(this._hostTNode,this._hostLView)}get injector(){return new is(this._hostTNode,this._hostLView)}get parentInjector(){const i=Xo(this._hostTNode,this._hostLView);if(ll(i)){const o=nu(i,this._hostLView),u=tu(i);return new is(o[1].data[u+8],o)}return new is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=NS(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){const l=i.createEmbeddedView(o||{});return this.insert(l,u),l}createComponent(i,o,u,l,h){const m=u||this.parentInjector;if(!h&&null==i.ngModule&&m){const b=m.get(An,null);b&&(h=b)}const _=i.create(m,l,void 0,h);return this.insert(_.hostView,o),_}insert(i,o){const u=i._lView,l=u[1];if(yn(u[3])){const A=this.indexOf(i);if(-1!==A)this.detach(A);else{const R=u[3],O=new ZI(R,R[6],R[3]);O.detach(O.indexOf(i))}}const h=this._adjustIndex(o),m=this._lContainer;!function(r,i,o,u){const l=10+u,h=o.length;u>0&&(o[l-1][4]=i),u<h-10?(i[4]=o[l],Vi(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const _=i[19];null!==_&&_.insertView(r),i[2]|=128}(l,u,m,h);const _=vu(h,m),b=u[11],I=Fm(b,m[7]);return null!==I&&function(r,i,o,u,l,h){u[0]=l,u[6]=i,sp(r,u,o,1,l,h)}(l,m[6],b,u,I,_),i.attachToViewContainerRef(),Vi(Di(m),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=NS(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=mv(this._lContainer,o);u&&(bo(Di(this._lContainer),o),ow(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=mv(this._lContainer,o);return u&&null!=bo(Di(this._lContainer),o)?new Mh(u):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function NS(r){return r[8]}function Di(r){return r[8]||(r[8]=[])}function HI(r,i){let o;const u=i[r.index];if(yn(u))o=u;else{let l;if(8&r.type)l=It(u);else{const h=i[11];l=h.createComment("");const m=xr(r,i);ha(h,Fm(h,m),l,function(r,i){return Kt(r)?r.nextSibling(i):i.nextSibling}(h,m),!1)}i[r.index]=o=Vv(u,i,l,r),Uv(i,o)}return new ZI(o,r,i)}const Aa={};class dr extends Nu{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Un(i);return new cT(o,this.ngModule)}}function ag(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}const qn=new Yt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Rm});class cT extends AI{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=i.selectors.map(qD).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return ag(this.componentDef.inputs)}get outputs(){return ag(this.componentDef.outputs)}create(i,o,u,l){const h=(l=l||this.ngModule)?function(r,i){return{get:(o,u,l)=>{const h=r.get(o,Aa,l);return h!==Aa||u===Aa?h:i.get(o,u,l)}}}(i,l.injector):i,m=h.get(jc,Za),_=h.get(Qp,null),b=m.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=u?function(r,i,o){if(Kt(r))return r.selectRootElement(i,o===vt.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(b,u,this.componentDef.encapsulation):ah(m.createRenderer(null,this.componentDef),I,function(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(I)),R=this.componentDef.onPush?576:528,O=function(r,i){return{components:[],scheduler:r||Rm,clean:SM,playerHandler:i||null,flags:0}}(),B=qm(0,null,null,1,0,null,null,null,null,null),q=Sl(null,B,O,R,null,null,m,b,_,h);let se,Q;ns(q);try{const Me=function(r,i,o,u,l,h){const m=o[1];o[20]=r;const b=Nc(m,20,2,"#host",null),I=b.mergedAttrs=i.hostAttrs;null!==I&&(Zv(b,I,!0),null!==r&&(eu(l,r,I),null!==b.classes&&Vm(l,r,b.classes),null!==b.styles&&lw(l,r,b.styles)));const A=u.createRenderer(r,i),R=Sl(o,hh(i),null,i.onPush?64:16,o[20],b,u,A,h||null,null);return m.firstCreatePass&&(tn(_o(b,o),m,i.type),Ow(m,b),kw(b,o.length,1)),Uv(o,R),o[20]=R}(A,this.componentDef,q,m,b);if(A)if(u)eu(b,A,["ng-version",Sh.full]);else{const{attrs:me,classes:Qe}=function(r){const i=[],o=[];let u=1,l=2;for(;u<r.length;){let h=r[u];if("string"==typeof h)2===l?""!==h&&i.push(h,r[++u]):8===l&&o.push(h);else{if(!xo(l))break;l=h}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);me&&eu(b,A,me),Qe&&Qe.length>0&&Vm(b,A,Qe.join(" "))}if(Q=ki(B,20),void 0!==o){const me=Q.projection=[];for(let Qe=0;Qe<this.ngContentSelectors.length;Qe++){const ot=o[Qe];me.push(null!=ot?Array.from(ot):null)}}se=function(r,i,o,u,l){const h=o[1],m=function(r,i,o){const u=vn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),pp(r,u,i,ch(r,i,1,null),o));const l=vo(i,r,u.directiveStart,u);nn(l,i);const h=xr(u,i);return h&&nn(h,i),l}(h,o,i);if(u.components.push(m),r[8]=m,l&&l.forEach(b=>b(m,i)),i.contentQueries){const b=vn();i.contentQueries(1,m,b.directiveStart)}const _=vn();return!h.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||($r(_.index),Rw(o[1],_,0,_.directiveStart,_.directiveEnd,i),Nw(i,m)),m}(Me,this.componentDef,q,O,[bA]),hp(B,q,null)}finally{nl()}return new Lb(this.componentType,se,Ll(Q,q),q,Q)}}class Lb extends class{}{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new DS(l),this.componentType=i}get injector(){return new is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Qc=new Map;class ug extends An{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new dr(this);const u=rr(i),l=i[Mt]||null;l&&xu(l),this._bootstrapComponents=qs(u.bootstrap),this._r3Injector=Gv(i,o,[{provide:An,useValue:this},{provide:Nu,useValue:this.componentFactoryResolver}],K(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=Dn.THROW_IF_NOT_FOUND,u=Te.Default){return i===Dn||i===An||i===yp?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class jh extends yb{constructor(i){super(),this.moduleType=i,null!==rr(i)&&function(r){const i=new Set;!function o(u){const l=rr(u,!0),h=l.id;null!==h&&(function(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${K(i)} vs ${K(i.name)}`)}(h,Qc.get(h),u),Qc.set(h,u));const m=qs(l.imports);for(const _ of m)i.has(_)||(i.add(_),o(_))}(r)}(i)}create(i){return new ug(this.moduleType,i)}}function g_(r){return i=>{setTimeout(r,void 0,i)}}const xa=class extends c.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){var l,h,m;let _=i,b=o||(()=>null),I=u;if(i&&"object"==typeof i){const R=i;_=null===(l=R.next)||void 0===l?void 0:l.bind(R),b=null===(h=R.error)||void 0===h?void 0:h.bind(R),I=null===(m=R.complete)||void 0===m?void 0:m.bind(R)}this.__isAsync&&(b=g_(b),_&&(_=g_(_)),I&&(I=g_(I)));const A=super.subscribe({next:_,error:b,complete:I});return i instanceof J.w&&i.add(A),A}};function bT(){return this._results[Tu()]()}class fg{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Tu(),u=fg.prototype;u[o]||(u[o]=bT)}get changes(){return this._changes||(this._changes=new xa)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=oi(i);(this._changesDetected=!function(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let l=r[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class m_{constructor(i){this.queryList=i,this.matches=null}clone(){return new m_(this.queryList)}setDirty(){this.queryList.setDirty()}}class y_{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const m=o.getByIndex(h);l.push(this.queries[m.indexInDeclarationView].clone())}return new y_(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==AT(i,o).matches&&this.queries[o].setDirty()}}class CT{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class jb{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new jb(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Hl{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Hl(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,Hh(o,h)),this.matchTNodeWithReadOption(i,o,ta(o,i,h,!1,!1))}else u===st?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,ta(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===ds||l===e_||l===st&&4&o.type)this.addMatch(o.index,-2);else{const h=ta(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function Hh(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function XS(r,i,o,u){return-1===o?function(r,i){return 11&r.type?Ll(r,i):4&r.type?Ae(r,i):null}(i,r):-2===o?function(r,i,o){return o===ds?Ll(i,r):o===st?Ae(i,r):o===e_?HI(i,r):void 0}(r,i,u):vo(r,r[1],o,i)}function $b(r,i,o,u){const l=i[19].queries[u];if(null===l.matches){const h=r.data,m=o.matches,_=[];for(let b=0;b<m.length;b+=2){const I=m[b];_.push(I<0?null:XS(i,h[I],m[b+1],o.metadata.read))}l.matches=_}return l.matches}function fs(r,i,o,u){const l=r.queries.getByIndex(o),h=l.matches;if(null!==h){const m=$b(r,i,l,o);for(let _=0;_<h.length;_+=2){const b=h[_];if(b>0)u.push(m[_/2]);else{const I=h[_+1],A=i[-b];for(let R=10;R<A.length;R++){const O=A[R];O[17]===O[3]&&fs(O[1],O,I,u)}if(null!==A[9]){const R=A[9];for(let O=0;O<R.length;O++){const B=R[O];fs(B[1],B,I,u)}}}}}return u}function IT(r){const i=we(),o=bt(),u=xd();el(u+1);const l=AT(o,u);if(r.dirty&&Gu(i)===(2==(2&l.metadata.flags))){if(null===l.matches)r.reset([]);else{const h=l.crossesNgTemplate?fs(o,i,u,[]):$b(o,i,l,u);r.reset(h,db),r.notifyOnChanges()}return!0}return!1}function Ma(r,i,o,u){const l=bt();if(l.firstCreatePass){const h=vn();(function(r,i,o){null===r.queries&&(r.queries=new jb),r.queries.track(new Hl(i,o))})(l,new CT(i,o,u),h.index),function(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(l,r),2==(2&o)&&(l.staticContentQueries=!0)}!function(r,i,o){const u=new fg(4==(4&o));Pv(r,i,u,u.destroy),null===i[19]&&(i[19]=new y_),i[19].queries.push(new m_(u))}(l,we(),o)}function DT(){return r=we(),i=xd(),r[19].queries[i].queryList;var r,i}function AT(r,i){return r.queries.getByIndex(i)}const Eg=new Yt("Application Initializer");let Qh=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Kp,this.reject=Kp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(_y(h))o.push(h);else if(TC(h)){const m=new Promise((_,b)=>{h.subscribe({complete:_,error:b})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Tn(Eg,8))},r.\u0275prov=Ct({token:r,factory:r.\u0275fac}),r})();const Xb=new Yt("AppId"),BT={provide:Xb,useFactory:function(){return`${t0()}${t0()}${t0()}`},deps:[]};function t0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const n0=new Yt("Platform Initializer"),r0=new Yt("Platform ID"),T_=new Yt("appBootstrapListener");let s0=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ct({token:r,factory:r.\u0275fac}),r})();const D_=new Yt("LocaleId"),o0=new Yt("DefaultCurrencyCode");class jT{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}const l0=function(r){return new jh(r)},c0=l0,gx=function(r){return Promise.resolve(l0(r))},Tr=function(r){const i=l0(r),u=qs(rr(r).declarations).reduce((l,h)=>{const m=Un(h);return m&&l.push(new cT(m)),l},[]);return new jT(i,u)},mx=Tr,yx=function(r){return Promise.resolve(Tr(r))};let Ig=(()=>{class r{constructor(){this.compileModuleSync=c0,this.compileModuleAsync=gx,this.compileModuleAndAllComponentsSync=mx,this.compileModuleAndAllComponentsAsync=yx}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ct({token:r,factory:r.\u0275fac}),r})();const qT=(()=>Promise.resolve(0))();function A_(r){"undefined"==typeof Zone?qT.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class pi{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xa(!1),this.onMicrotaskEmpty=new xa(!1),this.onStable=new xa(!1),this.onError=new xa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let r=$.requestAnimationFrame,i=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call($,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Dg(r),r.isCheckStableRunning=!0,Jh(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Dg(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,m,_)=>{try{return g0(r),o.invokeTask(l,h,m,_)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),GT(r)}},onInvoke:(o,u,l,h,m,_,b)=>{try{return g0(r),o.invoke(l,h,m,_,b)}finally{r.shouldCoalesceRunChangeDetection&&i(),GT(r)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,Dg(r),Jh(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+l,i,Tg,Kp,Kp);try{return h.runTask(m,o,u)}finally{h.cancelTask(m)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const Tg={};function Jh(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Dg(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function g0(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function GT(r){r._nesting--,Jh(r)}class WT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xa,this.onMicrotaskEmpty=new xa,this.onStable=new xa,this.onError=new xa}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}let zT=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pi.assertNotInAngularZone(),A_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())A_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,l){return[]}}return r.\u0275fac=function(o){return new(o||r)(Tn(pi))},r.\u0275prov=Ct({token:r,factory:r.\u0275fac}),r})(),KT=(()=>{class r{constructor(){this._applications=new Map,Xh.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Xh.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ct({token:r,factory:r.\u0275fac}),r})();class vx{addToWindow(i){}findTestabilityInTree(i,o,u){return null}}function YT(r){Xh=r}let Xh=new vx,ef=!0,S_=!1;function x_(){return S_=!0,ef}function Ex(){if(S_)throw new Error("Cannot enable prod mode after platform setup.");ef=!1}let Fo;const R_=new Yt("AllowMultipleToken");class QT{constructor(i,o){this.name=i,this.token=o}}function N_(r,i,o=[]){const u=`Platform: ${i}`,l=new Yt(u);return(h=[])=>{let m=JT();if(!m||m.injector.get(R_,!1))if(r)r(o.concat(h).concat({provide:l,useValue:!0}));else{const _=o.concat(h).concat({provide:l,useValue:!0},{provide:Qm,useValue:"platform"});!function(r){if(Fo&&!Fo.destroyed&&!Fo.injector.get(R_,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Fo=r.get(O_);const i=r.get(n0,null);i&&i.forEach(o=>o())}(Dn.create({providers:_,name:u}))}return function(r){const i=JT();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(l)}}function JT(){return Fo&&!Fo.destroyed?Fo:null}let O_=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const _=function(r,i){let o;return o="noop"===r?new WT:("zone.js"===r?void 0:r)||new pi({enableLongStackTrace:x_(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),b=[{provide:pi,useValue:_}];return _.run(()=>{const I=Dn.create({providers:b,parent:this.injector,name:o.moduleType.name}),A=o.create(I),R=A.injector.get(_u,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.runOutsideAngular(()=>{const O=_.onError.subscribe({next:B=>{R.handleError(B)}});A.onDestroy(()=>{nf(this._modules,A),O.unsubscribe()})}),function(r,i,o){try{const u=o();return _y(u)?u.catch(l=>{throw i.runOutsideAngular(()=>r.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(R,_,()=>{const O=A.injector.get(Qh);return O.runInitializers(),O.donePromise.then(()=>(xu(A.injector.get(D_,Lp)||Lp),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,u=[]){const l=XT({},u);return function(r,i,o){const u=new jh(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(nd);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${K(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Tn(Dn))},r.\u0275prov=Ct({token:r,factory:r.\u0275fac}),r})();function XT(r,i){return Array.isArray(i)?i.reduce(XT,r):Object.assign(Object.assign({},r),i)}let nd=(()=>{class r{constructor(o,u,l,h,m){this._zone=o,this._injector=u,this._exceptionHandler=l,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new P.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),b=new P.y(I=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{pi.assertNotInAngularZone(),A_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{pi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{A.unsubscribe(),R.unsubscribe()}});this.isStable=(0,le.T)(_,b.pipe(r=>(0,ue.x)()(function(r,i){return function(u){let l;l="function"==typeof r?r:function(){return r};const h=Object.create(u,te.N);return h.source=u,h.subjectFactory=l,h}}(X)(r))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=o instanceof AI?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(l.componentType);const h=function(r){return r.isBoundToModule}(l)?void 0:this._injector.get(An),_=l.create(Dn.NULL,[],u||l.selector,h),b=_.location.nativeElement,I=_.injector.get(zT,null),A=I&&_.injector.get(KT);return I&&A&&A.registerApplication(b,I),_.onDestroy(()=>{this.detachView(_.hostView),nf(this.components,_),A&&A.unregisterApplication(b)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;nf(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(T_,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(Tn(pi),Tn(Dn),Tn(_u),Tn(Nu),Tn(Qh))},r.\u0275prov=Ct({token:r,factory:r.\u0275fac}),r})();function nf(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}class rf{}class C0{}const Dx={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let I0=(()=>{class r{constructor(o,u){this._compiler=o,this._config=u||Dx}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,l]=o.split("#");return void 0===l&&(l="default"),L(8255)(u).then(h=>h[l]).then(h=>nD(h,u,l)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(o){let[u,l]=o.split("#"),h="NgFactory";return void 0===l&&(l="default",h=""),L(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[l+h]).then(m=>nD(m,u,l))}}return r.\u0275fac=function(o){return new(o||r)(Tn(Ig),Tn(C0,8))},r.\u0275prov=Ct({token:r,factory:r.\u0275fac}),r})();function nD(r,i,o){if(!r)throw new Error(`Cannot find '${o}' in '${i}'`);return r}const oD=function(r){return null},Rx=N_(null,"core",[{provide:r0,useValue:"unknown"},{provide:O_,deps:[Dn]},{provide:KT,deps:[]},{provide:s0,deps:[]}]),Ox=[{provide:nd,useClass:nd,deps:[pi,Dn,_u,Nu,Qh]},{provide:qn,deps:[pi],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(o){i.push(o)}}},{provide:Qh,useClass:Qh,deps:[[new Bi,Eg]]},{provide:Ig,useClass:Ig,deps:[]},BT,{provide:Ky,useFactory:function(){return Ne},deps:[]},{provide:Qy,useFactory:function(){return cr},deps:[]},{provide:D_,useFactory:function(r){return xu(r=r||"undefined"!=typeof $localize&&$localize.locale||Lp),r},deps:[[new gl(D_),new Bi,new sa]]},{provide:o0,useValue:"USD"}];let lD=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Tn(nd))},r.\u0275mod=Vo({type:r}),r.\u0275inj=Dr({providers:Ox}),r})()},8939:(Je,Ee,L)=>{"use strict";L.d(Ee,{hO:()=>K,xv:()=>X,Dh:()=>ue,GT:()=>re,cc:()=>oe,on:()=>F,pX:()=>te});var c=L(3018),J=L(7841),P=L(463);Je=L.hmd(Je);const le=["ngOnDestroy"],te=(ge,fe,he,xe={})=>new Proxy(ge,{get:($e,Oe)=>he.runOutsideAngular(()=>{var At;if(ge[Oe])return(null===(At=null==xe?void 0:xe.spy)||void 0===At?void 0:At.get)&&xe.spy.get(Oe,ge[Oe]),ge[Oe];if(le.indexOf(Oe)>-1)return()=>{};const pt=fe.toPromise().then(pn=>{const _t=pn&&pn[Oe];return"function"==typeof _t?_t.bind(pn):_t&&_t.then?_t.then(Et=>he.run(()=>Et)):he.run(()=>_t)});return new Proxy(()=>{},{get:(pn,_t)=>pt[_t],apply:(pn,_t,Et)=>pt.then(ct=>{var ut;const xt=ct&&ct(...Et);return(null===(ut=null==xe?void 0:xe.spy)||void 0===ut?void 0:ut.apply)&&xe.spy.apply(Oe,Et,xt),xt})})})}),re=(ge,fe)=>{fe.forEach(he=>{Object.getOwnPropertyNames(he.prototype||he).forEach(xe=>{Object.defineProperty(ge.prototype,xe,Object.getOwnPropertyDescriptor(he.prototype||he,xe))})})};class pe{constructor(fe){return fe}}const ue=new c.OlP("angularfire2.app.options"),X=new c.OlP("angularfire2.app.name");function F(ge,fe,he){const $e="object"==typeof he&&he||{};$e.name=$e.name||"string"==typeof he&&he||"[DEFAULT]";const At=J.Z.apps.filter(pt=>pt&&pt.name===$e.name)[0]||fe.runOutsideAngular(()=>J.Z.initializeApp(ge,$e));try{JSON.stringify(ge)!==JSON.stringify(At.options)&&V("error",`${At.name} Firebase App already initialized with different options${Je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(pt){}return new pe(At)}const V=(ge,...fe)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ge](...fe)},Y={provide:pe,useFactory:F,deps:[ue,c.R0b,[new c.FiY,X]]};let K=(()=>{class ge{constructor(he){J.Z.registerVersion("angularfire",P.q4.full,"core"),J.Z.registerVersion("angularfire",P.q4.full,"app-compat"),J.Z.registerVersion("angular",c.q4F.full,he.toString())}static initializeApp(he,xe){return{ngModule:ge,providers:[{provide:ue,useValue:he},{provide:X,useValue:xe}]}}}return ge.\u0275fac=function(he){return new(he||ge)(c.LFG(c.Lbi))},ge.\u0275mod=c.oAB({type:ge}),ge.\u0275inj=c.cJS({providers:[Y]}),ge})();function oe(ge,fe,he,xe,$e){const[,Oe,At]=globalThis.\u0275AngularfireInstanceCache.find(pt=>pt[0]===ge)||[];if(Oe)return function(ge,fe){try{return ge.toString()===fe.toString()}catch(he){return ge===fe}}($e,At)||(W("error",`${fe} was already initialized on the ${he} Firebase App with different settings.${de?" You may need to reload as Firebase is not HMR aware.":""}`),W("warn",{is:$e,was:At})),Oe;{const pt=xe();return globalThis.\u0275AngularfireInstanceCache.push([ge,pt,$e]),pt}}const de=!!Je.hot,W=(ge,...fe)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ge](...fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},463:(Je,Ee,L)=>{"use strict";L.d(Ee,{q4:()=>Ld,iC:()=>ar,HU:()=>ai,vb:()=>su,JM:()=>fl});var c=L(3018),J=L(2329),P=L(8239),le=L(8026),te=L(3854),re=L(3910),pe=L(5422),ue=L(6676);const X="@firebase/installations",F="0.5.5",Y=`w:${F}`,K="FIS_v2",fe=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function he(C){return C instanceof te.ZR&&C.code.includes("request-failed")}function xe({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function $e(C){return{token:C.token,requestStatus:2,expiresIn:ct(C.expiresIn),creationTime:Date.now()}}function Oe(C,D){return At.apply(this,arguments)}function At(){return(At=(0,P.Z)(function*(C,D){const U=(yield D.json()).error;return fe.create("request-failed",{requestName:C,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function pt({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function pn(C,{refreshToken:D}){const M=pt(C);return M.append("Authorization",function(C){return`${K} ${C}`}(D)),M}function _t(C){return Et.apply(this,arguments)}function Et(){return(Et=(0,P.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function ct(C){return Number(C.replace("s","000"))}function xt(C,D){return We.apply(this,arguments)}function We(){return(We=(0,P.Z)(function*(C,{fid:D}){const M=xe(C),ae={method:"POST",headers:pt(C),body:JSON.stringify({fid:D,authVersion:K,appId:C.appId,sdkVersion:Y})},Ce=yield _t(()=>fetch(M,ae));if(Ce.ok){const Be=yield Ce.json();return{fid:Be.fid||D,registrationStatus:2,refreshToken:Be.refreshToken,authToken:$e(Be.authToken)}}throw yield Oe("Create Installation",Ce)})).apply(this,arguments)}function Jr(C){return new Promise(D=>{setTimeout(D,C)})}const to=/^[cdef][\w-]{21}$/;function Mn(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const M=function(C){return function(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return to.test(M)?M:""}catch(C){return""}}function Gi(C){return`${C.appName}!${C.appId}`}const Is=new Map;function Wi(C,D){const M=Gi(C);Gn(M,D),function(C,D){const M=(!Lt&&"BroadcastChannel"in self&&(Lt=new BroadcastChannel("[Firebase] FID Change"),Lt.onmessage=C=>{Gn(C.data.key,C.data.fid)}),Lt);M&&M.postMessage({key:C,fid:D}),0===Is.size&&Lt&&(Lt.close(),Lt=null)}(M,D)}function Gn(C,D){const M=Is.get(C);if(M)for(const U of M)U(D)}let Lt=null;const Ie="firebase-installations-store";let nr=null;function Rn(){return nr||(nr=(0,ue.openDb)("firebase-installations-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(Ie)}})),nr}function yi(C,D){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,P.Z)(function*(C,D){const M=Gi(C),z=(yield Rn()).transaction(Ie,"readwrite"),ae=z.objectStore(Ie),Ce=yield ae.get(M);return yield ae.put(D,M),yield z.complete,(!Ce||Ce.fid!==D.fid)&&Wi(C,D.fid),D})).apply(this,arguments)}function Br(C){return no.apply(this,arguments)}function no(){return(no=(0,P.Z)(function*(C){const D=Gi(C),U=(yield Rn()).transaction(Ie,"readwrite");yield U.objectStore(Ie).delete(D),yield U.complete})).apply(this,arguments)}function nt(C,D){return Te.apply(this,arguments)}function Te(){return(Te=(0,P.Z)(function*(C,D){const M=Gi(C),z=(yield Rn()).transaction(Ie,"readwrite"),ae=z.objectStore(Ie),Ce=yield ae.get(M),Be=D(Ce);return void 0===Be?yield ae.delete(M):yield ae.put(Be,M),yield z.complete,Be&&(!Ce||Ce.fid!==Be.fid)&&Wi(C,Be.fid),Be})).apply(this,arguments)}function Vt(C){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,P.Z)(function*(C){let D;const M=yield nt(C,U=>{const z=gn(U),ae=Ot(C,z);return D=ae.registrationPromise,ae.installationEntry});return""===M.fid?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}})).apply(this,arguments)}function gn(C){return vt(C||{fid:Mn(),registrationStatus:0})}function Ot(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(fe.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:M,registrationPromise:function(C,D){return qe.apply(this,arguments)}(C,M)}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Ar(C)}:{installationEntry:D}}function qe(){return(qe=(0,P.Z)(function*(C,D){try{return yi(C,yield xt(C,D))}catch(M){throw he(M)&&409===M.customData.serverCode?yield Br(C):yield yi(C,{fid:D.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Ar(C){return ro.apply(this,arguments)}function ro(){return(ro=(0,P.Z)(function*(C){let D=yield Ht(C);for(;1===D.registrationStatus;)yield Jr(100),D=yield Ht(C);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:U}=yield Vt(C);return U||M}return D})).apply(this,arguments)}function Ht(C){return nt(C,D=>{if(!D)throw fe.create("installation-not-found");return vt(D)})}function vt(C){return function(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function ju(C,D){return H.apply(this,arguments)}function H(){return(H=(0,P.Z)(function*({appConfig:C,platformLoggerProvider:D},M){const U=Z(C,M),z=pn(C,M),ae=D.getImmediate({optional:!0});ae&&z.append("x-firebase-client",ae.getPlatformInfoString());const Be={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:Y}})},je=yield _t(()=>fetch(U,Be));if(je.ok)return $e(yield je.json());throw yield Oe("Generate Auth Token",je)})).apply(this,arguments)}function Z(C,{fid:D}){return`${xe(C)}/${D}/authTokens:generate`}function $(C){return ve.apply(this,arguments)}function ve(){return(ve=(0,P.Z)(function*(C,D=!1){let M;const U=yield nt(C.appConfig,ae=>{if(!cn(ae))throw fe.create("not-registered");const Ce=ae.authToken;if(!D&&Sr(Ce))return ae;if(1===Ce.requestStatus)return M=ie(C,D),ae;{if(!navigator.onLine)throw fe.create("app-offline");const Be=on(ae);return M=Gt(C,Be),Be}});return M?yield M:U.authToken})).apply(this,arguments)}function ie(C,D){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,P.Z)(function*(C,D){let M=yield Ve(C.appConfig);for(;1===M.authToken.requestStatus;)yield Jr(100),M=yield Ve(C.appConfig);const U=M.authToken;return 0===U.requestStatus?$(C,D):U})).apply(this,arguments)}function Ve(C){return nt(C,D=>{if(!cn(D))throw fe.create("not-registered");return function(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Gt(C,D){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,P.Z)(function*(C,D){try{const M=yield ju(C,D),U=Object.assign(Object.assign({},D),{authToken:M});return yield yi(C.appConfig,U),M}catch(M){if(!he(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const U=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield yi(C.appConfig,U)}else yield Br(C.appConfig);throw M}})).apply(this,arguments)}function cn(C){return void 0!==C&&2===C.registrationStatus}function Sr(C){return 2===C.requestStatus&&!function(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function on(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function io(){return(io=(0,P.Z)(function*(C){const D=C,{installationEntry:M,registrationPromise:U}=yield Vt(D.appConfig);return U?U.catch(console.error):$(D).catch(console.error),M.fid})).apply(this,arguments)}function so(){return(so=(0,P.Z)(function*(C,D=!1){const M=C;return yield nc(M.appConfig),(yield $(M,D)).token})).apply(this,arguments)}function nc(C){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,P.Z)(function*(C){const{registrationPromise:D}=yield Vt(C);D&&(yield D)})).apply(this,arguments)}function rr(C){return fe.create("missing-app-config-values",{valueName:C})}const fd="installations";(0,le._registerComponent)(new re.wA(fd,C=>{const D=C.getProvider("app").getImmediate();return{app:D,appConfig:function(C){if(!C||!C.options)throw rr("App Configuration");if(!C.name)throw rr("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!C.options[M])throw rr(M);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D),platformLoggerProvider:(0,le._getProvider)(D,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,le._registerComponent)(new re.wA("installations-internal",C=>{const D=C.getProvider("app").getImmediate(),M=(0,le._getProvider)(D,fd).getImmediate();return{getId:()=>function(C){return io.apply(this,arguments)}(M),getToken:z=>function(C){return so.apply(this,arguments)}(M,z)}},"PRIVATE")),(0,le.registerVersion)(X,F),(0,le.registerVersion)(X,F,"esm2017");const mn="@firebase/remote-config",Nn=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _f{constructor(D,M,U,z){this.client=D,this.storage=M,this.storageCache=U,this.logger=z}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-M,z=U<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${z}.`),z}fetch(D){var M=this;return(0,P.Z)(function*(){const[U,z]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(z&&M.isCachedDataFresh(D.cacheMaxAgeMillis,U))return z;D.eTag=z&&z.eTag;const ae=yield M.client.fetch(D),Ce=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&Ce.push(M.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(Ce),ae})()}}function Ri(C=navigator){return C.languages&&C.languages[0]||C.language}class yn{constructor(D,M,U,z,ae,Ce){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=U,this.projectId=z,this.apiKey=ae,this.appId=Ce}fetch(D){var M=this;return(0,P.Z)(function*(){const[U,z]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Be={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},je={sdk_version:M.sdkVersion,app_instance_id:U,app_instance_id_token:z,app_id:M.appId,language_code:Ri()},kt={method:"POST",headers:Be,body:JSON.stringify(je)},$t=fetch(Ce,kt),Qn=new Promise((os,Co)=>{D.signal.addEventListener(()=>{const gt=new Error("The operation was aborted.");gt.name="AbortError",Co(gt)})});let Jn;try{yield Promise.race([$t,Qn]),Jn=yield $t}catch(os){let Co="fetch-client-network";throw"AbortError"===os.name&&(Co="fetch-timeout"),Nn.create(Co,{originalErrorMessage:os.message})}let Xn=Jn.status;const js=Jn.headers.get("ETag")||void 0;let wo,Ui;if(200===Jn.status){let os;try{os=yield Jn.json()}catch(Co){throw Nn.create("fetch-client-parse",{originalErrorMessage:Co.message})}wo=os.entries,Ui=os.state}if("INSTANCE_STATE_UNSPECIFIED"===Ui?Xn=500:"NO_CHANGE"===Ui?Xn=304:("NO_TEMPLATE"===Ui||"EMPTY_CONFIG"===Ui)&&(wo={}),304!==Xn&&200!==Xn)throw Nn.create("fetch-status",{httpStatus:Xn});return{status:Xn,eTag:js,config:wo}})()}}class Zo{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,P.Z)(function*(){const U=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,U)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:U}){var z=this;return(0,P.Z)(function*(){yield function(C,D){return new Promise((M,U)=>{const z=Math.max(D-Date.now(),0),ae=setTimeout(M,z);C.addEventListener(()=>{clearTimeout(ae),U(Nn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const ae=yield z.client.fetch(D);return yield z.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function(C){if(!(C instanceof te.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ae))throw ae;const Ce={throttleEndTimeMillis:Date.now()+(0,te.$s)(U),backoffCount:U+1};return yield z.storage.setThrottleMetadata(Ce),z.attemptFetch(D,Ce)}})()}}class zg{constructor(D,M,U,z,ae){this.app=D,this._client=M,this._storageCache=U,this._storage=z,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ho(C,D){const M=C.target.error||void 0;return Nn.create(D,{originalErrorMessage:M&&M.message})}const lo="app_namespace_store";class Kg{constructor(D,M,U,z=function(){return new Promise((C,D)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=U=>{D(Ho(U,"storage-open"))},M.onsuccess=U=>{C(U.target.result)},M.onupgradeneeded=U=>{const z=U.target.result;switch(U.oldVersion){case 0:z.createObjectStore(lo,{keyPath:"compositeKey"})}}}catch(M){D(Nn.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=D,this.appName=M,this.namespace=U,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,P.Z)(function*(){const U=yield M.openDbPromise;return new Promise((z,ae)=>{const Be=U.transaction([lo],"readonly").objectStore(lo),je=M.createCompositeKey(D);try{const kt=Be.get(je);kt.onerror=$t=>{ae(Ho($t,"storage-get"))},kt.onsuccess=$t=>{const Qn=$t.target.result;z(Qn?Qn.value:void 0)}}catch(kt){ae(Nn.create("storage-get",{originalErrorMessage:kt&&kt.message}))}})})()}set(D,M){var U=this;return(0,P.Z)(function*(){const z=yield U.openDbPromise;return new Promise((ae,Ce)=>{const je=z.transaction([lo],"readwrite").objectStore(lo),kt=U.createCompositeKey(D);try{const $t=je.put({compositeKey:kt,value:M});$t.onerror=Qn=>{Ce(Ho(Qn,"storage-set"))},$t.onsuccess=()=>{ae()}}catch($t){Ce(Nn.create("storage-set",{originalErrorMessage:$t&&$t.message}))}})})()}delete(D){var M=this;return(0,P.Z)(function*(){const U=yield M.openDbPromise;return new Promise((z,ae)=>{const Be=U.transaction([lo],"readwrite").objectStore(lo),je=M.createCompositeKey(D);try{const kt=Be.delete(je);kt.onerror=$t=>{ae(Ho($t,"storage-delete"))},kt.onsuccess=()=>{z()}}catch(kt){ae(Nn.create("storage-delete",{originalErrorMessage:kt&&kt.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class _d{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const M=D.storage.getLastFetchStatus(),U=D.storage.getLastSuccessfulFetchTimestampMillis(),z=D.storage.getActiveConfig(),ae=yield M;ae&&(D.lastFetchStatus=ae);const Ce=yield U;Ce&&(D.lastSuccessfulFetchTimestampMillis=Ce);const Be=yield z;Be&&(D.activeConfig=Be)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function sc(){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,P.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(C){return!1}})).apply(this,arguments)}(0,le._registerComponent)(new re.wA("remote-config",function(D,{instanceIdentifier:M}){const U=D.getProvider("app").getImmediate(),z=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Nn.create("registration-window");if(!(0,te.hl)())throw Nn.create("indexed-db-unavailable");const{projectId:ae,apiKey:Ce,appId:Be}=U.options;if(!ae)throw Nn.create("registration-project-id");if(!Ce)throw Nn.create("registration-api-key");if(!Be)throw Nn.create("registration-app-id");const je=new Kg(Be,U.name,M=M||"firebase"),kt=new _d(je),$t=new pe.Yd(mn);$t.logLevel=pe.in.ERROR;const Qn=new yn(z,le.SDK_VERSION,M,ae,Ce,Be),Jn=new Zo(Qn,je),Xn=new _f(Jn,je,kt,$t),js=new zg(U,Xn,kt,je,$t);return function(C){const D=(0,te.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(js),js},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(mn,"0.3.4"),(0,le.registerVersion)(mn,"0.3.4","esm2017");const bd="/firebase-messaging-sw.js",Qg="/firebase-cloud-messaging-push-scope",Va="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ua="google.c.a.c_id",qo="google.c.a.c_l",Ms="google.c.a.ts",oc="google.c.a.e";var _n=(()=>{return(C=_n||(_n={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",_n;var C})();function Ni(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zu(C){const M=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(M),z=new Uint8Array(U.length);for(let ae=0;ae<U.length;++ae)z[ae]=U.charCodeAt(ae);return z}const Ba="fcm_token_details_db",Ef="fcm_token_object_Store";function ac(C){return ja.apply(this,arguments)}function ja(){return(ja=(0,P.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(Ba))return null;let D=null;return(yield(0,ue.openDb)(Ba,5,function(){var U=(0,P.Z)(function*(z){var ae;if(z.oldVersion<2||!z.objectStoreNames.contains(Ef))return;const Ce=z.transaction.objectStore(Ef),Be=yield Ce.index("fcmSenderId").get(C);if(yield Ce.clear(),Be)if(2===z.oldVersion){const je=Be;if(!je.auth||!je.p256dh||!je.endpoint)return;D={token:je.fcmToken,createTime:null!==(ae=je.createTime)&&void 0!==ae?ae:Date.now(),subscriptionOptions:{auth:je.auth,p256dh:je.p256dh,endpoint:je.endpoint,swScope:je.swScope,vapidKey:"string"==typeof je.vapidKey?je.vapidKey:Ni(je.vapidKey)}}}else if(3===z.oldVersion){const je=Be;D={token:je.fcmToken,createTime:je.createTime,subscriptionOptions:{auth:Ni(je.auth),p256dh:Ni(je.p256dh),endpoint:je.endpoint,swScope:je.swScope,vapidKey:Ni(je.vapidKey)}}}else if(4===z.oldVersion){const je=Be;D={token:je.fcmToken,createTime:je.createTime,subscriptionOptions:{auth:Ni(je.auth),p256dh:Ni(je.p256dh),endpoint:je.endpoint,swScope:je.swScope,vapidKey:Ni(je.vapidKey)}}}});return function(z){return U.apply(this,arguments)}}())).close(),yield(0,ue.deleteDb)(Ba),yield(0,ue.deleteDb)("fcm_vapid_details_db"),yield(0,ue.deleteDb)("undefined"),bf(D)?D:null})).apply(this,arguments)}function bf(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Kn="firebase-messaging-store";let Hu=null;function Rs(){return Hu||(Hu=(0,ue.openDb)("firebase-messaging-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(Kn)}})),Hu}function $a(C){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,P.Z)(function*(C){const D=Za(C),U=yield(yield Rs()).transaction(Kn).objectStore(Kn).get(D);if(U)return U;{const z=yield ac(C.appConfig.senderId);if(z)return yield jr(C,z),z}})).apply(this,arguments)}function jr(C,D){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,P.Z)(function*(C,D){const M=Za(C),z=(yield Rs()).transaction(Kn,"readwrite");return yield z.objectStore(Kn).put(D,M),yield z.complete,D})).apply(this,arguments)}function Kt(C){return qu.apply(this,arguments)}function qu(){return(qu=(0,P.Z)(function*(C){const D=Za(C),U=(yield Rs()).transaction(Kn,"readwrite");yield U.objectStore(Kn).delete(D),yield U.complete})).apply(this,arguments)}function Za({appConfig:C}){return C.appId}const It=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Wo(C,D){return Td.apply(this,arguments)}function Td(){return(Td=(0,P.Z)(function*(C,D){const M=yield ir(C),U=zo(D),z={method:"POST",headers:M,body:JSON.stringify(U)};let ae;try{ae=yield(yield fetch(Bn(C.appConfig),z)).json()}catch(Ce){throw It.create("token-subscribe-failed",{errorInfo:Ce})}if(ae.error)throw It.create("token-subscribe-failed",{errorInfo:ae.error.message});if(!ae.token)throw It.create("token-subscribe-no-token");return ae.token})).apply(this,arguments)}function ho(C,D){return xr.apply(this,arguments)}function xr(){return(xr=(0,P.Z)(function*(C,D){const M=yield ir(C),U=zo(D.subscriptionOptions),z={method:"PATCH",headers:M,body:JSON.stringify(U)};let ae;try{ae=yield(yield fetch(`${Bn(C.appConfig)}/${D.token}`,z)).json()}catch(Ce){throw It.create("token-update-failed",{errorInfo:Ce})}if(ae.error)throw It.create("token-update-failed",{errorInfo:ae.error.message});if(!ae.token)throw It.create("token-update-no-token");return ae.token})).apply(this,arguments)}function Dd(C,D){return ki.apply(this,arguments)}function ki(){return(ki=(0,P.Z)(function*(C,D){const U={method:"DELETE",headers:yield ir(C)};try{const ae=yield(yield fetch(`${Bn(C.appConfig)}/${D}`,U)).json();if(ae.error)throw It.create("token-unsubscribe-failed",{errorInfo:ae.error.message})}catch(z){throw It.create("token-unsubscribe-failed",{errorInfo:z})}})).apply(this,arguments)}function Bn({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function ir(C){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,P.Z)(function*({appConfig:C,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function zo({p256dh:C,auth:D,endpoint:M,vapidKey:U}){const z={web:{endpoint:M,auth:D,p256dh:C}};return U!==Va&&(z.web.applicationPubKey=U),z}const Ha=6048e5;function Ji(C){return qa.apply(this,arguments)}function qa(){return(qa=(0,P.Z)(function*(C){const D=yield zu(C.swRegistration,C.vapidKey),M={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:Ni(D.getKey("auth")),p256dh:Ni(D.getKey("p256dh"))},U=yield $a(C.firebaseDependencies);if(U){if(uc(U.subscriptionOptions,M))return Date.now()>=U.createTime+Ha?Ad(C,{token:U.token,createTime:Date.now(),subscriptionOptions:M}):U.token;try{yield Dd(C.firebaseDependencies,U.token)}catch(z){console.warn(z)}return Ns(C.firebaseDependencies,M)}return Ns(C.firebaseDependencies,M)})).apply(this,arguments)}function Wu(C){return rt.apply(this,arguments)}function rt(){return(rt=(0,P.Z)(function*(C){const D=yield $a(C.firebaseDependencies);D&&(yield Dd(C.firebaseDependencies,D.token),yield Kt(C.firebaseDependencies));const M=yield C.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Ad(C,D){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,P.Z)(function*(C,D){try{const M=yield ho(C.firebaseDependencies,D),U=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield jr(C.firebaseDependencies,U),M}catch(M){throw yield Wu(C),M}})).apply(this,arguments)}function Ns(C,D){return fo.apply(this,arguments)}function fo(){return(fo=(0,P.Z)(function*(C,D){const U={token:yield Wo(C,D),createTime:Date.now(),subscriptionOptions:D};return yield jr(C,U),U.token})).apply(this,arguments)}function zu(C,D){return es.apply(this,arguments)}function es(){return(es=(0,P.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zu(D)})})).apply(this,arguments)}function uc(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function we(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function(C,D){if(!D.notification)return;C.notification={};const M=D.notification.title;M&&(C.notification.title=M);const U=D.notification.body;U&&(C.notification.body=U);const z=D.notification.image;z&&(C.notification.image=z)}(D,C),function(C,D){!D.data||(C.data=D.data)}(D,C),function(C,D){if(!D.fcmOptions)return;C.fcmOptions={};const M=D.fcmOptions.link;M&&(C.fcmOptions.link=M);const U=D.fcmOptions.analytics_label;U&&(C.fcmOptions.analyticsLabel=U)}(D,C),D}function Ku(C){return"object"==typeof C&&!!C&&Ua in C}function po(C,D){const M=[];for(let U=0;U<C.length;U++)M.push(C.charAt(U)),U<D.length&&M.push(D.charAt(U));return M.join("")}function Wa(C){return It.create("missing-app-config-values",{valueName:C})}po("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),po("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Os{constructor(D,M,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function(C){if(!C||!C.options)throw Wa("App Configuration Object");if(!C.name)throw Wa("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=C;for(const U of D)if(!M[U])throw Wa(U);return{appName:C.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:z,installations:M,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Sd(C){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,P.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(bd,{scope:Qg}),C.swRegistration.update().catch(()=>{})}catch(D){throw It.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function ts(C,D){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,P.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield Sd(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw It.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function Yn(C,D){return ii.apply(this,arguments)}function ii(){return(ii=(0,P.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=Va)})).apply(this,arguments)}function ks(){return(ks=(0,P.Z)(function*(C,D){if(!navigator)throw It.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw It.create("permission-blocked");return yield Yn(C,null==D?void 0:D.vapidKey),yield ts(C,null==D?void 0:D.serviceWorkerRegistration),Ji(C)})).apply(this,arguments)}function vi(C,D,M){return lc.apply(this,arguments)}function lc(){return(lc=(0,P.Z)(function*(C,D,M){const U=Qu(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:M[Ua],message_name:M[qo],message_time:M[Ms],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qu(C){switch(C){case _n.NOTIFICATION_CLICKED:return"notification_open";case _n.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yo(){return(Yo=(0,P.Z)(function*(C,D){const M=D.data;if(!M.isFirebaseMessaging)return;C.onMessageHandler&&M.messageType===_n.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(we(M)):C.onMessageHandler.next(we(M)));const U=M.data;Ku(U)&&"1"===U[oc]&&(yield vi(C,M.messageType,U))})).apply(this,arguments)}const Xu="@firebase/messaging";function Md(){return ns.apply(this,arguments)}function ns(){return(ns=(0,P.Z)(function*(){return"undefined"!=typeof window&&(0,te.hl)()&&(yield(0,te.eu)())&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,le._registerComponent)(new re.wA("messaging",C=>{const D=new Os(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function(C,D){return Yo.apply(this,arguments)}(D,M)),D},"PUBLIC")),(0,le._registerComponent)(new re.wA("messaging-internal",C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:U=>function(C,D){return ks.apply(this,arguments)}(D,U)}},"PRIVATE")),(0,le.registerVersion)(Xu,"0.9.7"),(0,le.registerVersion)(Xu,"0.9.7","esm2017");const $r="analytics",dn="firebase_id",Ya="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Od="https://www.googletagmanager.com/gtag/js",On=new pe.Yd("@firebase/analytics");function kd(C){return Promise.all(C.map(D=>D.catch(M=>M)))}function rl(C,D){const M=document.createElement("script");M.src=`${Od}?l=${C}&id=${D}`,M.async=!0,document.head.appendChild(M)}function Ja(C,D,M,U,z,ae){return il.apply(this,arguments)}function il(){return(il=(0,P.Z)(function*(C,D,M,U,z,ae){const Ce=U[z];try{if(Ce)yield D[Ce];else{const je=(yield kd(M)).find(kt=>kt.measurementId===z);je&&(yield D[je.appId])}}catch(Be){On.error(Be)}C("config",z,ae)})).apply(this,arguments)}function go(C,D,M,U,z){return sl.apply(this,arguments)}function sl(){return(sl=(0,P.Z)(function*(C,D,M,U,z){try{let ae=[];if(z&&z.send_to){let Ce=z.send_to;Array.isArray(Ce)||(Ce=[Ce]);const Be=yield kd(M);for(const je of Ce){const kt=Be.find(Qn=>Qn.measurementId===je),$t=kt&&D[kt.appId];if(!$t){ae=[];break}ae.push($t)}}0===ae.length&&(ae=Object.values(D)),yield Promise.all(ae),C("event",U,z||{})}catch(ae){On.error(ae)}})).apply(this,arguments)}function Xg(){const C=window.document.getElementsByTagName("script");for(const D of Object.values(C))if(D.src&&D.src.includes(Od))return D;return null}const sr=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),tm=new class{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function J_(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function eu(C){return ol.apply(this,arguments)}function ol(){return(ol=(0,P.Z)(function*(C){var D;const{appId:M,apiKey:U}=C,z={method:"GET",headers:J_(U)},ae=Ya.replace("{app-id}",M),Ce=yield fetch(ae,z);if(200!==Ce.status&&304!==Ce.status){let Be="";try{const je=yield Ce.json();(null===(D=je.error)||void 0===D?void 0:D.message)&&(Be=je.error.message)}catch(je){}throw sr.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:Be})}return Ce.json()})).apply(this,arguments)}function al(C){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,P.Z)(function*(C,D=tm,M){const{appId:U,apiKey:z,measurementId:ae}=C.options;if(!U)throw sr.create("no-app-id");if(!z){if(ae)return{measurementId:ae,appId:U};throw sr.create("no-api-key")}const Ce=D.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new nu;return setTimeout((0,P.Z)(function*(){Be.abort()}),void 0!==M?M:6e4),ul({appId:U,apiKey:z,measurementId:ae},Ce,Be,D)})).apply(this,arguments)}function ul(C,D,M){return ll.apply(this,arguments)}function ll(){return(ll=(0,P.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:M},U,z=tm){const{appId:ae,measurementId:Ce}=C;try{yield tu(U,D)}catch(Be){if(Ce)return On.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ce} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:ae,measurementId:Ce};throw Be}try{const Be=yield eu(C);return z.deleteThrottleMetadata(ae),Be}catch(Be){if(!Af(Be)){if(z.deleteThrottleMetadata(ae),Ce)return On.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ce} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:ae,measurementId:Ce};throw Be}const je=503===Number(Be.customData.httpStatus)?(0,te.$s)(M,z.intervalMillis,30):(0,te.$s)(M,z.intervalMillis),kt={throttleEndTimeMillis:Date.now()+je,backoffCount:M+1};return z.setThrottleMetadata(ae,kt),On.debug(`Calling attemptFetch again in ${je} millis`),ul(C,kt,U,z)}})).apply(this,arguments)}function tu(C,D){return new Promise((M,U)=>{const z=Math.max(D-Date.now(),0),ae=setTimeout(M,z);C.addEventListener(()=>{clearTimeout(ae),U(sr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Af(C){if(!(C instanceof te.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class nu{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function cl(){return yo.apply(this,arguments)}function yo(){return(yo=(0,P.Z)(function*(){if(!(0,te.hl)())return On.warn(sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(C){return On.warn(sr.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function Jo(){return(Jo=(0,P.Z)(function*(C,D,M,U,z,ae,Ce){var Be;const je=al(C);je.then(Xn=>{M[Xn.measurementId]=Xn.appId,C.options.measurementId&&Xn.measurementId!==C.options.measurementId&&On.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xn=>On.error(Xn)),D.push(je);const kt=cl().then(Xn=>{if(Xn)return U.getId()}),[$t,Qn]=yield Promise.all([je,kt]);Xg()||rl(ae,$t.measurementId),z("js",new Date);const Jn=null!==(Be=null==Ce?void 0:Ce.config)&&void 0!==Be?Be:{};return Jn.origin="firebase",Jn.update=!0,null!=Qn&&(Jn[dn]=Qn),z("config",$t.measurementId,Jn),$t.measurementId})).apply(this,arguments)}class sn{constructor(D){this.app=D}_delete(){return delete Xe[this.app.options.appId],Promise.resolve()}}let Xe={},rs=[];const _o={};let Xo,tn,yr="dataLayer",cc=!1;function si(C,D,M){!function(){const C=[];if((0,te.ru)()&&C.push("This is a browser extension environment."),(0,te.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((U,z)=>`(${z+1}) ${U}`).join(" "),M=sr.create("invalid-analytics-context",{errorInfo:D});On.warn(M.message)}}();const U=C.options.appId;if(!U)throw sr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw sr.create("no-api-key");On.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xe[U])throw sr.create("already-exists",{id:U});if(!cc){!function(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(yr);const{wrappedGtag:ae,gtagCore:Ce}=function(C,D,M,U,z){let ae=function(...Ce){window[U].push(arguments)};return window[z]&&"function"==typeof window[z]&&(ae=window[z]),window[z]=function(C,D,M,U){function ae(){return(ae=(0,P.Z)(function*(Ce,Be,je){try{"event"===Ce?yield go(C,D,M,Be,je):"config"===Ce?yield Ja(C,D,M,U,Be,je):C("set",Be)}catch(kt){On.error(kt)}})).apply(this,arguments)}return function(Ce,Be,je){return ae.apply(this,arguments)}}(ae,C,D,M),{gtagCore:ae,wrappedGtag:window[z]}}(Xe,rs,_o,yr,"gtag");tn=ae,Xo=Ce,cc=!0}return Xe[U]=function(C,D,M,U,z,ae,Ce){return Jo.apply(this,arguments)}(C,rs,_o,D,Xo,yr,M),new sn(C)}function dc(){return(dc=(0,P.Z)(function*(C,D,M,U,z){if(z&&z.global)C("event",M,U);else{const ae=yield D;C("event",M,Object.assign(Object.assign({},U),{send_to:ae}))}})).apply(this,arguments)}function Fi(){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,P.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(C){return!1}})).apply(this,arguments)}const Mf="@firebase/analytics";(0,le._registerComponent)(new re.wA($r,(D,{options:M})=>si(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,le._registerComponent)(new re.wA("analytics-internal",function(D){try{const M=D.getProvider($r).getImmediate();return{logEvent:(U,z,ae)=>function(C,D,M,U){C=(0,te.m9)(C),function(C,D,M,U,z){return dc.apply(this,arguments)}(tn,Xe[C.app.options.appId],D,M,U).catch(z=>On.error(z))}(M,U,z,ae)}}catch(M){throw sr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,le.registerVersion)(Mf,"0.7.5"),(0,le.registerVersion)(Mf,"0.7.5","esm2017");var rm=L(7771),Yt=L(3637),hl=L(3342),ra=L(3101),im=L(309);const Ld=new c.GfV("7.2.0"),pc="__angularfire_symbol__analyticsIsSupported",Us="__angularfire_symbol__remoteConfigIsSupported",iu="__angularfire_symbol__messagingIsSupported";function fl(C,D,M){if(D){if(1===D.length)return D[0];const ae=D.filter(Ce=>Ce.app===M);if(1===ae.length)return ae[0]}return M.container.getProvider(C).getImmediate({optional:!0})}globalThis[pc]||(globalThis[pc]=Fi().then(C=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=C)),globalThis[iu]||(globalThis[iu]=Md().then(C=>globalThis.__angularfire_symbol__messagingIsSupportedValue=C)),globalThis[Us]||(globalThis[Us]=sc().then(C=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=C));const su=(C,D)=>{const M=D?[D]:(0,J.C6)(),U=[];return M.forEach(z=>{z.container.getProvider(C).instances.forEach(Ce=>{U.includes(Ce)||U.push(Ce)})}),U};function ou(){}class Ud{constructor(D,M=rm.N){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,U){const z=this.zone;return this.delegate.schedule(function(Ce){z.runGuarded(()=>{D.apply(this,[Ce])})},M,U)}}class oi{constructor(D){this.zone=D,this.task=null}call(D,M){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ou,{},ou,ou)),M.pipe((0,hl.b)({next:U,complete:U,error:U})).subscribe(D).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ai=(()=>{class C{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Ud(Zone.current)),this.insideAngular=M.run(()=>new Ud(Zone.current,Yt.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(M){return new(M||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Vi(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function ar(C){return Vi(),function(C){return function(M){return(M=M.lift(new oi(C.ngZone))).pipe((0,ra.R)(C.outsideAngular),(0,im.QV)(C.insideAngular))}}(Vi())(C)}},3854:(Je,Ee,L)=>{"use strict";L.d(Ee,{BH:()=>K,LL:()=>We,ZR:()=>xt,zI:()=>Et,US:()=>re,tV:()=>X,$s:()=>Ht,r3:()=>ln,Sg:()=>oe,ne:()=>nr,vZ:()=>Lt,ZB:()=>V,pd:()=>pr,m9:()=>ju,z$:()=>be,jU:()=>ge,ru:()=>fe,d:()=>xe,xb:()=>Gn,w1:()=>$e,hl:()=>pn,uI:()=>de,UG:()=>W,b$:()=>he,G6:()=>pt,Mn:()=>Oe,xO:()=>Pa,zd:()=>Dr,eu:()=>_t});const le=function(H){const Z=[];let $=0;for(let ve=0;ve<H.length;ve++){let ie=H.charCodeAt(ve);ie<128?Z[$++]=ie:ie<2048?(Z[$++]=ie>>6|192,Z[$++]=63&ie|128):55296==(64512&ie)&&ve+1<H.length&&56320==(64512&H.charCodeAt(ve+1))?(ie=65536+((1023&ie)<<10)+(1023&H.charCodeAt(++ve)),Z[$++]=ie>>18|240,Z[$++]=ie>>12&63|128,Z[$++]=ie>>6&63|128,Z[$++]=63&ie|128):(Z[$++]=ie>>12|224,Z[$++]=ie>>6&63|128,Z[$++]=63&ie|128)}return Z},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,Z){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let ie=0;ie<H.length;ie+=3){const Ue=H[ie],Ve=ie+1<H.length,Gt=Ve?H[ie+1]:0,Vn=ie+2<H.length,cn=Vn?H[ie+2]:0;let on=(15&Gt)<<2|cn>>6,xi=63&cn;Vn||(xi=64,Ve||(on=64)),ve.push($[Ue>>2],$[(3&Ue)<<4|Gt>>4],$[on],$[xi])}return ve.join("")},encodeString(H,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(H):this.encodeByteArray(le(H),Z)},decodeString(H,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(H):function(H){const Z=[];let $=0,ve=0;for(;$<H.length;){const ie=H[$++];if(ie<128)Z[ve++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const Ue=H[$++];Z[ve++]=String.fromCharCode((31&ie)<<6|63&Ue)}else if(ie>239&&ie<365){const Vn=((7&ie)<<18|(63&H[$++])<<12|(63&H[$++])<<6|63&H[$++])-65536;Z[ve++]=String.fromCharCode(55296+(Vn>>10)),Z[ve++]=String.fromCharCode(56320+(1023&Vn))}else{const Ue=H[$++],Ve=H[$++];Z[ve++]=String.fromCharCode((15&ie)<<12|(63&Ue)<<6|63&Ve)}}return Z.join("")}(this.decodeStringToByteArray(H,Z))},decodeStringToByteArray(H,Z){this.init_();const $=Z?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let ie=0;ie<H.length;){const Ue=$[H.charAt(ie++)],Gt=ie<H.length?$[H.charAt(ie)]:0;++ie;const cn=ie<H.length?$[H.charAt(ie)]:64;++ie;const Mt=ie<H.length?$[H.charAt(ie)]:64;if(++ie,null==Ue||null==Gt||null==cn||null==Mt)throw Error();ve.push(Ue<<2|Gt>>4),64!==cn&&(ve.push(Gt<<4&240|cn>>2),64!==Mt&&ve.push(cn<<6&192|Mt))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ue=function(H){return function(H){const Z=le(H);return re.encodeByteArray(Z,!0)}(H).replace(/\./g,"")},X=function(H){try{return re.decodeString(H,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function V(H,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return Z}for(const $ in Z)!Z.hasOwnProperty($)||!Y($)||(H[$]=V(H[$],Z[$]));return H}function Y(H){return"__proto__"!==H}class K{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,$)=>{this.resolve=Z,this.reject=$})}wrapCallback(Z){return($,ve)=>{$?this.reject($):this.resolve(ve),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z($):Z($,ve))}}}function oe(H,Z){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=Z||"demo-project",ie=H.iat||0,Ue=H.sub||H.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:ie,exp:ie+3600,auth_time:ie,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Ve)),""].join(".")}function be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function W(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function ge(){return"object"==typeof self&&self.self===self}function fe(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function he(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xe(){return be().indexOf("Electron/")>=0}function $e(){const H=be();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Oe(){return be().indexOf("MSAppHost/")>=0}function pt(){return!W()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pn(){return"object"==typeof indexedDB}function _t(){return new Promise((H,Z)=>{try{let $=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(ve);ie.onsuccess=()=>{ie.result.close(),$||self.indexedDB.deleteDatabase(ve),H(!0)},ie.onupgradeneeded=()=>{$=!1},ie.onerror=()=>{var Ue;Z((null===(Ue=ie.error)||void 0===Ue?void 0:Ue.message)||"")}}catch($){Z($)}})}function Et(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class xt extends Error{constructor(Z,$,ve){super($),this.code=Z,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,xt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}}class We{constructor(Z,$,ve){this.service=Z,this.serviceName=$,this.errors=ve}create(Z,...$){const ve=$[0]||{},ie=`${this.service}/${Z}`,Ue=this.errors[Z],Ve=Ue?function(H,Z){return H.replace(ws,($,ve)=>{const ie=Z[ve];return null!=ie?String(ie):`<${ve}?>`})}(Ue,ve):"Error";return new xt(ie,`${this.serviceName}: ${Ve} (${ie}).`,ve)}}const ws=/\{\$([^}]+)}/g;function ln(H,Z){return Object.prototype.hasOwnProperty.call(H,Z)}function Gn(H){for(const Z in H)if(Object.prototype.hasOwnProperty.call(H,Z))return!1;return!0}function Lt(H,Z){if(H===Z)return!0;const $=Object.keys(H),ve=Object.keys(Z);for(const ie of $){if(!ve.includes(ie))return!1;const Ue=H[ie],Ve=Z[ie];if(Ct(Ue)&&Ct(Ve)){if(!Lt(Ue,Ve))return!1}else if(Ue!==Ve)return!1}for(const ie of ve)if(!$.includes(ie))return!1;return!0}function Ct(H){return null!==H&&"object"==typeof H}function Pa(H){const Z=[];for(const[$,ve]of Object.entries(H))Array.isArray(ve)?ve.forEach(ie=>{Z.push(encodeURIComponent($)+"="+encodeURIComponent(ie))}):Z.push(encodeURIComponent($)+"="+encodeURIComponent(ve));return Z.length?"&"+Z.join("&"):""}function Dr(H){const Z={};return H.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[ie,Ue]=ve.split("=");Z[decodeURIComponent(ie)]=decodeURIComponent(Ue)}}),Z}function pr(H){const Z=H.indexOf("?");if(!Z)return"";const $=H.indexOf("#",Z);return H.substring(Z,$>0?$:void 0)}function nr(H,Z){const $=new Rn(H,Z);return $.subscribe.bind($)}class Rn{constructor(Z,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{Z(this)}).catch(ve=>{this.error(ve)})}next(Z){this.forEachObserver($=>{$.next(Z)})}error(Z){this.forEachObserver($=>{$.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,$,ve){let ie;if(void 0===Z&&void 0===$&&void 0===ve)throw new Error("Missing Observer.");ie=function(H,Z){if("object"!=typeof H||null===H)return!1;for(const $ of["next","error","complete"])if($ in H&&"function"==typeof H[$])return!0;return!1}(Z)?Z:{next:Z,error:$,complete:ve},void 0===ie.next&&(ie.next=Br),void 0===ie.error&&(ie.error=Br),void 0===ie.complete&&(ie.complete=Br);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch(Ve){}}),this.observers.push(ie),Ue}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,Z)}sendOne(Z,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{$(this.observers[Z])}catch(ve){"undefined"!=typeof console&&console.error&&console.error(ve)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Br(){}function Ht(H,Z=1e3,$=2){const ve=Z*Math.pow($,H),ie=Math.round(.5*ve*(Math.random()-.5)*2);return Math.min(144e5,ve+ie)}function ju(H){return H&&H._delegate?H._delegate:H}},2329:(Je,Ee,L)=>{"use strict";L.d(Ee,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=L(8026);(0,c.registerVersion)("firebase","9.6.4","app")},7841:(Je,Ee,L)=>{"use strict";L.d(Ee,{Z:()=>c.Z});var c=L(3394);c.Z.registerVersion("firebase","9.6.4","app-compat")},5799:(Je,Ee,L)=>{"use strict";L.r(Ee);var c=L(8239),J=L(3394),P=L(3854),le=L(8026);function ue(y,f){var p={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&f.indexOf(E)<0&&(p[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(E=Object.getOwnPropertySymbols(y);T<E.length;T++)f.indexOf(E[T])<0&&Object.prototype.propertyIsEnumerable.call(y,E[T])&&(p[E[T]]=y[E[T]])}return p}var xt=L(5422),We=L(3910);const Is=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Wi=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ln=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gn=new xt.Yd("@firebase/auth");function Ts(y,...f){Gn.logLevel<=xt.in.ERROR&&Gn.error(`Auth (${le.SDK_VERSION}): ${y}`,...f)}function Lt(y,...f){throw pr(y,...f)}function Ct(y,...f){return pr(y,...f)}function Pa(y,f,p){const E=Object.assign(Object.assign({},Wi()),{[f]:p});return new P.LL("auth","Firebase",E).create(f,{appName:y.name})}function Dr(y,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&Lt(y,"argument-error"),Pa(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pr(y,...f){if("string"!=typeof y){const p=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(p,...E)}return ln.create(y,...f)}function Ie(y,f,...p){if(!y)throw pr(f,...p)}function nr(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Ts(f),new Error(f)}function Rn(y,f){y||nr(f)}const yi=new Map;function Nt(y){Rn(y instanceof Function,"Expected a class definition");let f=yi.get(y);return f?(Rn(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,yi.set(y,f),f)}function nt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Te(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Ot{constructor(f,p){this.shortDelay=f,this.longDelay=p,Rn(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Te()||(0,P.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ze(y,f){Rn(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class qe{static initialize(f,p,E){this.fetchImpl=f,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ar={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ro=new Ot(3e4,6e4);function Ht(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function vt(y,f,p,E){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(y,f,p,E,T={}){return ju(y,T,(0,c.Z)(function*(){let x={},j={};E&&("GET"===f?j=E:x={body:JSON.stringify(E)});const ne=(0,P.xO)(Object.assign({key:y.config.apiKey},j)).slice(1),Re=yield y._getAdditionalHeaders();return Re["Content-Type"]="application/json",y.languageCode&&(Re["X-Firebase-Locale"]=y.languageCode),qe.fetch()(ve(y,y.config.apiHost,p,ne),Object.assign({method:f,headers:Re,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function ju(y,f,p){return H.apply(this,arguments)}function H(){return(H=(0,c.Z)(function*(y,f,p){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},Ar),f);try{const T=new ie(y),x=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const j=yield x.json();if("needConfirmation"in j)throw Ue(y,"account-exists-with-different-credential",j);if(x.ok&&!("errorMessage"in j))return j;{const ne=x.ok?j.errorMessage:j.error.message,[Re,De]=ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw Ue(y,"credential-already-in-use",j);if("EMAIL_EXISTS"===Re)throw Ue(y,"email-already-in-use",j);const Ze=E[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(De)throw Pa(y,Ze,De);Lt(y,Ze)}}catch(T){if(T instanceof P.ZR)throw T;Lt(y,"network-request-failed")}})).apply(this,arguments)}function Z(y,f,p,E){return $.apply(this,arguments)}function $(){return($=(0,c.Z)(function*(y,f,p,E,T={}){const x=yield vt(y,f,p,E,T);return"mfaPendingCredential"in x&&Lt(y,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function ve(y,f,p,E){const T=`${f}${p}?${E}`;return y.config.emulator?ze(y.config,T):`${y.config.apiScheme}://${T}`}class ie{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(Ct(this.auth,"network-request-failed")),ro.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ue(y,f,p){const E={appName:y.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const T=Ct(y,f,E);return T.customData._tokenResponse=p,T}function Gt(){return(Gt=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Vn(y,f){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Sr(y,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function on(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function io(){return(io=(0,c.Z)(function*(y,f=!1){const p=(0,P.m9)(y),E=yield p.getIdToken(f),T=so(E);Ie(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const x="object"==typeof T.firebase?T.firebase:void 0,j=null==x?void 0:x.sign_in_provider;return{claims:T,token:E,authTime:on(tc(T.auth_time)),issuedAtTime:on(tc(T.iat)),expirationTime:on(tc(T.exp)),signInProvider:j||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function tc(y){return 1e3*Number(y)}function so(y){const[f,p,E]=y.split(".");if(void 0===f||void 0===p||void 0===E)return Ts("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,P.tV)(p);return T?JSON.parse(T):(Ts("Failed to decode base64 JWT payload"),null)}catch(T){return Ts("Caught error parsing JWT payload as JSON",T),null}}function Xr(y,f){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(y,f,p=!1){if(p)return f;try{return yield f}catch(E){throw E instanceof P.ZR&&oo(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}function oo({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Uo{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),E)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&f.schedule(!0))}f.schedule()})()}}class hd{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=on(this.lastLoginAt),this.creationTime=on(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ds(y){return Un.apply(this,arguments)}function Un(){return(Un=(0,c.Z)(function*(y){var f;const p=y.auth,E=yield y.getIdToken(),T=yield Xr(y,Sr(p,{idToken:E}));Ie(null==T?void 0:T.users.length,p,"internal-error");const x=T.users[0];y._notifyReloadListener(x);const j=(null===(f=x.providerUserInfo)||void 0===f?void 0:f.length)?fd(x.providerUserInfo):[],ne=rr(y.providerData,j),Ze=!!y.isAnonymous&&!(y.email&&x.passwordHash||(null==ne?void 0:ne.length)),He={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:ne,metadata:new hd(x.createdAt,x.lastLoginAt),isAnonymous:Ze};Object.assign(y,He)})).apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(y){const f=(0,P.m9)(y);yield Ds(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function rr(y,f){return[...y.filter(E=>!f.some(T=>T.providerId===E.providerId)),...f]}function fd(y){return y.map(f=>{var{providerId:p}=f,E=ue(f,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Pe(){return(Pe=(0,c.Z)(function*(y,f){const p=yield ju(y,{},(0,c.Z)(function*(){const E=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:x}=y.config,j=ve(y,T,"/v1/token",`key=${x}`),ne=yield y._getAdditionalHeaders();return ne["Content-Type"]="application/x-www-form-urlencoded",qe.fetch()(j,{method:"POST",headers:ne,body:E})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Ie(f.idToken,"internal-error"),Ie(void 0!==f.idToken,"internal-error"),Ie(void 0!==f.refreshToken,"internal-error");const p="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(y){const f=so(y);return Ie(f,"internal-error"),Ie(void 0!==f.exp,"internal-error"),Ie(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var E=this;return(0,c.Z)(function*(){return Ie(!E.accessToken||E.refreshToken,f,"user-token-expired"),p||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var E=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:x,expiresIn:j}=yield function(y,f){return Pe.apply(this,arguments)}(f,p);E.updateTokensAndExpiration(T,x,Number(j))})()}updateTokensAndExpiration(f,p,E){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,p){const{refreshToken:E,accessToken:T,expirationTime:x}=p,j=new lt;return E&&(Ie("string"==typeof E,"internal-error",{appName:f}),j.refreshToken=E),T&&(Ie("string"==typeof T,"internal-error",{appName:f}),j.accessToken=T),x&&(Ie("number"==typeof x,"internal-error",{appName:f}),j.expirationTime=x),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new lt,this.toJSON())}_performRefresh(){return nr("not implemented")}}function Ut(y,f){Ie("string"==typeof y||void 0===y,"internal-error",{appName:f})}class mn{constructor(f){var{uid:p,auth:E,stsTokenManager:T}=f,x=ue(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Uo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.metadata=new hd(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,c.Z)(function*(){const E=yield Xr(p,p.stsTokenManager.getToken(p.auth,f));return Ie(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(f){return function(y){return io.apply(this,arguments)}(this,f)}reload(){return function(y){return zi.apply(this,arguments)}(this)}_assign(f){this!==f&&(Ie(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new mn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var E=this;return(0,c.Z)(function*(){let T=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),T=!0),p&&(yield Ds(E)),yield E.auth._persistUserIfCurrent(E),T&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,c.Z)(function*(){const p=yield f.getIdToken();return yield Xr(f,function(y,f){return Gt.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var E,T,x,j,ne,Re,De,Ze;const He=null!==(E=p.displayName)&&void 0!==E?E:void 0,Tt=null!==(T=p.email)&&void 0!==T?T:void 0,jn=null!==(x=p.phoneNumber)&&void 0!==x?x:void 0,So=null!==(j=p.photoURL)&&void 0!==j?j:void 0,tp=null!==(ne=p.tenantId)&&void 0!==ne?ne:void 0,ca=null!==(Re=p._redirectEventId)&&void 0!==Re?Re:void 0,oh=null!==(De=p.createdAt)&&void 0!==De?De:void 0,xc=null!==(Ze=p.lastLoginAt)&&void 0!==Ze?Ze:void 0,{uid:np,emailVerified:ah,isAnonymous:Nm,providerData:Mc,stsTokenManager:rp}=p;Ie(np&&rp,f,"internal-error");const pv=lt.fromJSON(this.name,rp);Ie("string"==typeof np,f,"internal-error"),Ut(He,f.name),Ut(Tt,f.name),Ie("boolean"==typeof ah,f,"internal-error"),Ie("boolean"==typeof Nm,f,"internal-error"),Ut(jn,f.name),Ut(So,f.name),Ut(tp,f.name),Ut(ca,f.name),Ut(oh,f.name),Ut(xc,f.name);const da=new mn({uid:np,auth:f,email:Tt,emailVerified:ah,displayName:He,isAnonymous:Nm,photoURL:So,phoneNumber:jn,tenantId:tp,stsTokenManager:pv,createdAt:oh,lastLoginAt:xc});return Mc&&Array.isArray(Mc)&&(da.providerData=Mc.map(gv=>Object.assign({},gv))),ca&&(da._redirectEventId=ca),da}static _fromIdTokenResponse(f,p,E=!1){return(0,c.Z)(function*(){const T=new lt;T.updateFromServerResponse(p);const x=new mn({uid:p.localId,auth:f,stsTokenManager:T,isAnonymous:E});return yield Ds(x),x})()}}const en=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,E){var T=this;return(0,c.Z)(function*(){T.storage[p]=E})()}_get(p){var E=this;return(0,c.Z)(function*(){const T=E.storage[p];return void 0===T?null:T})()}_remove(p){var E=this;return(0,c.Z)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return y.type="NONE",y})();function Wn(y,f,p){return`firebase:${y}:${f}:${p}`}class Wt{constructor(f,p,E){this.persistence=f,this.auth=p,this.userKey=E;const{config:T,name:x}=this.auth;this.fullUserKey=Wn(this.userKey,T.apiKey,x),this.fullPersistenceKey=Wn("persistence",T.apiKey,x),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?mn._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,c.Z)(function*(){if(p.persistence===f)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,E="authUser"){return(0,c.Z)(function*(){if(!p.length)return new Wt(Nt(en),f,E);const T=(yield Promise.all(p.map(function(){var De=(0,c.Z)(function*(Ze){if(yield Ze._isAvailable())return Ze});return function(Ze){return De.apply(this,arguments)}}()))).filter(De=>De);let x=T[0]||Nt(en);const j=Wn(E,f.config.apiKey,f.name);let ne=null;for(const De of p)try{const Ze=yield De._get(j);if(Ze){const He=mn._fromJSON(f,Ze);De!==x&&(ne=He),x=De;break}}catch(Ze){}const Re=T.filter(De=>De._shouldAllowMigration);return x._shouldAllowMigration&&Re.length?(x=Re[0],ne&&(yield x._set(j,ne.toJSON())),yield Promise.all(p.map(function(){var De=(0,c.Z)(function*(Ze){if(Ze!==x)try{yield Ze._remove(j)}catch(He){}});return function(Ze){return De.apply(this,arguments)}}())),new Wt(x,f,E)):new Wt(x,f,E)})()}}function Nn(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ss(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Bo(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(ti(f))return"Blackberry";if(mr(f))return"Webos";if(dt(f))return"Safari";if((f.includes("chrome/")||Fa(f))&&!f.includes("edge/"))return"Chrome";if(uo(f))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Bo(y=(0,P.z$)()){return/firefox\//i.test(y)}function dt(y=(0,P.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Fa(y=(0,P.z$)()){return/crios\//i.test(y)}function Ss(y=(0,P.z$)()){return/iemobile/i.test(y)}function uo(y=(0,P.z$)()){return/android/i.test(y)}function ti(y=(0,P.z$)()){return/blackberry/i.test(y)}function mr(y=(0,P.z$)()){return/webos/i.test(y)}function Mi(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)}function jo(y=(0,P.z$)()){return Mi(y)||uo(y)||mr(y)||ti(y)||/windows phone/i.test(y)||Ss(y)}function $u(y,f=[]){let p;switch(y){case"Browser":p=Nn((0,P.z$)());break;case"Worker":p=`${Nn((0,P.z$)())}-${y}`;break;default:p=y}const E=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${le.SDK_VERSION}/${E}`}class gd{constructor(f,p){this.app=f,this.config=p,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yi(this),this.idTokenSubscription=new Yi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ln,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=p.sdkClientVersion}_initializeWithPersistence(f,p){var E=this;return p&&(this._popupRedirectResolver=Nt(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,x;if(!E._deleted&&(E.persistenceManager=yield Wt.create(E,f),!E._deleted)){if(null===(T=E._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(j){}yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(x=E.currentUser)||void 0===x?void 0:x.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p)}})()}initializeCurrentUser(f){var p=this;return(0,c.Z)(function*(){var E;let T=yield p.assertedPersistence.getCurrentUser();if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const x=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,j=null==T?void 0:T._redirectEventId,ne=yield p.tryRedirectSignIn(f);(!x||x===j)&&(null==ne?void 0:ne.user)&&(T=ne.user)}return T?T._redirectEventId?(Ie(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===T._redirectEventId?p.directlySetCurrentUser(T):p.reloadAndSetCurrentUserOrClear(T)):p.reloadAndSetCurrentUserOrClear(T):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var p=this;return(0,c.Z)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch(T){yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,c.Z)(function*(){try{yield Ds(f)}catch(E){if("auth/network-request-failed"!==E.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,c.Z)(function*(){const E=f?(0,P.m9)(f):null;return E&&Ie(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(f){var p=this;return(0,c.Z)(function*(){if(!p._deleted)return f&&Ie(p.tenantId===f.tenantId,p,"tenant-id-mismatch"),p.queue((0,c.Z)(function*(){yield p.directlySetCurrentUser(f),p.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(Nt(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,p,E){return this.registerStateListener(this.authStateSubscription,f,p,E)}onIdTokenChanged(f,p,E){return this.registerStateListener(this.idTokenSubscription,f,p,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var E=this;return(0,c.Z)(function*(){const T=yield E.getOrInitRedirectPersistenceManager(p);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const E=f&&Nt(f)||p._popupRedirectResolver;Ie(E,p,"argument-error"),p.redirectPersistenceManager=yield Wt.create(p,[Nt(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,c.Z)(function*(){var E,T;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===f?p._currentUser:(null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,c.Z)(function*(){if(f===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,E,T){if(this._deleted)return()=>{};const x="function"==typeof p?p:p.next.bind(p),j=this._isInitialized?Promise.resolve():this._initializationPromise;return Ie(j,this,"internal-error"),j.then(()=>x(this.currentUser)),"function"==typeof p?f.addObserver(p,E,T):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==f&&(p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh()),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=$u(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){const p={"X-Client-Version":f.clientVersion};return f.app.options.appId&&(p["X-Firebase-gmpid"]=f.app.options.appId),p})()}}function wn(y){return(0,P.m9)(y)}class Yi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(p=>this.observer=p)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zn(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Ri(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class xs{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return nr("not implemented")}_getIdTokenResponse(f){return nr("not implemented")}_linkToIdToken(f,p){return nr("not implemented")}_getReauthenticationResolver(f){return nr("not implemented")}}function La(y,f){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:resetPassword",Ht(y,f))})).apply(this,arguments)}function ni(y,f){return rc.apply(this,arguments)}function rc(){return(rc=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function zg(y,f){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:update",Ht(y,f))})).apply(this,arguments)}function md(){return(md=(0,c.Z)(function*(y,f){return Z(y,"POST","/v1/accounts:signInWithPassword",Ht(y,f))})).apply(this,arguments)}function ic(y,f){return yd.apply(this,arguments)}function yd(){return(yd=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:sendOobCode",Ht(y,f))})).apply(this,arguments)}function Kg(y,f){return _d.apply(this,arguments)}function _d(){return(_d=(0,c.Z)(function*(y,f){return ic(y,f)})).apply(this,arguments)}function Yg(y,f){return vf.apply(this,arguments)}function vf(){return(vf=(0,c.Z)(function*(y,f){return ic(y,f)})).apply(this,arguments)}function vd(y,f){return sc.apply(this,arguments)}function sc(){return(sc=(0,c.Z)(function*(y,f){return ic(y,f)})).apply(this,arguments)}function Ed(y,f){return bd.apply(this,arguments)}function bd(){return(bd=(0,c.Z)(function*(y,f){return ic(y,f)})).apply(this,arguments)}function Va(){return(Va=(0,c.Z)(function*(y,f){return Z(y,"POST","/v1/accounts:signInWithEmailLink",Ht(y,f))})).apply(this,arguments)}function Ua(){return(Ua=(0,c.Z)(function*(y,f){return Z(y,"POST","/v1/accounts:signInWithEmailLink",Ht(y,f))})).apply(this,arguments)}class qo extends xs{constructor(f,p,E,T=null){super("password",E),this._email=f,this._password=p,this._tenantId=T}static _fromEmailAndPassword(f,p){return new qo(f,p,"password")}static _fromEmailAndCode(f,p,E=null){return new qo(f,p,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,c.Z)(function*(){switch(p.signInMethod){case"password":return function(y,f){return md.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function(y,f){return Va.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:Lt(f,"internal-error")}})()}_linkToIdToken(f,p){var E=this;return(0,c.Z)(function*(){switch(E.signInMethod){case"password":return ni(f,{idToken:p,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(y,f){return Ua.apply(this,arguments)}(f,{idToken:p,email:E._email,oobCode:E._password});default:Lt(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ms(y,f){return oc.apply(this,arguments)}function oc(){return(oc=(0,c.Z)(function*(y,f){return Z(y,"POST","/v1/accounts:signInWithIdp",Ht(y,f))})).apply(this,arguments)}class _n extends xs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new _n(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):Lt("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:T}=p,x=ue(p,["providerId","signInMethod"]);if(!E||!T)return null;const j=new _n(E,T);return j.idToken=x.idToken||void 0,j.accessToken=x.accessToken||void 0,j.secret=x.secret,j.nonce=x.nonce,j.pendingToken=x.pendingToken||null,j}_getIdTokenResponse(f){return Ms(f,this.buildRequest())}_linkToIdToken(f,p){const E=this.buildRequest();return E.idToken=p,Ms(f,E)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Ms(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,P.xO)(p)}return f}}function Ni(y,f){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:sendVerificationCode",Ht(y,f))})).apply(this,arguments)}function Cd(){return(Cd=(0,c.Z)(function*(y,f){return Z(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,f))})).apply(this,arguments)}function ac(){return(ac=(0,c.Z)(function*(y,f){const p=yield Z(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,f));if(p.temporaryProof)throw Ue(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const ja={USER_NOT_FOUND:"user-not-found"};function Go(){return(Go=(0,c.Z)(function*(y,f){return Z(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ja)})).apply(this,arguments)}class co extends xs{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new co({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new co({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function(y,f){return Cd.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function(y,f){return ac.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(y,f){return Go.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:E,verificationCode:T}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:E,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:E,phoneNumber:T,temporaryProof:x}=f;return E||p||T||x?new co({verificationId:p,verificationCode:E,phoneNumber:T,temporaryProof:x}):null}}class Rs{constructor(f){var p,E,T,x,j,ne;const Re=(0,P.zd)((0,P.pd)(f)),De=null!==(p=Re.apiKey)&&void 0!==p?p:null,Ze=null!==(E=Re.oobCode)&&void 0!==E?E:null,He=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Re.mode)&&void 0!==T?T:null);Ie(De&&Ze&&He,"argument-error"),this.apiKey=De,this.operation=He,this.code=Ze,this.continueUrl=null!==(x=Re.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(j=Re.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(ne=Re.tenantId)&&void 0!==ne?ne:null}static parseLink(f){const p=function(y){const f=(0,P.zd)((0,P.pd)(y)).link,p=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,E=(0,P.zd)((0,P.pd)(y)).deep_link_id;return(E?(0,P.zd)((0,P.pd)(E)).link:null)||E||p||f||y}(f);try{return new Rs(p)}catch(E){return null}}}let Qi=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,E){return qo._fromEmailAndPassword(p,E)}static credentialWithLink(p,E){const T=Rs.parseLink(E);return Ie(T,"argument-error"),qo._fromEmailAndCode(p,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class jr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Oi extends jr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Kt extends Oi{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return Ie("providerId"in p&&"signInMethod"in p,"argument-error"),_n._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Ie(f.idToken||f.accessToken,"argument-error"),_n._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Kt.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Kt.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:E,oauthTokenSecret:T,pendingToken:x,nonce:j,providerId:ne}=f;if(!E&&!T&&!p&&!x||!ne)return null;try{return new Kt(ne)._credential({idToken:p,accessToken:E,nonce:j,pendingToken:x})}catch(Re){return null}}}let qu=(()=>{class y extends Oi{constructor(){super("facebook.com")}static credential(p){return _n._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(E){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Za=(()=>{class y extends Oi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,E){return _n._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:E})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:E,oauthAccessToken:T}=p;if(!E&&!T)return null;try{return y.credential(E,T)}catch(x){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Id=(()=>{class y extends Oi{constructor(){super("github.com")}static credential(p){return _n._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(E){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Wo extends xs{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Ms(f,this.buildRequest())}_linkToIdToken(f,p){const E=this.buildRequest();return E.idToken=p,Ms(f,E)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Ms(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:T,pendingToken:x}=p;return E&&T&&x&&E===T?new Wo(E,x):null}static _create(f,p){return new Wo(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ho extends jr{constructor(f){Ie(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ho.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ho.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=Wo.fromJSON(f);return Ie(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:E}=f;if(!p||!E)return null;try{return Wo._create(E,p)}catch(T){return null}}}let xr=(()=>{class y extends Oi{constructor(){super("twitter.com")}static credential(p,E){return _n._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:E})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:E,oauthTokenSecret:T}=p;if(!E||!T)return null;try{return y.credential(E,T)}catch(x){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Dd(y,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(y,f){return Z(y,"POST","/v1/accounts:signUp",Ht(y,f))})).apply(this,arguments)}class Bn{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,E,T=!1){return(0,c.Z)(function*(){const x=yield mn._fromIdTokenResponse(f,E,T),j=ir(E);return new Bn({user:x,providerId:j,_tokenResponse:E,operationType:p})})()}static _forOperation(f,p,E){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const T=ir(E);return new Bn({user:f,providerId:T,_tokenResponse:E,operationType:p})})()}}function ir(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function zo(){return(zo=(0,c.Z)(function*(y){var f;const p=wn(y);if(yield p._initializationPromise,null===(f=p.currentUser)||void 0===f?void 0:f.isAnonymous)return new Bn({user:p.currentUser,providerId:null,operationType:"signIn"});const E=yield Dd(p,{returnSecureToken:!0}),T=yield Bn._fromIdTokenResponse(p,"signIn",E,!0);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ha extends P.ZR{constructor(f,p,E,T){var x;super(p.code,p.message),this.operationType=E,this.user=T,Object.setPrototypeOf(this,Ha.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:p.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,p,E,T){return new Ha(f,p,E,T)}}function Ji(y,f,p,E){return("reauthenticate"===f?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Ha._fromErrorAndOperation(y,x,f,E):x})}function qa(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function rt(){return(rt=(0,c.Z)(function*(y,f){const p=(0,P.m9)(y);yield Ns(!0,p,f);const{providerUserInfo:E}=yield Vn(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),T=qa(E||[]);return p.providerData=p.providerData.filter(x=>T.has(x.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Ad(y,f){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(y,f,p=!1){const E=yield Xr(y,f._linkToIdToken(y.auth,yield y.getIdToken()),p);return Bn._forOperation(y,"link",E)})).apply(this,arguments)}function Ns(y,f,p){return fo.apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(y,f,p){yield Ds(f);const T=!1===y?"provider-already-linked":"no-such-provider";Ie(qa(f.providerData).has(p)===y,f.auth,T)})).apply(this,arguments)}function zu(y,f){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(y,f,p=!1){const{auth:E}=y,T="reauthenticate";try{const x=yield Xr(y,Ji(E,T,f,y),p);Ie(x.idToken,E,"internal-error");const j=so(x.idToken);Ie(j,E,"internal-error");const{sub:ne}=j;return Ie(y.uid===ne,E,"user-mismatch"),Bn._forOperation(y,T,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&Lt(E,"user-mismatch"),x}})).apply(this,arguments)}function uc(y,f){return we.apply(this,arguments)}function we(){return(we=(0,c.Z)(function*(y,f,p=!1){const E="signIn",T=yield Ji(y,E,f),x=yield Bn._fromIdTokenResponse(y,E,T);return p||(yield y._updateCurrentUser(x.user)),x})).apply(this,arguments)}function bt(y,f){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(y,f){return uc(wn(y),f)})).apply(this,arguments)}function vn(y,f){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,c.Z)(function*(y,f){const p=(0,P.m9)(y);return yield Ns(!1,p,f.providerId),Ad(p,f)})).apply(this,arguments)}function po(y,f){return ri.apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(y,f){return zu((0,P.m9)(y),f)})).apply(this,arguments)}function Wa(y,f){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(y,f){return Z(y,"POST","/v1/accounts:signInWithCustomToken",Ht(y,f))})).apply(this,arguments)}function Yu(){return(Yu=(0,c.Z)(function*(y,f){const p=wn(y),E=yield Wa(p,{token:f,returnSecureToken:!0}),T=yield Bn._fromIdTokenResponse(p,"signIn",E);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class ts{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?Pi._fromServerResponse(f,p):Lt(f,"internal-error")}}class Pi extends ts{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new Pi(p)}}function Yn(y,f,p){var E;Ie((null===(E=p.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),Ie(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Ie(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(Ie(p.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Ko(){return(Ko=(0,c.Z)(function*(y,f,p){const E=(0,P.m9)(y),T={requestType:"PASSWORD_RESET",email:f};p&&Yn(E,T,p),yield Yg(E,T)})).apply(this,arguments)}function vi(){return(vi=(0,c.Z)(function*(y,f,p){yield La((0,P.m9)(y),{oobCode:f,newPassword:p})})).apply(this,arguments)}function Qu(){return(Qu=(0,c.Z)(function*(y,f){yield zg((0,P.m9)(y),{oobCode:f})})).apply(this,arguments)}function Ju(y,f){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(y,f){const p=(0,P.m9)(y),E=yield La(p,{oobCode:f}),T=E.requestType;switch(Ie(T,p,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(E.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(E.mfaInfo,p,"internal-error");default:Ie(E.email,p,"internal-error")}let x=null;return E.mfaInfo&&(x=ts._fromServerResponse(wn(p),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:x},operation:T}})).apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(y,f){const{data:p}=yield Ju((0,P.m9)(y),f);return p.email})).apply(this,arguments)}function el(){return(el=(0,c.Z)(function*(y,f,p){const E=wn(y),T=yield Dd(E,{returnSecureToken:!0,email:f,password:p}),x=yield Bn._fromIdTokenResponse(E,"signIn",T);return yield E._updateCurrentUser(x.user),x})).apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(y,f,p){const E=(0,P.m9)(y),T={requestType:"EMAIL_SIGNIN",email:f};Ie(p.handleCodeInApp,E,"argument-error"),p&&Yn(E,T,p),yield vd(E,T)})).apply(this,arguments)}function za(){return(za=(0,c.Z)(function*(y,f,p){const E=(0,P.m9)(y),T=Qi.credentialWithLink(f,p||nt());return Ie(T._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),bt(E,T)})).apply(this,arguments)}function Jg(y,f){return nl.apply(this,arguments)}function nl(){return(nl=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:createAuthUri",Ht(y,f))})).apply(this,arguments)}function Cf(){return(Cf=(0,c.Z)(function*(y,f){const E={identifier:f,continueUri:Te()?nt():"http://localhost"},{signinMethods:T}=yield Jg((0,P.m9)(y),E);return T||[]})).apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(y,f){const p=(0,P.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Yn(p.auth,T,f);const{email:x}=yield Kg(p.auth,T);x!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ka(){return(Ka=(0,c.Z)(function*(y,f,p){const E=(0,P.m9)(y),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};p&&Yn(E.auth,x,p);const{email:j}=yield Ed(E.auth,x);j!==y.email&&(yield y.reload())})).apply(this,arguments)}function If(y,f){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(y,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const E=(0,P.m9)(y),x={idToken:yield E.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},j=yield Xr(E,If(E.auth,x));E.displayName=j.displayName||null,E.photoURL=j.photoUrl||null;const ne=E.providerData.find(({providerId:Re})=>"password"===Re);ne&&(ne.displayName=E.displayName,ne.photoURL=E.photoURL),yield E._updateTokensIfNecessary(j)})).apply(this,arguments)}function Qa(y,f,p){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,c.Z)(function*(y,f,p){const{auth:E}=y,x={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(x.email=f),p&&(x.password=p);const j=yield Xr(y,ni(E,x));yield y._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class go{constructor(f,p,E={}){this.isNewUser=f,this.providerId=p,this.profile=E}}class sl extends go{constructor(f,p,E,T){super(f,p,E),this.username=T}}class Ps extends go{constructor(f,p){super(f,"facebook.com",p)}}class Xa extends sl{constructor(f,p){super(f,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class Xg extends go{constructor(f,p){super(f,"google.com",p)}}class Tf extends sl{constructor(f,p,E){super(f,"twitter.com",p,E)}}function sr(y){const{user:f,_tokenResponse:p}=y;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function(y){var f,p;if(!y)return null;const{providerId:E}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},x=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&(null==y?void 0:y.idToken)){const j=null===(p=null===(f=so(y.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(j)return new go(x,"anonymous"!==j&&"custom"!==j?j:null)}if(!E)return null;switch(E){case"facebook.com":return new Ps(x,T);case"github.com":return new Xa(x,T);case"google.com":return new Xg(x,T);case"twitter.com":return new Tf(x,T,y.screenName||null);case"custom":case"anonymous":return new go(x,null);default:return new go(x,E,T)}}(p)}class Ei{constructor(f,p){this.type=f,this.credential=p}static _fromIdtoken(f){return new Ei("enroll",f)}static _fromMfaPendingCredential(f){return new Ei("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,E;if(null==f?void 0:f.multiFactorSession){if(null===(p=f.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return Ei._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(E=f.multiFactorSession)||void 0===E?void 0:E.idToken)return Ei._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ul{constructor(f,p,E){this.session=f,this.hints=p,this.signInResolver=E}static _fromError(f,p){const E=wn(f),T=p.customData._serverResponse,x=(T.mfaInfo||[]).map(ne=>ts._fromServerResponse(E,ne));Ie(T.mfaPendingCredential,E,"internal-error");const j=Ei._fromMfaPendingCredential(T.mfaPendingCredential);return new ul(j,x,function(){var ne=(0,c.Z)(function*(Re){const De=yield Re._process(E,j);delete T.mfaInfo,delete T.mfaPendingCredential;const Ze=Object.assign(Object.assign({},T),{idToken:De.idToken,refreshToken:De.refreshToken});switch(p.operationType){case"signIn":const He=yield Bn._fromIdTokenResponse(E,p.operationType,Ze);return yield E._updateCurrentUser(He.user),He;case"reauthenticate":return Ie(p.user,E,"internal-error"),Bn._forOperation(p.user,p.operationType,Ze);default:Lt(E,"internal-error")}});return function(Re){return ne.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,c.Z)(function*(){return p.signInResolver(f)})()}}function tu(y,f){return vt(y,"POST","/v2/accounts/mfaEnrollment:start",Ht(y,f))}class cl{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(E=>ts._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new cl(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Ei._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,p){var E=this;return(0,c.Z)(function*(){const T=f,x=yield E.getSession(),j=yield Xr(E.user,T._process(E.user.auth,x,p));return yield E.user._updateTokensIfNecessary(j),E.user.reload()})()}unenroll(f){var p=this;return(0,c.Z)(function*(){const E="string"==typeof f?f:f.uid,T=yield p.user.getIdToken(),x=yield Xr(p.user,function(y,f){return vt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(y,f))}(p.user.auth,{idToken:T,mfaEnrollmentId:E}));p.enrolledFactors=p.enrolledFactors.filter(({uid:j})=>j!==E),yield p.user._updateTokensIfNecessary(x);try{yield p.user.reload()}catch(j){if("auth/user-token-expired"!==j.code)throw j}})()}}const yo=new WeakMap,Jo="__sak";class sn{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Jo,"1"),this.storage.removeItem(Jo),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fs=(()=>{class y extends sn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,P.z$)();return dt(y)||Mi(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=jo(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const T=this.storage.getItem(E),x=this.localCache[E];T!==x&&p(E,x,T)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((ne,Re,De)=>{this.notifyListeners(ne,De)});const T=p.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ne=this.storage.getItem(T);if(p.newValue!==ne)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!E)return}const x=()=>{const ne=this.storage.getItem(T);!E&&this.localCache[T]===ne||this.notifyListeners(T,ne)},j=this.storage.getItem(T);(0,P.w1)()&&10===document.documentMode&&j!==p.newValue&&p.newValue!==p.oldValue?setTimeout(x,10):x()}notifyListeners(p,E){this.localCache[p]=E;const T=this.listeners[p];if(T)for(const x of Array.from(T))x(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var T=()=>super._set,x=this;return(0,c.Z)(function*(){yield T().call(x,p,E),x.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,T=this;return(0,c.Z)(function*(){const x=yield E().call(T,p);return T.localCache[p]=JSON.stringify(x),x})()}_remove(p){var E=()=>super._remove,T=this;return(0,c.Z)(function*(){yield E().call(T,p),delete T.localCache[p]})()}}return y.type="LOCAL",y})(),tn=(()=>{class y extends sn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return y.type="SESSION",y})();let Sf=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(x=>x.isListeningto(p));if(E)return E;const T=new y(p);return this.receivers.push(T),T}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,c.Z)(function*(){const T=p,{eventId:x,eventType:j,data:ne}=T.data,Re=E.handlersMap[j];if(!(null==Re?void 0:Re.size))return;T.ports[0].postMessage({status:"ack",eventId:x,eventType:j});const De=Array.from(Re).map(function(){var He=(0,c.Z)(function*(Tt){return Tt(T.origin,ne)});return function(Tt){return He.apply(this,arguments)}}()),Ze=yield function(y){return Promise.all(y.map(function(){var f=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return f.apply(this,arguments)}}()))}(De);T.ports[0].postMessage({status:"done",eventId:x,eventType:j,response:Ze})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ea(y="",f=10){let p="";for(let E=0;E<f;E++)p+=Math.floor(10*Math.random());return y+p}class si{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,E=50){var T=this;return(0,c.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let j,ne;return new Promise((Re,De)=>{const Ze=ea("",20);x.port1.start();const He=setTimeout(()=>{De(new Error("unsupported_event"))},E);ne={messageChannel:x,onMessage(Tt){const jn=Tt;if(jn.data.eventId===Ze)switch(jn.data.status){case"ack":clearTimeout(He),j=setTimeout(()=>{De(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Re(jn.data.response);break;default:clearTimeout(He),clearTimeout(j),De(new Error("invalid_response"))}}},T.handlers.add(ne),x.port1.addEventListener("message",ne.onMessage),T.target.postMessage({eventType:f,eventId:Ze,data:p},[x.port2])}).finally(()=>{ne&&T.removeMessageHandler(ne)})})()}}function Cn(){return window}function dl(){return void 0!==Cn().WorkerGlobalScope&&"function"==typeof Cn().importScripts}function vo(){return(vo=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Ls="firebaseLocalStorageDb",Eo="firebaseLocalStorage",ru="fbase_key";class Rr{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Fi(y,f){return y.transaction([Eo],f?"readwrite":"readonly").objectStore(Eo)}function at(){const y=indexedDB.open(Ls,1);return new Promise((f,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(Eo,{keyPath:ru})}catch(T){p(T)}}),y.addEventListener("success",(0,c.Z)(function*(){const E=y.result;E.objectStoreNames.contains(Eo)?f(E):(E.close(),yield function(){const y=indexedDB.deleteDatabase(Ls);return new Rr(y).toPromise()}(),f(yield at()))}))})}function Li(y,f,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(y,f,p){const E=Fi(y,!0).put({[ru]:f,value:p});return new Rr(E).toPromise()})).apply(this,arguments)}function Pd(){return(Pd=(0,c.Z)(function*(y,f){const p=Fi(y,!1).get(f),E=yield new Rr(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Mf(y,f){const p=Fi(y,!0).delete(f);return new Rr(p).toPromise()}const Yt=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield at()),p.db})()}_withRetries(p){var E=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const x=yield E._openDb();return yield p(x)}catch(x){if(T++>3)throw x;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return dl()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=Sf._getInstance(dl()?self:null),p.receiver._subscribe("keyChanged",function(){var E=(0,c.Z)(function*(T,x){return{keyProcessed:(yield p._poll()).includes(x.key)}});return function(T,x){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,c.Z)(function*(T,x){return["keyChanged"]});return function(T,x){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var E,T;if(p.activeServiceWorker=yield function(){return vo.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new si(p.activeServiceWorker);const x=yield p.sender._send("ping",{},800);!x||(null===(E=x[0])||void 0===E?void 0:E.fulfilled)&&(null===(T=x[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,c.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield at();return yield Li(p,Jo,"1"),yield Mf(p,Jo),!0}catch(p){}return!1})()}_withPendingWrite(p){var E=this;return(0,c.Z)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(x=>Li(x,p,E)),T.localCache[p]=E,T.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,c.Z)(function*(){const T=yield E._withRetries(x=>function(y,f){return Pd.apply(this,arguments)}(x,p));return E.localCache[p]=T,T})()}_remove(p){var E=this;return(0,c.Z)(function*(){return E._withPendingWrite((0,c.Z)(function*(){return yield E._withRetries(T=>Mf(T,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const E=yield p._withRetries(j=>{const ne=Fi(j,!1).getAll();return new Rr(ne).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const T=[],x=new Set;for(const{fbase_key:j,value:ne}of E)x.add(j),JSON.stringify(p.localCache[j])!==JSON.stringify(ne)&&(p.notifyListeners(j,ne),T.push(j));for(const j of Object.keys(p.localCache))p.localCache[j]&&!x.has(j)&&(p.notifyListeners(j,null),T.push(j));return T})()}notifyListeners(p,E){this.localCache[p]=E;const T=this.listeners[p];if(T)for(const x of Array.from(T))x(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function hl(y,f){return vt(y,"POST","/v2/accounts/mfaSignIn:start",Ht(y,f))}function Ld(){return(Ld=(0,c.Z)(function*(y){return(yield vt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pc(y){return new Promise((f,p)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=f,E.onerror=T=>{const x=Ct("internal-error");x.customData=T,p(x)},E.type="text/javascript",E.charset="UTF-8",function(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(E)})}function Vd(y){return`__${y}${Math.floor(1e6*Math.random())}`}const iu=1e12;class or{constructor(f){this.auth=f,this.counter=iu,this._widgets=new Map}render(f,p){const E=this.counter;return this._widgets.set(E,new Bs(f,this.auth.name,p||{})),this.counter++,E}reset(f){var p;const E=f||iu;null===(p=this._widgets.get(E))||void 0===p||p.delete(),this._widgets.delete(E)}getResponse(f){var p;return(null===(p=this._widgets.get(f||iu))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,c.Z)(function*(){var E;return null===(E=p._widgets.get(f||iu))||void 0===E||E.execute(),""})()}}class Bs{constructor(f,p,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;Ie(T,"argument-error",{appName:p}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}();const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const In=Vd("rcb"),fl=new Ot(3e4,6e4);class ou{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Cn().grecaptcha}load(f,p=""){return Ie((y=p).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Cn().grecaptcha):new Promise((E,T)=>{const x=Cn().setTimeout(()=>{T(Ct(f,"network-request-failed"))},fl.get());Cn()[In]=()=>{Cn().clearTimeout(x),delete Cn()[In];const ne=Cn().grecaptcha;if(!ne)return void T(Ct(f,"internal-error"));const Re=ne.render;ne.render=(De,Ze)=>{const He=Re(De,Ze);return this.counter++,He},this.hostLanguage=p,E(ne)},pc(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:In,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(x),T(Ct(f,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Cn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class oi{load(f){return(0,c.Z)(function*(){return new or(f)})()}clearedOneInstance(){}}const ai="recaptcha",Vi={theme:"light",type:"image"};class bo{constructor(f,p=Object.assign({},Vi),E){this.parameters=p,this.type=ai,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wn(E),this.isInvisible="invisible"===this.parameters.size,Ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;Ie(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new oi:new ou,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(p)||new Promise(x=>{const j=ne=>{!ne||(f.tokenChangeListeners.delete(j),x(ne))};f.tokenChangeListeners.add(j),f.isInvisible&&E.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(E=>E(p)),"function"==typeof f)f(p);else if("string"==typeof f){const E=Cn()[f];"function"==typeof E&&E(p)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const E=document.createElement("div");p.appendChild(E),p=E}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){Ie(Te()&&!dl(),f.auth,"internal-error"),yield function(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function(y){return Ld.apply(this,arguments)}(f.auth);Ie(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gc{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=co._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function ar(){return(ar=(0,c.Z)(function*(y,f,p){const E=wn(y),T=yield D(E,f,(0,P.m9)(p));return new gc(T,x=>bt(E,x))})).apply(this,arguments)}function mc(){return(mc=(0,c.Z)(function*(y,f,p){const E=(0,P.m9)(y);yield Ns(!1,E,"phone");const T=yield D(E.auth,f,(0,P.m9)(p));return new gc(T,x=>vn(E,x))})).apply(this,arguments)}function C(){return(C=(0,c.Z)(function*(y,f,p){const E=(0,P.m9)(y),T=yield D(E.auth,f,(0,P.m9)(p));return new gc(T,x=>po(E,x))})).apply(this,arguments)}function D(y,f,p){return M.apply(this,arguments)}function M(){return(M=(0,c.Z)(function*(y,f,p){var E;const T=yield p.verify();try{let x;if(Ie("string"==typeof T,y,"argument-error"),Ie(p.type===ai,y,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const j=x.session;if("phoneNumber"in x)return Ie("enroll"===j.type,y,"internal-error"),(yield tu(y,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Ie("signin"===j.type,y,"internal-error");const ne=(null===(E=x.multiFactorHint)||void 0===E?void 0:E.uid)||x.multiFactorUid;return Ie(ne,y,"missing-multi-factor-info"),(yield hl(y,{mfaPendingCredential:j.credential,mfaEnrollmentId:ne,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield Ni(y,{phoneNumber:x.phoneNumber,recaptchaToken:T});return j}}finally{p._reset()}})).apply(this,arguments)}function z(){return(z=(0,c.Z)(function*(y,f){yield Ad((0,P.m9)(y),f)})).apply(this,arguments)}let ae=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=wn(p)}verifyPhoneNumber(p,E){return D(this.auth,p,(0,P.m9)(E))}static credential(p,E){return co._fromVerification(p,E)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:E,temporaryProof:T}=p;return E&&T?co._fromTokenResponse(E,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ce(y,f){return f?Nt(f):(Ie(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Be extends xs{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ms(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Ms(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Ms(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function je(y){return uc(y.auth,new Be(y),y.bypassAuthState)}function kt(y){const{auth:f,user:p}=y;return Ie(p,f,"internal-error"),zu(p,new Be(y),y.bypassAuthState)}function $t(y){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(y){const{auth:f,user:p}=y;return Ie(p,f,"internal-error"),Ad(p,new Be(y),y.bypassAuthState)})).apply(this,arguments)}class Jn{constructor(f,p,E,T,x=!1){this.auth=f,this.resolver=E,this.user=T,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,c.Z)(function*(E,T){f.pendingPromise={resolve:E,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(E,T){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,c.Z)(function*(){const{urlResponse:E,sessionId:T,postBody:x,tenantId:j,error:ne,type:Re}=f;if(ne)return void p.reject(ne);const De={auth:p.auth,requestUri:E,sessionId:T,tenantId:j||void 0,postBody:x||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Re)(De))}catch(Ze){p.reject(Ze)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return je;case"linkViaPopup":case"linkViaRedirect":return $t;case"reauthViaPopup":case"reauthViaRedirect":return kt;default:Lt(this.auth,"internal-error")}}resolve(f){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xn=new Ot(2e3,1e4);function wo(){return(wo=(0,c.Z)(function*(y,f,p){const E=wn(y);Dr(y,f,jr);const T=Ce(E,p);return new yc(E,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(y,f,p){const E=(0,P.m9)(y);Dr(E.auth,f,jr);const T=Ce(E.auth,p);return new yc(E.auth,"reauthViaPopup",f,T,E).executeNotNull()})).apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(y,f,p){const E=(0,P.m9)(y);Dr(E.auth,f,jr);const T=Ce(E.auth,p);return new yc(E.auth,"linkViaPopup",f,T,E).executeNotNull()})).apply(this,arguments)}let yc=(()=>{class y extends Jn{constructor(p,E,T,x,j){super(p,E,x,j),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const E=yield p.execute();return Ie(E,p.auth,"internal-error"),E})()}onExecution(){var p=this;return(0,c.Z)(function*(){Rn(1===p.filter.length,"Popup operations only handle one event");const E=ea();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],E),p.authWindow.associatedEvent=E,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(Ct(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Ct(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var E,T;this.pollId=(null===(T=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ct(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,Xn.get())};p()}}return y.currentPopupAction=null,y})();const au=new Map;class uu extends Jn{constructor(f,p,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,c.Z)(function*(){let E=au.get(p.auth._key());if(!E){try{const x=(yield function(y,f){return kf.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;E=()=>Promise.resolve(x)}catch(T){E=()=>Promise.reject(T)}au.set(p.auth._key(),E)}return p.bypassAuthState||au.set(p.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,E=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(E,f);if("unknown"!==f.type){if(f.eventId){const T=yield E.auth._redirectUserForId(f.eventId);if(T)return E.user=T,p().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function kf(){return(kf=(0,c.Z)(function*(y,f){const p=lu(f),E=Io(y);if(!(yield E._isAvailable()))return!1;const T="true"===(yield E._get(p));return yield E._remove(p),T})).apply(this,arguments)}function Tn(y,f){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(y,f){return Io(y)._set(lu(f),"true")})).apply(this,arguments)}function Io(y){return Nt(y._redirectPersistence)}function lu(y){return Wn("pendingRedirect",y.config.apiKey,y.name)}function wi(){return(wi=(0,c.Z)(function*(y,f,p){const E=wn(y);Dr(y,f,jr);const T=Ce(E,p);return yield Tn(T,E),T._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function Bi(){return(Bi=(0,c.Z)(function*(y,f,p){const E=(0,P.m9)(y);Dr(E.auth,f,jr);const T=Ce(E.auth,p);yield Tn(T,E.auth);const x=yield aa(E);return T._openRedirect(E.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function Bd(){return(Bd=(0,c.Z)(function*(y,f,p){const E=(0,P.m9)(y);Dr(E.auth,f,jr);const T=Ce(E.auth,p);yield Ns(!1,E,f.providerId),yield Tn(T,E.auth);const x=yield aa(E);return T._openRedirect(E.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function ml(){return(ml=(0,c.Z)(function*(y,f){return yield wn(y)._initializationPromise,oa(y,f,!1)})).apply(this,arguments)}function oa(y,f){return cu.apply(this,arguments)}function cu(){return(cu=(0,c.Z)(function*(y,f,p=!1){const E=wn(y),T=Ce(E,f),j=yield new uu(E,T,p).execute();return j&&!p&&(delete j.user._redirectEventId,yield E._persistUserIfCurrent(j.user),yield E._setRedirectUser(null,f)),j})).apply(this,arguments)}function aa(y){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(y){const f=ea(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class yl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(p=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ev(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var E;if(f.error&&!ev(f)){const T=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(Ct(this.auth,T))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const E=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ua(f))}saveEventToCache(f){this.cachedEventUids.add(ua(f)),this.lastProcessedEventTime=Date.now()}}function ua(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function ev({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Pf(y){return am.apply(this,arguments)}function am(){return(am=(0,c.Z)(function*(y,f={}){return vt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const $d=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ec=/^https?/;function To(){return(To=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Pf(y);for(const p of f)try{if(Ff(p))return}catch(E){}Lt(y,"unauthorized-domain")})).apply(this,arguments)}function Ff(y){const f=nt(),{protocol:p,hostname:E}=new URL(f);if(y.startsWith("chrome-extension://")){const j=new URL(y);return""===j.hostname&&""===E?"chrome-extension:"===p&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&j.hostname===E}if(!Ec.test(p))return!1;if($d.test(y))return E===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(E)}const la=new Ot(3e4,6e4);function bc(){const y=Cn().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let Zd=null;function Hd(y){return Zd=Zd||function(y){return new Promise((f,p)=>{var E,T,x;function j(){bc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{bc(),p(Ct(y,"network-request-failed"))},timeout:la.get()})}if(null===(T=null===(E=Cn().gapi)||void 0===E?void 0:E.iframes)||void 0===T?void 0:T.Iframe)f(gapi.iframes.getContext());else{if(!(null===(x=Cn().gapi)||void 0===x?void 0:x.load)){const ne=Vd("iframefcb");return Cn()[ne]=()=>{gapi.load?j():p(Ct(y,"network-request-failed"))},pc(`https://apis.google.com/js/api.js?onload=${ne}`).catch(Re=>p(Re))}j()}}).catch(f=>{throw Zd=null,f})}(y),Zd}const Lf=new Ot(5e3,15e3),dm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},du=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tv(y){const f=y.config;Ie(f.authDomain,y,"auth-domain-config-required");const p=f.emulator?ze(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:y.name,v:le.SDK_VERSION},T=du.get(y.config.apiHost);T&&(E.eid=T);const x=y._getFrameworks();return x.length&&(E.fw=x.join(",")),`${p}?${(0,P.xO)(E).slice(1)}`}function Vf(){return(Vf=(0,c.Z)(function*(y){const f=yield Hd(y),p=Cn().gapi;return Ie(p,y,"internal-error"),f.open({where:document.body,url:tv(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dm,dontclear:!0},E=>new Promise(function(){var T=(0,c.Z)(function*(x,j){yield E.restyle({setHideOnLeave:!1});const ne=Ct(y,"network-request-failed"),Re=Cn().setTimeout(()=>{j(ne)},Lf.get());function De(){Cn().clearTimeout(Re),x(E)}E.ping(De).then(De,()=>{j(ne)})});return function(x,j){return T.apply(this,arguments)}}()))})).apply(this,arguments)}const hm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bf{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function qd(y,f,p,E,T,x){Ie(y.config.authDomain,y,"auth-domain-config-required"),Ie(y.config.apiKey,y,"invalid-api-key");const j={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:E,v:le.SDK_VERSION,eventId:T};if(f instanceof jr){f.setDefaultLanguage(y.languageCode),j.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(j.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Re,De]of Object.entries(x||{}))j[Re]=De}if(f instanceof Oi){const Re=f.getScopes().filter(De=>""!==De);Re.length>0&&(j.scopes=Re.join(","))}y.tenantId&&(j.tid=y.tenantId);const ne=j;for(const Re of Object.keys(ne))void 0===ne[Re]&&delete ne[Re];return`${function({config:y}){return y.emulator?ze(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,P.xO)(ne).slice(1)}`}const Wd="webStorageSupport";class Cc extends class{constructor(f){this.factorId=f}_process(f,p,E){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,E);case"signin":return this._finalizeSignIn(f,p.credential);default:return nr("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Cc(f)}_finalizeEnroll(f,p,E){return function(y,f){return vt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(y,f))}(f,{idToken:p,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function(y,f){return vt(y,"POST","/v2/accounts/mfaSignIn:finalize",Ht(y,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ic=(()=>{class y{constructor(){}static assertion(p){return Cc._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var y,El="@firebase/auth";class Tc{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(E=>{var T;f((null===(T=E)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Zs(){return window}function bl(){return(bl=(0,c.Z)(function*(y,f,p){var E;const{BuildInfo:T}=Zs();Rn(f.sessionId,"AuthEvent did not contain a session ID");const x=yield Yd(f.sessionId),j={};return Mi()?j.ibi=T.packageName:uo()?j.apn=T.packageName:Lt(y,"operation-not-supported-in-this-environment"),T.displayName&&(j.appDisplayName=T.displayName),j.sessionId=x,qd(y,p,f.type,void 0,null!==(E=f.eventId)&&void 0!==E?E:void 0,j)})).apply(this,arguments)}function hu(){return(hu=(0,c.Z)(function*(y){const{BuildInfo:f}=Zs(),p={};Mi()?p.iosBundleId=f.packageName:uo()?p.androidPackageName=f.packageName:Lt(y,"operation-not-supported-in-this-environment"),yield Pf(y,p)})).apply(this,arguments)}function Kd(){return(Kd=(0,c.Z)(function*(y,f,p){const{cordova:E}=Zs();let T=()=>{};try{yield new Promise((x,j)=>{let ne=null;function Re(){var He;x();const Tt=null===(He=E.plugins.browsertab)||void 0===He?void 0:He.close;"function"==typeof Tt&&Tt(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function De(){ne||(ne=window.setTimeout(()=>{j(Ct(y,"redirect-cancelled-by-user"))},2e3))}function Ze(){"visible"===(null==document?void 0:document.visibilityState)&&De()}f.addPassiveListener(Re),document.addEventListener("resume",De,!1),uo()&&document.addEventListener("visibilitychange",Ze,!1),T=()=>{f.removePassiveListener(Re),document.removeEventListener("resume",De,!1),document.removeEventListener("visibilitychange",Ze,!1),ne&&window.clearTimeout(ne)}})}finally{T()}})).apply(this,arguments)}function Yd(y){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,c.Z)(function*(y){const f=qf(y),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function qf(y){if(Rn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),p=new Uint8Array(f);for(let E=0;E<y.length;E++)p[E]=y.charCodeAt(E);return p}y="Browser",(0,le._registerComponent)(new We.wA("auth",(f,{options:p})=>{const E=f.getProvider("app").getImmediate(),{apiKey:T,authDomain:x}=E.options;return(j=>{Ie(T&&!T.includes(":"),"invalid-api-key",{appName:j.name}),Ie(!(null==x?void 0:x.includes(":")),"argument-error",{appName:j.name});const ne={apiKey:T,authDomain:x,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$u(y)},Re=new gd(j,ne);return function(y,f){const p=(null==f?void 0:f.persistence)||[],E=(Array.isArray(p)?p:[p]).map(Nt);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(E,null==f?void 0:f.popupRedirectResolver)}(Re,p),Re})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,E)=>{f.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new We.wA("auth-internal",f=>{const p=wn(f.getProvider("auth").getImmediate());return new Tc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(El,"0.19.6",void 0),(0,le.registerVersion)(El,"0.19.6","esm2017");class Dc extends yl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function bm(y){return an.apply(this,arguments)}function an(){return(an=(0,c.Z)(function*(y){const f=yield $i()._get(Qd(y));return f&&(yield $i()._remove(Qd(y))),f})).apply(this,arguments)}function zf(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const E=Math.floor(Math.random()*f.length);y.push(f.charAt(E))}return y.join("")}function $i(){return Nt(Fs)}function Qd(y){return Wn("authEvent",y.config.apiKey,y.name)}function Jd(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,...p]=y.split("?");return(0,P.zd)(p.join("?"))}function Ac(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ct("no-auth-event")}}function pu(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function gu(y=(0,P.z$)()){return!("file:"!==pu()&&"ionic:"!==pu()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Im(){try{const y=self.localStorage,f=ea();if(y)return y.setItem(f,"1"),y.removeItem(f),!function(y=(0,P.z$)()){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,P.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,P.hl)()}catch(y){return rh()&&(0,P.hl)()}return!1}function rh(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yf(){return("http:"===pu()||"https:"===pu()||(0,P.ru)()||gu())&&!((0,P.b$)()||(0,P.UG)())&&Im()&&!rh()}function Cl(){return gu()&&"undefined"!=typeof document}function ih(){return(ih=(0,c.Z)(function*(){return!!Cl()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const vr={LOCAL:"local",NONE:"none",SESSION:"session"},mu=Ie,yu="persistence";function Jf(y){return Dm.apply(this,arguments)}function Dm(){return(Dm=(0,c.Z)(function*(y){yield y._initializationPromise;const f=Sc(),p=Wn(yu,y.config.apiKey,y.name);(null==f?void 0:f.sessionStorage)&&f.sessionStorage.setItem(p,y._getPersistence())})).apply(this,arguments)}function Sc(){return"undefined"!=typeof window?window:null}const lv=Ie;class Hs{constructor(){this.browserResolver=Nt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tn,this._completeRedirectFn=oa}_openPopup(f,p,E,T){var x=this;return(0,c.Z)(function*(){var j;Rn(null===(j=x.eventManagers[f._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const ne=qd(f,p,E,nt(),T);return function(y,f,p,E=500,T=600){const x=Math.max((window.screen.availHeight-T)/2,0).toString(),j=Math.max((window.screen.availWidth-E)/2,0).toString();let ne="";const Re=Object.assign(Object.assign({},hm),{width:E.toString(),height:T.toString(),top:x,left:j}),De=(0,P.z$)().toLowerCase();p&&(ne=Fa(De)?"_blank":p),Bo(De)&&(f=f||"http://localhost",Re.scrollbars="yes");const Ze=Object.entries(Re).reduce((Tt,[jn,So])=>`${Tt}${jn}=${So},`,"");if(function(y=(0,P.z$)()){var f;return Mi(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(De)&&"_self"!==ne)return function(y,f){const p=document.createElement("a");p.href=y,p.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(f||"",ne),new Bf(null);const He=window.open(f||"",ne,Ze);Ie(He,y,"popup-blocked");try{He.focus()}catch(Tt){}return new Bf(He)}(f,ne,ea())})()}_openRedirect(f,p,E,T){var x=this;return(0,c.Z)(function*(){return yield x._originValidation(f),y=qd(f,p,E,nt(),T),Cn().location.href=y,new Promise(()=>{});var y})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:T,promise:x}=this.eventManagers[p];return T?Promise.resolve(T):(Rn(x,"If manager is not set, promise should be"),x)}const E=this.initAndGetManager(f);return this.eventManagers[p]={promise:E},E.catch(()=>{delete this.eventManagers[p]}),E}initAndGetManager(f){var p=this;return(0,c.Z)(function*(){const E=yield function(y){return Vf.apply(this,arguments)}(f),T=new yl(f);return E.register("authEvent",x=>(Ie(null==x?void 0:x.authEvent,f,"invalid-auth-event"),{status:T.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:T},p.iframes[f._key()]=E,T})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(Wd,{type:Wd},T=>{var x;const j=null===(x=null==T?void 0:T[0])||void 0===x?void 0:x[Wd];void 0!==j&&p(!!j),Lt(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(y){return To.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return jo()||dt()||Mi()}}),this.cordovaResolver=Nt(class{constructor(){this._redirectPersistence=tn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=oa}_initialize(f){var p=this;return(0,c.Z)(function*(){const E=f._key();let T=p.eventManagers.get(E);return T||(T=new Dc(f),p.eventManagers.set(E,T),p.attachCallbackListeners(f,T)),T})()}_openPopup(f){Lt(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,E,T){var x=this;return(0,c.Z)(function*(){!function(y){var f,p,E,T,x,j,ne,Re,De,Ze;const He=Zs();Ie("function"==typeof(null===(f=null==He?void 0:He.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ie(void 0!==(null===(p=null==He?void 0:He.BuildInfo)||void 0===p?void 0:p.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ie("function"==typeof(null===(x=null===(T=null===(E=null==He?void 0:He.cordova)||void 0===E?void 0:E.plugins)||void 0===T?void 0:T.browsertab)||void 0===x?void 0:x.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(Re=null===(ne=null===(j=null==He?void 0:He.cordova)||void 0===j?void 0:j.plugins)||void 0===ne?void 0:ne.browsertab)||void 0===Re?void 0:Re.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(Ze=null===(De=null==He?void 0:He.cordova)||void 0===De?void 0:De.InAppBrowser)||void 0===Ze?void 0:Ze.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const j=yield x._initialize(f);yield j.initialized(),j.resetRedirect(),au.clear(),yield x._originValidation(f);const ne=function(y,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:zf(),postBody:null,tenantId:y.tenantId,error:Ct(y,"no-auth-event")}}(f,E,T);yield function(y,f){return $i()._set(Qd(y),f)}(f,ne);const Re=yield function(y,f,p){return bl.apply(this,arguments)}(f,ne,p),De=yield function(y){const{cordova:f}=Zs();return new Promise(p=>{f.plugins.browsertab.isAvailable(E=>{let T=null;E?f.plugins.browsertab.openUrl(y):T=f.InAppBrowser.open(y,function(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(T)})})}(Re);return function(y,f,p){return Kd.apply(this,arguments)}(f,j,De)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(y){return hu.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:E,handleOpenURL:T,BuildInfo:x}=Zs(),j=setTimeout((0,c.Z)(function*(){yield bm(f),p.onEvent(Ac())}),500),ne=function(){var Ze=(0,c.Z)(function*(He){clearTimeout(j);const Tt=yield bm(f);let jn=null;Tt&&(null==He?void 0:He.url)&&(jn=function(y,f){var p,E;const T=function(y){const f=Jd(y),p=f.link?decodeURIComponent(f.link):void 0,E=Jd(p).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Jd(T).link||T||E||p||y}(f);if(T.includes("/__/auth/callback")){const x=Jd(T),j=x.firebaseError?function(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(x.firebaseError)):null,ne=null===(E=null===(p=null==j?void 0:j.code)||void 0===p?void 0:p.split("auth/"))||void 0===E?void 0:E[1],Re=ne?Ct(ne):null;return Re?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(Tt,He.url)),p.onEvent(jn||Ac())});return function(Tt){return Ze.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,ne);const Re=T,De=`${x.packageName.toLowerCase()}://`;Zs().handleOpenURL=function(){var Ze=(0,c.Z)(function*(He){if(He.toLowerCase().startsWith(De)&&ne({url:He}),"function"==typeof Re)try{Re(He)}catch(Tt){console.error(Tt)}});return function(He){return Ze.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=tn,this._completeRedirectFn=oa}_initialize(f){var p=this;return(0,c.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,E,T){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(f,p,E,T)})()}_openRedirect(f,p,E,T){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(f,p,E,T)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Cl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const p=yield function(){return ih.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function _u(y){return y.unwrap()}function sh(y){return xm(y)}function xm(y){const{_tokenResponse:f}=y instanceof P.ZR?y.customData:y;if(!f)return null;if(!(y instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return ae.credentialFromResult(y);const p=f.providerId;if(!p||"password"===p)return null;let E;switch(p){case"google.com":E=Za;break;case"facebook.com":E=qu;break;case"github.com":E=Id;break;case"twitter.com":E=xr;break;default:const{oauthIdToken:T,oauthAccessToken:x,oauthTokenSecret:j,pendingToken:ne,nonce:Re}=f;return x||j||T||ne?ne?p.startsWith("saml.")?Wo._create(p,ne):_n._fromParams({providerId:p,signInMethod:p,pendingToken:ne,idToken:T,accessToken:x}):new Kt(p).credential({idToken:T,accessToken:x,rawNonce:Re}):null}return y instanceof P.ZR?E.credentialFromError(y):E.credentialFromResult(y)}function Er(y,f){return f.catch(p=>{throw p instanceof P.ZR&&function(y,f){var p;const E=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Mm(y,function(y,f){var p;const E=(0,P.m9)(y),T=f;return Ie(f.customData.operationType,E,"argument-error"),Ie(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,E,"argument-error"),ul._fromError(E,T)}(y,f));else if(E){const T=xm(f),x=f;T&&(x.credential=T,x.tenantId=E.tenantId||void 0,x.email=E.email||void 0,x.phoneNumber=E.phoneNumber||void 0)}}(y,p),p}).then(p=>{const T=p.user;return{operationType:p.operationType,credential:sh(p),additionalUserInfo:sr(p),user:Do.getOrCreate(T)}})}function Il(y,f){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(y,f){const p=yield f;return{verificationId:p.verificationId,confirm:E=>Er(y,p.confirm(E))}})).apply(this,arguments)}class Mm{constructor(f,p){this.resolver=p,this.auth=function(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Er(_u(this.auth),this.resolver.resolveSignIn(f))}}class Do{constructor(f){this._delegate=f,this.multiFactor=function(y){const f=(0,P.m9)(y);return yo.has(f)||yo.set(f,cl._fromUser(f)),yo.get(f)}(f)}static getOrCreate(f){return Do.USER_MAP.has(f)||Do.USER_MAP.set(f,new Do(f)),Do.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,c.Z)(function*(){return Er(p.auth,vn(p._delegate,f))})()}linkWithPhoneNumber(f,p){var E=this;return(0,c.Z)(function*(){return Il(E.auth,function(y,f,p){return mc.apply(this,arguments)}(E._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,c.Z)(function*(){return Er(p.auth,function(y,f,p){return gt.apply(this,arguments)}(p._delegate,f,Hs))})()}linkWithRedirect(f){var p=this;return(0,c.Z)(function*(){return yield Jf(wn(p.auth)),function(y,f,p){return function(y,f,p){return Bd.apply(this,arguments)}(y,f,p)}(p._delegate,f,Hs)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,c.Z)(function*(){return Er(p.auth,po(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return Il(this.auth,function(y,f,p){return C.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return Er(this.auth,function(y,f,p){return os.apply(this,arguments)}(this._delegate,f,Hs))}reauthenticateWithRedirect(f){var p=this;return(0,c.Z)(function*(){return yield Jf(wn(p.auth)),function(y,f,p){return function(y,f,p){return Bi.apply(this,arguments)}(y,f,p)}(p._delegate,f,Hs)})()}sendEmailVerification(f){return function(y,f){return $r.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,c.Z)(function*(){return yield function(y,f){return rt.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function(y,f){return Qa((0,P.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function(y,f){return Qa((0,P.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(y,f){return z.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(y,f){return On.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function(y,f,p){return Ka.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Do.USER_MAP=new WeakMap;const Ao=Ie;let Xf=(()=>{class y{constructor(p,E){if(this.app=p,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=p.options;Ao(T,"invalid-api-key",{appName:p.name}),Ao(T,"invalid-api-key",{appName:p.name});const x="undefined"!=typeof window?Hs:void 0;this._delegate=E.initialize({options:{persistence:Rm(T,p.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(Is),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Do.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,E){!function(y,f,p){const E=wn(y);Ie(E._canInitEmulator,E,"emulator-config-failed"),Ie(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const T=!!(null==p?void 0:p.disableWarnings),x=zn(f),{host:j,port:ne}=function(y){const f=zn(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!p)return{host:"",port:null};const E=p[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(E);if(T){const x=T[1];return{host:x,port:Ri(E.substr(x.length+1))}}{const[x,j]=E.split(":");return{host:x,port:Ri(j)}}}(f);E.config.emulator={url:`${x}//${j}${null===ne?"":`:${ne}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:j,port:ne,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function(){function y(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,E)}applyActionCode(p){return function(y,f){return Qu.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Ju(this._delegate,p)}confirmPasswordReset(p,E){return function(y,f,p){return vi.apply(this,arguments)}(this._delegate,p,E)}createUserWithEmailAndPassword(p,E){var T=this;return(0,c.Z)(function*(){return Er(T._delegate,function(y,f,p){return el.apply(this,arguments)}(T._delegate,p,E))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function(y,f){return Cf.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function(y,f){const p=Rs.parseLink(f);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,c.Z)(function*(){Ao(Yf(),p._delegate,"operation-not-supported-in-this-environment");const E=yield function(y,f){return ml.apply(this,arguments)}(p._delegate,Hs);return E?Er(p._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function(y,f){wn(y)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,E,T){const{next:x,error:j,complete:ne}=dv(p,E,T);return this._delegate.onAuthStateChanged(x,j,ne)}onIdTokenChanged(p,E,T){const{next:x,error:j,complete:ne}=dv(p,E,T);return this._delegate.onIdTokenChanged(x,j,ne)}sendSignInLinkToEmail(p,E){return function(y,f,p){return ns.apply(this,arguments)}(this._delegate,p,E)}sendPasswordResetEmail(p,E){return function(y,f,p){return Ko.apply(this,arguments)}(this._delegate,p,E||void 0)}setPersistence(p){var E=this;return(0,c.Z)(function*(){let T;switch(function(y,f){mu(Object.values(vr).includes(f),y,"invalid-persistence-type"),(0,P.b$)()?mu(f!==vr.SESSION,y,"unsupported-persistence-type"):(0,P.UG)()?mu(f===vr.NONE,y,"unsupported-persistence-type"):rh()?mu(f===vr.NONE||f===vr.LOCAL&&(0,P.hl)(),y,"unsupported-persistence-type"):mu(f===vr.NONE||Im(),y,"unsupported-persistence-type")}(E._delegate,p),p){case vr.SESSION:T=tn;break;case vr.LOCAL:T=(yield Nt(Yt)._isAvailable())?Yt:Fs;break;case vr.NONE:T=en;break;default:return Lt("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Er(this._delegate,function(y){return zo.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Er(this._delegate,bt(this._delegate,p))}signInWithCustomToken(p){return Er(this._delegate,function(y,f){return Yu.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,E){return Er(this._delegate,function(y,f,p){return bt((0,P.m9)(y),Qi.credential(f,p))}(this._delegate,p,E))}signInWithEmailLink(p,E){return Er(this._delegate,function(y,f,p){return za.apply(this,arguments)}(this._delegate,p,E))}signInWithPhoneNumber(p,E){return Il(this._delegate,function(y,f,p){return ar.apply(this,arguments)}(this._delegate,p,E))}signInWithPopup(p){var E=this;return(0,c.Z)(function*(){return Ao(Yf(),E._delegate,"operation-not-supported-in-this-environment"),Er(E._delegate,function(y,f,p){return wo.apply(this,arguments)}(E._delegate,p,Hs))})()}signInWithRedirect(p){var E=this;return(0,c.Z)(function*(){return Ao(Yf(),E._delegate,"operation-not-supported-in-this-environment"),yield Jf(E._delegate),function(y,f,p){return function(y,f,p){return wi.apply(this,arguments)}(y,f,p)}(E._delegate,p,Hs)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function(y,f){return Qo.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=vr,y})();function dv(y,f,p){let E=y;"function"!=typeof y&&({next:E,error:f,complete:p}=y);const T=E;return{next:j=>T(j&&Do.getOrCreate(j)),error:f,complete:p}}function Rm(y,f){const p=function(y,f){const p=Sc();if(!(null==p?void 0:p.sessionStorage))return[];const E=Wn(yu,y,f);switch(p.sessionStorage.getItem(E)){case vr.NONE:return[en];case vr.LOCAL:return[Yt,tn];case vr.SESSION:return[tn];default:return[]}}(y,f);if("undefined"!=typeof self&&!p.includes(Yt)&&p.push(Yt),"undefined"!=typeof window)for(const E of[Fs,tn])p.includes(E)||p.push(E);return p.includes(en)||p.push(en),p}class ep{constructor(){this.providerId="phone",this._delegate=new ae(_u(J.Z.auth()))}static credential(f,p){return ae.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}ep.PHONE_SIGN_IN_METHOD=ae.PHONE_SIGN_IN_METHOD,ep.PROVIDER_ID=ae.PROVIDER_ID;const hv=Ie;class fv{constructor(f,p,E=J.Z.app()){var T;hv(null===(T=E.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new bo(f,p,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new We.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),E=f.getProvider("auth");return new Xf(p,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Qi,FacebookAuthProvider:qu,GithubAuthProvider:Id,GoogleAuthProvider:Za,OAuthProvider:Kt,SAMLAuthProvider:ho,PhoneAuthProvider:ep,PhoneMultiFactorGenerator:Ic,RecaptchaVerifier:fv,TwitterAuthProvider:xr,Auth:Xf,AuthCredential:xs,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.6")}(J.Z)},6676:function(Je,Ee){!function(L){"use strict";function c(W){return Array.prototype.slice.call(W)}function J(W){return new Promise(function(ge,fe){W.onsuccess=function(){ge(W.result)},W.onerror=function(){fe(W.error)}})}function P(W,ge,fe){var he,xe=new Promise(function($e,Oe){J(he=W[ge].apply(W,fe)).then($e,Oe)});return xe.request=he,xe}function le(W,ge,fe){var he=P(W,ge,fe);return he.then(function(xe){if(xe)return new F(xe,he.request)})}function te(W,ge,fe){fe.forEach(function(he){Object.defineProperty(W.prototype,he,{get:function(){return this[ge][he]},set:function(xe){this[ge][he]=xe}})})}function re(W,ge,fe,he){he.forEach(function(xe){xe in fe.prototype&&(W.prototype[xe]=function(){return P(this[ge],xe,arguments)})})}function pe(W,ge,fe,he){he.forEach(function(xe){xe in fe.prototype&&(W.prototype[xe]=function(){return this[ge][xe].apply(this[ge],arguments)})})}function ue(W,ge,fe,he){he.forEach(function(xe){xe in fe.prototype&&(W.prototype[xe]=function(){return le(this[ge],xe,arguments)})})}function X(W){this._index=W}function F(W,ge){this._cursor=W,this._request=ge}function V(W){this._store=W}function Y(W){this._tx=W,this.complete=new Promise(function(ge,fe){W.oncomplete=function(){ge()},W.onerror=function(){fe(W.error)},W.onabort=function(){fe(W.error)}})}function K(W,ge,fe){this._db=W,this.oldVersion=ge,this.transaction=new Y(fe)}function oe(W){this._db=W}te(X,"_index",["name","keyPath","multiEntry","unique"]),re(X,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ue(X,"_index",IDBIndex,["openCursor","openKeyCursor"]),te(F,"_cursor",["direction","key","primaryKey","value"]),re(F,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(W){W in IDBCursor.prototype&&(F.prototype[W]=function(){var ge=this,fe=arguments;return Promise.resolve().then(function(){return ge._cursor[W].apply(ge._cursor,fe),J(ge._request).then(function(he){if(he)return new F(he,ge._request)})})})}),V.prototype.createIndex=function(){return new X(this._store.createIndex.apply(this._store,arguments))},V.prototype.index=function(){return new X(this._store.index.apply(this._store,arguments))},te(V,"_store",["name","keyPath","indexNames","autoIncrement"]),re(V,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ue(V,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),pe(V,"_store",IDBObjectStore,["deleteIndex"]),Y.prototype.objectStore=function(){return new V(this._tx.objectStore.apply(this._tx,arguments))},te(Y,"_tx",["objectStoreNames","mode"]),pe(Y,"_tx",IDBTransaction,["abort"]),K.prototype.createObjectStore=function(){return new V(this._db.createObjectStore.apply(this._db,arguments))},te(K,"_db",["name","version","objectStoreNames"]),pe(K,"_db",IDBDatabase,["deleteObjectStore","close"]),oe.prototype.transaction=function(){return new Y(this._db.transaction.apply(this._db,arguments))},te(oe,"_db",["name","version","objectStoreNames"]),pe(oe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(W){[V,X].forEach(function(ge){W in ge.prototype&&(ge.prototype[W.replace("open","iterate")]=function(){var fe=c(arguments),he=fe[fe.length-1],xe=this._store||this._index,$e=xe[W].apply(xe,fe.slice(0,-1));$e.onsuccess=function(){he($e.result)}})})}),[X,V].forEach(function(W){W.prototype.getAll||(W.prototype.getAll=function(ge,fe){var he=this,xe=[];return new Promise(function($e){he.iterateCursor(ge,function(Oe){Oe?(xe.push(Oe.value),void 0===fe||xe.length!=fe?Oe.continue():$e(xe)):$e(xe)})})})}),L.openDb=function(W,ge,fe){var he=P(indexedDB,"open",[W,ge]),xe=he.request;return xe&&(xe.onupgradeneeded=function($e){fe&&fe(new K(xe.result,$e.oldVersion,xe.transaction))}),he.then(function($e){return new oe($e)})},L.deleteDb=function(W){return P(indexedDB,"deleteDatabase",[W])},Object.defineProperty(L,"__esModule",{value:!0})}(Ee)},7574:(Je,Ee,L)=>{"use strict";L.d(Ee,{y:()=>V});var c=L(7393),P=L(9181),le=L(6490),re=L(6554),pe=L(4487);var F=L(2494);let V=(()=>{class K{constructor(be){this._isScalar=!1,be&&(this._subscribe=be)}lift(be){const de=new K;return de.source=this,de.operator=be,de}subscribe(be,de,W){const{operator:ge}=this,fe=function(K,oe,be){if(K){if(K instanceof c.L)return K;if(K[P.b])return K[P.b]()}return K||oe||be?new c.L(K,oe,be):new c.L(le.c)}(be,de,W);if(fe.add(ge?ge.call(fe,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!fe.syncErrorThrowable?this._subscribe(fe):this._trySubscribe(fe)),F.v.useDeprecatedSynchronousErrorHandling&&fe.syncErrorThrowable&&(fe.syncErrorThrowable=!1,fe.syncErrorThrown))throw fe.syncErrorValue;return fe}_trySubscribe(be){try{return this._subscribe(be)}catch(de){F.v.useDeprecatedSynchronousErrorHandling&&(be.syncErrorThrown=!0,be.syncErrorValue=de),function(K){for(;K;){const{closed:oe,destination:be,isStopped:de}=K;if(oe||de)return!1;K=be&&be instanceof c.L?be:null}return!0}(be)?be.error(de):console.warn(de)}}forEach(be,de){return new(de=Y(de))((W,ge)=>{let fe;fe=this.subscribe(he=>{try{be(he)}catch(xe){ge(xe),fe&&fe.unsubscribe()}},ge,W)})}_subscribe(be){const{source:de}=this;return de&&de.subscribe(be)}[re.L](){return this}pipe(...be){return 0===be.length?this:function(K){return 0===K.length?pe.y:1===K.length?K[0]:function(be){return K.reduce((de,W)=>W(de),be)}}(be)(this)}toPromise(be){return new(be=Y(be))((de,W)=>{let ge;this.subscribe(fe=>ge=fe,fe=>W(fe),()=>de(ge))})}}return K.create=oe=>new K(oe),K})();function Y(K){if(K||(K=F.v.Promise||Promise),!K)throw new Error("no Promise impl found");return K}},6490:(Je,Ee,L)=>{"use strict";L.d(Ee,{c:()=>P});var c=L(2494),J=L(4449);const P={closed:!0,next(le){},error(le){if(c.v.useDeprecatedSynchronousErrorHandling)throw le;(0,J.z)(le)},complete(){}}},9765:(Je,Ee,L)=>{"use strict";L.d(Ee,{Yc:()=>pe,xQ:()=>ue});var c=L(7574),J=L(7393),P=L(5319),le=L(7971),te=L(8858),re=L(9181);class pe extends J.L{constructor(V){super(V),this.destination=V}}let ue=(()=>{class F extends c.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[re.b](){return new pe(this)}lift(Y){const K=new X(this,this);return K.operator=Y,K}next(Y){if(this.closed)throw new le.N;if(!this.isStopped){const{observers:K}=this,oe=K.length,be=K.slice();for(let de=0;de<oe;de++)be[de].next(Y)}}error(Y){if(this.closed)throw new le.N;this.hasError=!0,this.thrownError=Y,this.isStopped=!0;const{observers:K}=this,oe=K.length,be=K.slice();for(let de=0;de<oe;de++)be[de].error(Y);this.observers.length=0}complete(){if(this.closed)throw new le.N;this.isStopped=!0;const{observers:Y}=this,K=Y.length,oe=Y.slice();for(let be=0;be<K;be++)oe[be].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Y){if(this.closed)throw new le.N;return super._trySubscribe(Y)}_subscribe(Y){if(this.closed)throw new le.N;return this.hasError?(Y.error(this.thrownError),P.w.EMPTY):this.isStopped?(Y.complete(),P.w.EMPTY):(this.observers.push(Y),new te.W(this,Y))}asObservable(){const Y=new c.y;return Y.source=this,Y}}return F.create=(V,Y)=>new X(V,Y),F})();class X extends ue{constructor(V,Y){super(),this.destination=V,this.source=Y}next(V){const{destination:Y}=this;Y&&Y.next&&Y.next(V)}error(V){const{destination:Y}=this;Y&&Y.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:Y}=this;return Y?this.source.subscribe(V):P.w.EMPTY}}},8858:(Je,Ee,L)=>{"use strict";L.d(Ee,{W:()=>J});var c=L(5319);class J extends c.w{constructor(le,te){super(),this.subject=le,this.subscriber=te,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const le=this.subject,te=le.observers;if(this.subject=null,!te||0===te.length||le.isStopped||le.closed)return;const re=te.indexOf(this.subscriber);-1!==re&&te.splice(re,1)}}},7393:(Je,Ee,L)=>{"use strict";L.d(Ee,{L:()=>pe});var c=L(9105),J=L(6490),P=L(5319),le=L(9181),te=L(2494),re=L(4449);class pe extends P.w{constructor(F,V,Y){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=J.c;break;case 1:if(!F){this.destination=J.c;break}if("object"==typeof F){F instanceof pe?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new ue(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new ue(this,F,V,Y)}}[le.b](){return this}static create(F,V,Y){const K=new pe(F,V,Y);return K.syncErrorThrowable=!1,K}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class ue extends pe{constructor(F,V,Y,K){super(),this._parentSubscriber=F;let oe,be=this;(0,c.m)(V)?oe=V:V&&(oe=V.next,Y=V.error,K=V.complete,V!==J.c&&(be=Object.create(V),(0,c.m)(be.unsubscribe)&&this.add(be.unsubscribe.bind(be)),be.unsubscribe=this.unsubscribe.bind(this))),this._context=be,this._next=oe,this._error=Y,this._complete=K}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;te.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:Y}=te.v;if(this._error)Y&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(V.syncErrorThrowable)Y?(V.syncErrorValue=F,V.syncErrorThrown=!0):(0,re.z)(F),this.unsubscribe();else{if(this.unsubscribe(),Y)throw F;(0,re.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const V=()=>this._complete.call(this._context);te.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,V){try{F.call(this._context,V)}catch(Y){if(this.unsubscribe(),te.v.useDeprecatedSynchronousErrorHandling)throw Y;(0,re.z)(Y)}}__tryOrSetError(F,V,Y){if(!te.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,Y)}catch(K){return te.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=K,F.syncErrorThrown=!0,!0):((0,re.z)(K),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(Je,Ee,L)=>{"use strict";L.d(Ee,{w:()=>re});var c=L(9796),J=L(1555),P=L(9105);const te=(()=>{function ue(X){return Error.call(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((F,V)=>`${V+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X,this}return ue.prototype=Object.create(Error.prototype),ue})();class re{constructor(X){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,X&&(this._ctorUnsubscribe=!0,this._unsubscribe=X)}unsubscribe(){let X;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:V,_unsubscribe:Y,_subscriptions:K}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof re)F.remove(this);else if(null!==F)for(let oe=0;oe<F.length;++oe)F[oe].remove(this);if((0,P.m)(Y)){V&&(this._unsubscribe=void 0);try{Y.call(this)}catch(oe){X=oe instanceof te?pe(oe.errors):[oe]}}if((0,c.k)(K)){let oe=-1,be=K.length;for(;++oe<be;){const de=K[oe];if((0,J.K)(de))try{de.unsubscribe()}catch(W){X=X||[],W instanceof te?X=X.concat(pe(W.errors)):X.push(W)}}}if(X)throw new te(X)}add(X){let F=X;if(!X)return re.EMPTY;switch(typeof X){case"function":F=new re(X);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof re)){const K=F;F=new re,F._subscriptions=[K]}break;default:throw new Error("unrecognized teardown "+X+" added to Subscription.")}let{_parentOrParents:V}=F;if(null===V)F._parentOrParents=this;else if(V instanceof re){if(V===this)return F;F._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return F;V.push(this)}const Y=this._subscriptions;return null===Y?this._subscriptions=[F]:Y.push(F),F}remove(X){const F=this._subscriptions;if(F){const V=F.indexOf(X);-1!==V&&F.splice(V,1)}}}var ue;function pe(ue){return ue.reduce((X,F)=>X.concat(F instanceof te?F.errors:F),[])}re.EMPTY=((ue=new re).closed=!0,ue)},2494:(Je,Ee,L)=>{"use strict";L.d(Ee,{v:()=>J});let c=!1;const J={Promise:void 0,set useDeprecatedSynchronousErrorHandling(P){if(P){const le=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+le.stack)}else c&&console.log("RxJS: Back to a better error behavior. Thank you. <3");c=P},get useDeprecatedSynchronousErrorHandling(){return c}}},5345:(Je,Ee,L)=>{"use strict";L.d(Ee,{IY:()=>le,Ds:()=>re,ft:()=>ue});var c=L(7393),J=L(7574),P=L(7444);class le extends c.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class re extends c.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function ue(X,F){if(F.closed)return;if(X instanceof J.y)return X.subscribe(F);let V;try{V=(0,P.s)(X)(F)}catch(Y){F.error(Y)}return V}},2441:(Je,Ee,L)=>{"use strict";L.d(Ee,{c:()=>te,N:()=>re});var c=L(9765),J=L(7574),P=L(5319),le=L(1307);class te extends J.y{constructor(V,Y){super(),this.source=V,this.subjectFactory=Y,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new P.w,V.add(this.source.subscribe(new pe(this.getSubject(),this))),V.closed&&(this._connection=null,V=P.w.EMPTY)),V}refCount(){return(0,le.x)()(this)}}const re=(()=>{const F=te.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class pe extends c.Yc{constructor(V,Y){super(V),this.connectable=Y}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const Y=V._connection;V._refCount=0,V._subject=null,V._connection=null,Y&&Y.unsubscribe()}}}},9193:(Je,Ee,L)=>{"use strict";L.d(Ee,{E:()=>J,c:()=>P});var c=L(7574);const J=new c.y(te=>te.complete());function P(te){return te?function(te){return new c.y(re=>te.schedule(()=>re.complete()))}(te):J}},4402:(Je,Ee,L)=>{"use strict";L.d(Ee,{D:()=>be});var c=L(7574),J=L(7444),P=L(5319),le=L(6554),pe=L(4087),ue=L(377),V=L(4072),Y=L(9489);function be(de,W){return W?function(de,W){if(null!=de){if(function(de){return de&&"function"==typeof de[le.L]}(de))return function(de,W){return new c.y(ge=>{const fe=new P.w;return fe.add(W.schedule(()=>{const he=de[le.L]();fe.add(he.subscribe({next(xe){fe.add(W.schedule(()=>ge.next(xe)))},error(xe){fe.add(W.schedule(()=>ge.error(xe)))},complete(){fe.add(W.schedule(()=>ge.complete()))}}))})),fe})}(de,W);if((0,V.t)(de))return function(de,W){return new c.y(ge=>{const fe=new P.w;return fe.add(W.schedule(()=>de.then(he=>{fe.add(W.schedule(()=>{ge.next(he),fe.add(W.schedule(()=>ge.complete()))}))},he=>{fe.add(W.schedule(()=>ge.error(he)))}))),fe})}(de,W);if((0,Y.z)(de))return(0,pe.r)(de,W);if(function(de){return de&&"function"==typeof de[ue.hZ]}(de)||"string"==typeof de)return function(de,W){if(!de)throw new Error("Iterable cannot be null");return new c.y(ge=>{const fe=new P.w;let he;return fe.add(()=>{he&&"function"==typeof he.return&&he.return()}),fe.add(W.schedule(()=>{he=de[ue.hZ](),fe.add(W.schedule(function(){if(ge.closed)return;let xe,$e;try{const Oe=he.next();xe=Oe.value,$e=Oe.done}catch(Oe){return void ge.error(Oe)}$e?ge.complete():(ge.next(xe),this.schedule())}))})),fe})}(de,W)}throw new TypeError((null!==de&&typeof de||de)+" is not observable")}(de,W):de instanceof c.y?de:new c.y((0,J.s)(de))}},6693:(Je,Ee,L)=>{"use strict";L.d(Ee,{n:()=>le});var c=L(7574),J=L(5015),P=L(4087);function le(te,re){return re?(0,P.r)(te,re):new c.y((0,J.V)(te))}},6682:(Je,Ee,L)=>{"use strict";L.d(Ee,{T:()=>te});var c=L(7574),J=L(4869),P=L(3282),le=L(6693);function te(...re){let pe=Number.POSITIVE_INFINITY,ue=null,X=re[re.length-1];return(0,J.K)(X)?(ue=re.pop(),re.length>1&&"number"==typeof re[re.length-1]&&(pe=re.pop())):"number"==typeof X&&(pe=re.pop()),null===ue&&1===re.length&&re[0]instanceof c.y?re[0]:(0,P.J)(pe)((0,le.n)(re,ue))}},5917:(Je,Ee,L)=>{"use strict";L.d(Ee,{of:()=>le});var c=L(4869),J=L(6693),P=L(4087);function le(...te){let re=te[te.length-1];return(0,c.K)(re)?(te.pop(),(0,P.r)(te,re)):(0,J.n)(te)}},8002:(Je,Ee,L)=>{"use strict";L.d(Ee,{U:()=>J});var c=L(7393);function J(te,re){return function(ue){if("function"!=typeof te)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ue.lift(new P(te,re))}}class P{constructor(re,pe){this.project=re,this.thisArg=pe}call(re,pe){return pe.subscribe(new le(re,this.project,this.thisArg))}}class le extends c.L{constructor(re,pe,ue){super(re),this.project=pe,this.count=0,this.thisArg=ue||this}_next(re){let pe;try{pe=this.project.call(this.thisArg,re,this.count++)}catch(ue){return void this.destination.error(ue)}this.destination.next(pe)}}},3282:(Je,Ee,L)=>{"use strict";L.d(Ee,{J:()=>P});var c=L(9773),J=L(4487);function P(le=Number.POSITIVE_INFINITY){return(0,c.zg)(J.y,le)}},9773:(Je,Ee,L)=>{"use strict";L.d(Ee,{zg:()=>le});var c=L(8002),J=L(4402),P=L(5345);function le(ue,X,F=Number.POSITIVE_INFINITY){return"function"==typeof X?V=>V.pipe(le((Y,K)=>(0,J.D)(ue(Y,K)).pipe((0,c.U)((oe,be)=>X(Y,oe,K,be))),F)):("number"==typeof X&&(F=X),V=>V.lift(new te(ue,F)))}class te{constructor(X,F=Number.POSITIVE_INFINITY){this.project=X,this.concurrent=F}call(X,F){return F.subscribe(new re(X,this.project,this.concurrent))}}class re extends P.Ds{constructor(X,F,V=Number.POSITIVE_INFINITY){super(X),this.project=F,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(X){this.active<this.concurrent?this._tryNext(X):this.buffer.push(X)}_tryNext(X){let F;const V=this.index++;try{F=this.project(X,V)}catch(Y){return void this.destination.error(Y)}this.active++,this._innerSub(F)}_innerSub(X){const F=new P.IY(this),V=this.destination;V.add(F);const Y=(0,P.ft)(X,F);Y!==F&&V.add(Y)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(X){this.destination.next(X)}notifyComplete(){const X=this.buffer;this.active--,X.length>0?this._next(X.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Je,Ee,L)=>{"use strict";L.d(Ee,{ht:()=>V,QV:()=>X});var c=L(7393),J=L(9193),P=L(5917),le=L(7574);class ue{constructor(oe,be,de){this.kind=oe,this.value=be,this.error=de,this.hasValue="N"===oe}observe(oe){switch(this.kind){case"N":return oe.next&&oe.next(this.value);case"E":return oe.error&&oe.error(this.error);case"C":return oe.complete&&oe.complete()}}do(oe,be,de){switch(this.kind){case"N":return oe&&oe(this.value);case"E":return be&&be(this.error);case"C":return de&&de()}}accept(oe,be,de){return oe&&"function"==typeof oe.next?this.observe(oe):this.do(oe,be,de)}toObservable(){switch(this.kind){case"N":return(0,P.of)(this.value);case"E":return K=this.error,new le.y(be=>be.error(K));case"C":return(0,J.c)()}var K;throw new Error("unexpected notification kind value")}static createNext(oe){return void 0!==oe?new ue("N",oe):ue.undefinedValueNotification}static createError(oe){return new ue("E",void 0,oe)}static createComplete(){return ue.completeNotification}}function X(K,oe=0){return function(de){return de.lift(new F(K,oe))}}ue.completeNotification=new ue("C"),ue.undefinedValueNotification=new ue("N",void 0);class F{constructor(oe,be=0){this.scheduler=oe,this.delay=be}call(oe,be){return be.subscribe(new V(oe,this.scheduler,this.delay))}}class V extends c.L{constructor(oe,be,de=0){super(oe),this.scheduler=be,this.delay=de}static dispatch(oe){const{notification:be,destination:de}=oe;be.observe(de),this.unsubscribe()}scheduleMessage(oe){this.destination.add(this.scheduler.schedule(V.dispatch,this.delay,new Y(oe,this.destination)))}_next(oe){this.scheduleMessage(ue.createNext(oe))}_error(oe){this.scheduleMessage(ue.createError(oe)),this.unsubscribe()}_complete(){this.scheduleMessage(ue.createComplete()),this.unsubscribe()}}class Y{constructor(oe,be){this.notification=oe,this.destination=be}}},1307:(Je,Ee,L)=>{"use strict";L.d(Ee,{x:()=>J});var c=L(7393);function J(){return function(re){return re.lift(new P(re))}}class P{constructor(re){this.connectable=re}call(re,pe){const{connectable:ue}=this;ue._refCount++;const X=new le(re,ue),F=pe.subscribe(X);return X.closed||(X.connection=ue.connect()),F}}class le extends c.L{constructor(re,pe){super(re),this.connectable=pe}_unsubscribe(){const{connectable:re}=this;if(!re)return void(this.connection=null);this.connectable=null;const pe=re._refCount;if(pe<=0)return void(this.connection=null);if(re._refCount=pe-1,pe>1)return void(this.connection=null);const{connection:ue}=this,X=re._connection;this.connection=null,X&&(!ue||X===ue)&&X.unsubscribe()}}},3101:(Je,Ee,L)=>{"use strict";L.d(Ee,{R:()=>W});var c=L(7574);let J=1;const P=Promise.resolve(),le={};function te(fe){return fe in le&&(delete le[fe],!0)}const re={setImmediate(fe){const he=J++;return le[he]=!0,P.then(()=>te(he)&&fe()),he},clearImmediate(fe){te(fe)}};var ue=L(6465),F=L(6102);const K=new class extends F.v{flush(he){this.active=!0,this.scheduled=void 0;const{actions:xe}=this;let $e,Oe=-1,At=xe.length;he=he||xe.shift();do{if($e=he.execute(he.state,he.delay))break}while(++Oe<At&&(he=xe.shift()));if(this.active=!1,$e){for(;++Oe<At&&(he=xe.shift());)he.unsubscribe();throw $e}}}(class extends ue.o{constructor(he,xe){super(he,xe),this.scheduler=he,this.work=xe}requestAsyncId(he,xe,$e=0){return null!==$e&&$e>0?super.requestAsyncId(he,xe,$e):(he.actions.push(this),he.scheduled||(he.scheduled=re.setImmediate(he.flush.bind(he,null))))}recycleAsyncId(he,xe,$e=0){if(null!==$e&&$e>0||null===$e&&this.delay>0)return super.recycleAsyncId(he,xe,$e);0===he.actions.length&&(re.clearImmediate(xe),he.scheduled=void 0)}});var oe=L(9796);class de extends c.y{constructor(he,xe=0,$e=K){var fe;super(),this.source=he,this.delayTime=xe,this.scheduler=$e,(!(!(0,oe.k)(fe=xe)&&fe-parseFloat(fe)+1>=0)||xe<0)&&(this.delayTime=0),(!$e||"function"!=typeof $e.schedule)&&(this.scheduler=K)}static create(he,xe=0,$e=K){return new de(he,xe,$e)}static dispatch(he){const{source:xe,subscriber:$e}=he;return this.add(xe.subscribe($e))}_subscribe(he){return this.scheduler.schedule(de.dispatch,this.delayTime,{source:this.source,subscriber:he})}}function W(fe,he=0){return function($e){return $e.lift(new ge(fe,he))}}class ge{constructor(he,xe){this.scheduler=he,this.delay=xe}call(he,xe){return new de(xe,this.delay,this.scheduler).subscribe(he)}}},3342:(Je,Ee,L)=>{"use strict";L.d(Ee,{b:()=>le});var c=L(7393);function J(){}var P=L(9105);function le(pe,ue,X){return function(V){return V.lift(new te(pe,ue,X))}}class te{constructor(ue,X,F){this.nextOrObserver=ue,this.error=X,this.complete=F}call(ue,X){return X.subscribe(new re(ue,this.nextOrObserver,this.error,this.complete))}}class re extends c.L{constructor(ue,X,F,V){super(ue),this._tapNext=J,this._tapError=J,this._tapComplete=J,this._tapError=F||J,this._tapComplete=V||J,(0,P.m)(X)?(this._context=this,this._tapNext=X):X&&(this._context=X,this._tapNext=X.next||J,this._tapError=X.error||J,this._tapComplete=X.complete||J)}_next(ue){try{this._tapNext.call(this._context,ue)}catch(X){return void this.destination.error(X)}this.destination.next(ue)}_error(ue){try{this._tapError.call(this._context,ue)}catch(X){return void this.destination.error(X)}this.destination.error(ue)}_complete(){try{this._tapComplete.call(this._context)}catch(ue){return void this.destination.error(ue)}return this.destination.complete()}}},4087:(Je,Ee,L)=>{"use strict";L.d(Ee,{r:()=>P});var c=L(7574),J=L(5319);function P(le,te){return new c.y(re=>{const pe=new J.w;let ue=0;return pe.add(te.schedule(function(){ue!==le.length?(re.next(le[ue++]),re.closed||pe.add(this.schedule())):re.complete()})),pe})}},6465:(Je,Ee,L)=>{"use strict";L.d(Ee,{o:()=>P});var c=L(5319);class J extends c.w{constructor(te,re){super()}schedule(te,re=0){return this}}class P extends J{constructor(te,re){super(te,re),this.scheduler=te,this.work=re,this.pending=!1}schedule(te,re=0){if(this.closed)return this;this.state=te;const pe=this.id,ue=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(ue,pe,re)),this.pending=!0,this.delay=re,this.id=this.id||this.requestAsyncId(ue,this.id,re),this}requestAsyncId(te,re,pe=0){return setInterval(te.flush.bind(te,this),pe)}recycleAsyncId(te,re,pe=0){if(null!==pe&&this.delay===pe&&!1===this.pending)return re;clearInterval(re)}execute(te,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(te,re);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,re){let ue,pe=!1;try{this.work(te)}catch(X){pe=!0,ue=!!X&&X||new Error(X)}if(pe)return this.unsubscribe(),ue}_unsubscribe(){const te=this.id,re=this.scheduler,pe=re.actions,ue=pe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ue&&pe.splice(ue,1),null!=te&&(this.id=this.recycleAsyncId(re,te,null)),this.delay=null}}},6102:(Je,Ee,L)=>{"use strict";L.d(Ee,{v:()=>J});let c=(()=>{class P{constructor(te,re=P.now){this.SchedulerAction=te,this.now=re}schedule(te,re=0,pe){return new this.SchedulerAction(this,te).schedule(pe,re)}}return P.now=()=>Date.now(),P})();class J extends c{constructor(le,te=c.now){super(le,()=>J.delegate&&J.delegate!==this?J.delegate.now():te()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(le,te=0,re){return J.delegate&&J.delegate!==this?J.delegate.schedule(le,te,re):super.schedule(le,te,re)}flush(le){const{actions:te}=this;if(this.active)return void te.push(le);let re;this.active=!0;do{if(re=le.execute(le.state,le.delay))break}while(le=te.shift());if(this.active=!1,re){for(;le=te.shift();)le.unsubscribe();throw re}}}},3637:(Je,Ee,L)=>{"use strict";L.d(Ee,{z:()=>P});var c=L(6465);const P=new(L(6102).v)(c.o)},7771:(Je,Ee,L)=>{"use strict";L.d(Ee,{c:()=>re,N:()=>te});var c=L(6465),P=L(6102);const te=new class extends P.v{}(class extends c.o{constructor(ue,X){super(ue,X),this.scheduler=ue,this.work=X}schedule(ue,X=0){return X>0?super.schedule(ue,X):(this.delay=X,this.state=ue,this.scheduler.flush(this),this)}execute(ue,X){return X>0||this.closed?super.execute(ue,X):this._execute(ue,X)}requestAsyncId(ue,X,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(ue,X,F):ue.flush(this)}}),re=te},377:(Je,Ee,L)=>{"use strict";L.d(Ee,{hZ:()=>J});const J="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Je,Ee,L)=>{"use strict";L.d(Ee,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Je,Ee,L)=>{"use strict";L.d(Ee,{b:()=>c});const c="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Je,Ee,L)=>{"use strict";L.d(Ee,{N:()=>J});const J=(()=>{function P(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return P.prototype=Object.create(Error.prototype),P})()},4449:(Je,Ee,L)=>{"use strict";function c(J){setTimeout(()=>{throw J},0)}L.d(Ee,{z:()=>c})},4487:(Je,Ee,L)=>{"use strict";function c(J){return J}L.d(Ee,{y:()=>c})},9796:(Je,Ee,L)=>{"use strict";L.d(Ee,{k:()=>c});const c=Array.isArray||(J=>J&&"number"==typeof J.length)},9489:(Je,Ee,L)=>{"use strict";L.d(Ee,{z:()=>c});const c=J=>J&&"number"==typeof J.length&&"function"!=typeof J},9105:(Je,Ee,L)=>{"use strict";function c(J){return"function"==typeof J}L.d(Ee,{m:()=>c})},1555:(Je,Ee,L)=>{"use strict";function c(J){return null!==J&&"object"==typeof J}L.d(Ee,{K:()=>c})},4072:(Je,Ee,L)=>{"use strict";function c(J){return!!J&&"function"!=typeof J.subscribe&&"function"==typeof J.then}L.d(Ee,{t:()=>c})},4869:(Je,Ee,L)=>{"use strict";function c(J){return J&&"function"==typeof J.schedule}L.d(Ee,{K:()=>c})},7444:(Je,Ee,L)=>{"use strict";L.d(Ee,{s:()=>V});var c=L(5015),J=L(4449),le=L(377),re=L(6554),ue=L(9489),X=L(4072),F=L(1555);const V=Y=>{if(Y&&"function"==typeof Y[re.L])return(Y=>K=>{const oe=Y[re.L]();if("function"!=typeof oe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return oe.subscribe(K)})(Y);if((0,ue.z)(Y))return(0,c.V)(Y);if((0,X.t)(Y))return(Y=>K=>(Y.then(oe=>{K.closed||(K.next(oe),K.complete())},oe=>K.error(oe)).then(null,J.z),K))(Y);if(Y&&"function"==typeof Y[le.hZ])return(Y=>K=>{const oe=Y[le.hZ]();for(;;){let be;try{be=oe.next()}catch(de){return K.error(de),K}if(be.done){K.complete();break}if(K.next(be.value),K.closed)break}return"function"==typeof oe.return&&K.add(()=>{oe.return&&oe.return()}),K})(Y);{const oe=`You provided ${(0,F.K)(Y)?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(oe)}}},5015:(Je,Ee,L)=>{"use strict";L.d(Ee,{V:()=>c});const c=J=>P=>{for(let le=0,te=J.length;le<te&&!P.closed;le++)P.next(J[le]);P.complete()}},9755:(Je,Ee,L)=>{"use strict";var c=L(3018);let J=null;function P(){return J}const pe=new c.OlP("DocumentToken");let ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,c.Yz7)({factory:X,token:n,providedIn:"platform"}),n})();function X(){return(0,c.LFG)(V)}const F=new c.OlP("Location Initialized");let V=(()=>{class n extends ue{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",t,!1),()=>s.removeEventListener("popstate",t)}onHashChange(t){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",t,!1),()=>s.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,s,a){Y()?this._history.pushState(t,s,a):this.location.hash=a}replaceState(t,s,a){Y()?this._history.replaceState(t,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pe))},n.\u0275prov=(0,c.Yz7)({factory:K,token:n,providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function K(){return new V((0,c.LFG)(pe))}function oe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function de(n){return n&&"?"!==n[0]?"?"+n:n}let W=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,c.Yz7)({factory:ge,token:n,providedIn:"root"}),n})();function ge(n){const e=(0,c.LFG)(pe).location;return new he((0,c.LFG)(ue),e&&e.origin||"")}const fe=new c.OlP("appBaseHref");let he=(()=>{class n extends W{constructor(t,s){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return oe(this._baseHref,t)}path(t=!1){const s=this._platformLocation.pathname+de(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${s}${a}`:s}pushState(t,s,a,d){const g=this.prepareExternalUrl(a+de(d));this._platformLocation.pushState(t,s,g)}replaceState(t,s,a,d){const g=this.prepareExternalUrl(a+de(d));this._platformLocation.replaceState(t,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue),c.LFG(fe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n extends W{constructor(t,s){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(t){const s=oe(this._baseHref,t);return s.length>0?"#"+s:s}pushState(t,s,a,d){let g=this.prepareExternalUrl(a+de(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(t,s,g)}replaceState(t,s,a,d){let g=this.prepareExternalUrl(a+de(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(t,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue),c.LFG(fe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(t,s){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=be(pt(a)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,s=""){return this.path()==this.normalize(t+de(s))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,pt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,s="",a=null){this._platformStrategy.pushState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(s)),a)}replaceState(t,s="",a=null){this._platformStrategy.replaceState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(t="",s){this._urlChangeListeners.forEach(a=>a(t,s))}subscribe(t,s,a){return this._subject.subscribe({next:t,error:s,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W),c.LFG(ue))},n.normalizeQueryParams=de,n.joinWithSlash=oe,n.stripTrailingSlash=be,n.\u0275prov=(0,c.Yz7)({factory:Oe,token:n,providedIn:"root"}),n})();function Oe(){return new $e((0,c.LFG)(W),(0,c.LFG)(ue))}function pt(n){return n.replace(/\/index.html$/,"")}var Et=(()=>((Et=Et||{})[Et.Zero=0]="Zero",Et[Et.One=1]="One",Et[Et.Two=2]="Two",Et[Et.Few=3]="Few",Et[Et.Many=4]="Many",Et[Et.Other=5]="Other",Et))();const pr=c.kL8;class Wn{}let Nn=(()=>{class n extends Wn{constructor(t){super(),this.locale=t}getPluralCategory(t,s){switch(pr(s||this.locale)(t)){case Et.Zero:return"zero";case Et.One:return"one";case Et.Two:return"two";case Et.Few:return"few";case Et.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.soG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class uo{constructor(e,t,s,a){this.$implicit=e,this.ngForOf=t,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ti=(()=>{class n{constructor(t,s,a){this._viewContainer=t,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const s=[];t.forEachOperation((a,d,g)=>{if(null==a.previousIndex){const v=this._viewContainer.createEmbeddedView(this._template,new uo(null,this._ngForOf,-1,-1),null===g?void 0:g),w=new mr(a,v);s.push(w)}else if(null==g)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const v=this._viewContainer.get(d);this._viewContainer.move(v,g);const w=new mr(a,v);s.push(w)}});for(let a=0;a<s.length;a++)this._perViewChange(s[a].view,s[a].record);for(let a=0,d=this._viewContainer.length;a<d;a++){const g=this._viewContainer.get(a);g.context.index=a,g.context.count=d,g.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,s){t.context.$implicit=s.item}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class mr{constructor(e,t){this.record=e,this.view=t}}let Ki=(()=>{class n{constructor(t,s){this._viewContainer=t,this._context=new _i,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class _i{constructor(){this.$implicit=null,this.ngIf=null}}function zt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let Ms=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:Wn,useClass:Nn}]}),n})();function Ba(n){return"server"===n}let ja=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new bf((0,c.LFG)(pe),window)}),n})();class bf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const d=a.shadowRoot;if(d){const g=d.getElementById(e)||d.querySelector(`[name="${e}"]`);if(g)return g}a=s.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),s=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],a-d[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Go(this.window.history)||Go(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Go(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class $a extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new $a,J||(J=n)}onAndCancel(e,t,s){return e.addEventListener(t,s,!1),()=>{e.removeEventListener(t,s,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Qi=Qi||document.querySelector("base"),Qi?Qi.getAttribute("href"):null);return null==t?null:function(n){Oi=Oi||document.createElement("a"),Oi.setAttribute("href",n);const e=Oi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const s=t.indexOf("="),[a,d]=-1==s?[t,""]:[t.slice(0,s),t.slice(s+1)];if(a.trim()===e)return decodeURIComponent(d)}return null}(document.cookie,e)}}let Oi,Qi=null;const qu=new c.OlP("TRANSITION_ID"),Id=[{provide:c.ip1,useFactory:function(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const s=P(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<a.length;d++)s.remove(a[d])})}},deps:[qu,pe,c.zs3],multi:!0}];class It{static init(){(0,c.VLi)(new It)}addToWindow(e){c.dqk.getAngularTestability=(s,a=!0)=>{const d=e.findTestabilityInTree(s,a);if(null==d)throw new Error("Could not find testability for element.");return d},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(s=>{const a=c.dqk.getAllAngularTestabilities();let d=a.length,g=!1;const v=function(w){g=g||w,d--,0==d&&s(g)};a.forEach(function(w){w.whenStable(v)})})}findTestabilityInTree(e,t,s){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:s?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Wo=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Xi=new c.OlP("EventManagerPlugins");let Ns=(()=>{class n{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,s,a){return this._findPluginFor(s).addEventListener(t,s,a)}addGlobalEventListener(t,s,a){return this._findPluginFor(s).addGlobalEventListener(t,s,a)}getZone(){return this._zone}_findPluginFor(t){const s=this._eventNameToPlugin.get(t);if(s)return s;const a=this._plugins;for(let d=0;d<a.length;d++){const g=a[d];if(g.supports(t))return this._eventNameToPlugin.set(t,g),g}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xi),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class fo{constructor(e){this._doc=e}addGlobalEventListener(e,t,s){const a=P().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,s)}}let zu=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const s=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),es=(()=>{class n extends zu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,s,a){t.forEach(d=>{const g=this._doc.createElement("style");g.textContent=d,a.push(s.appendChild(g))})}addHost(t){const s=[];this._addStylesToHost(this._stylesSet,t,s),this._hostNodes.set(t,s)}removeHost(t){const s=this._hostNodes.get(t);s&&s.forEach(uc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(t,a,s)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(uc))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function uc(n){P().remove(n)}const we={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bt=/%COMP%/g;function Os(n,e,t){for(let s=0;s<e.length;s++){let a=e[s];Array.isArray(a)?Os(n,a,t):(a=a.replace(bt,n),t.push(a))}return t}function Sd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ts=(()=>{class n{constructor(t,s,a){this.eventManager=t,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Pi(t)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;switch(s.encapsulation){case c.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new ks(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(t),a}case 1:case c.ifc.ShadowDom:return new vi(this.eventManager,this.sharedStylesHost,t,s);default:if(!this.rendererByCompId.has(s.id)){const a=Os(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ns),c.LFG(es),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Pi{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(we[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,s){e&&e.insertBefore(t,s)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error(`The selector "${e}" did not match any elements`);return t||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,s,a){if(a){t=a+":"+t;const d=we[a];d?e.setAttributeNS(d,t,s):e.setAttribute(t,s)}else e.setAttribute(t,s)}removeAttribute(e,t,s){if(s){const a=we[s];a?e.removeAttributeNS(a,t):e.removeAttribute(`${s}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,s,a){a&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,s,a&c.JOm.Important?"important":""):e.style[t]=s}removeStyle(e,t,s){s&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,s){e[t]=s}setValue(e,t){e.nodeValue=t}listen(e,t,s){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Sd(s)):this.eventManager.addEventListener(e,t,Sd(s))}}class ks extends Pi{constructor(e,t,s,a){super(e),this.component=s;const d=Os(a+"-"+s.id,s.styles,[]);t.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(bt,a+"-"+s.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(bt,n)}(a+"-"+s.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const s=super.createElement(e,t);return super.setAttribute(s,this.contentAttr,""),s}}class vi extends Pi{constructor(e,t,s,a){super(e),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=Os(a.id,a.styles,[]);for(let g=0;g<d.length;g++){const v=document.createElement("style");v.textContent=d[g],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,s){return super.insertBefore(this.nodeOrShadowRoot(e),t,s)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let lc=(()=>{class n extends fo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,a){return t.addEventListener(s,a,!1),()=>this.removeEventListener(t,s,a)}removeEventListener(t,s,a){return t.removeEventListener(s,a)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ns=["alt","control","meta","shift"],tl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},za={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Mr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $r=(()=>{class n extends fo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,s,a){const d=n.parseEventName(s),g=n.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,d.domEventName,g))}static parseEventName(t){const s=t.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const d=n._normalizeKey(s.pop());let g="";if(ns.forEach(w=>{const S=s.indexOf(w);S>-1&&(s.splice(S,1),g+=w+".")}),g+=d,0!=s.length||0===d.length)return null;const v={};return v.domEventName=a,v.fullKey=g,v}static getEventFullKey(t){let s="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&za.hasOwnProperty(e)&&(e=za[e]))}return tl[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),ns.forEach(d=>{d!=a&&Mr[d](t)&&(s+=d+".")}),s+=a,s}static eventCallback(t,s,a){return d=>{n.getEventFullKey(d)===t&&a.runGuarded(()=>s(d))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const sl=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function(){$a.makeCurrent(),It.init()},multi:!0},{provide:pe,useFactory:function(){return(0,c.RDi)(document),document},deps:[]}]),Ps=[[],{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function(){return new c.qLn},deps:[]},{provide:Xi,useClass:lc,multi:!0,deps:[pe,c.R0b,c.Lbi]},{provide:Xi,useClass:$r,multi:!0,deps:[pe]},[],{provide:ts,useClass:ts,deps:[Ns,es,c.AFp]},{provide:c.FYo,useExisting:ts},{provide:zu,useExisting:es},{provide:es,useClass:es,deps:[pe]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Ns,useClass:Ns,deps:[Xi,c.R0b]},{provide:class{},useClass:Wo,deps:[]},[]];let Xa=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:qu,useExisting:c.AFp},Id]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Ps,imports:[Ms,c.hGG]}),n})();"undefined"!=typeof window&&window;var sn=L(4402),Xe=L(5917),rs=L(9765),_o=L(7971);class yr extends rs.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _o.N;return this._value}next(e){super.next(this._value=e)}}var Fs=L(4869),Xo=L(9796),tn=L(7393);class cc extends tn.L{notifyNext(e,t,s,a,d){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Sf extends tn.L{constructor(e,t,s){super(),this.parent=e,this.outerValue=t,this.outerIndex=s,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ea=L(7444),si=L(7574);function Cn(n,e,t,s,a=new Sf(n,t,s)){if(!a.closed)return e instanceof si.y?e.subscribe(a):(0,ea.s)(e)(a)}var dc=L(6693);const dl={};class vo{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new hc(e,this.resultSelector))}}class hc extends cc{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(dl),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let s=0;s<t;s++)this.add(Cn(this,e[s],void 0,s))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,s){const a=this.values,g=this.toRespond?a[s]===dl?--this.toRespond:this.toRespond:0;a[s]=t,0===g&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}const Ls=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var is=L(3282);function ru(...n){return(0,is.J)(1)((0,Xe.of)(...n))}var Rr=L(9193);function Fi(n){return new si.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,sn.D)(t):(0,Rr.c)()).subscribe(e)})}var Vs=L(2441),at=L(8002),Li=L(5345);function kn(n,e){return"function"==typeof e?t=>t.pipe(kn((s,a)=>(0,sn.D)(n(s,a)).pipe((0,at.U)((d,g)=>e(s,d,a,g))))):t=>t.lift(new na(n))}class na{constructor(e){this.project=e}call(e,t){return t.subscribe(new Pd(e,this.project))}}class Pd extends Li.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const s=this.index++;try{t=this.project(e,s)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const s=new Li.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,Li.ft)(e,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const fc=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Fd(n){return e=>0===n?(0,Rr.c)():e.lift(new rm(n))}class rm{constructor(e){if(this.total=e,this.total<0)throw new fc}call(e,t){return t.subscribe(new Yt(e,this.total))}}class Yt extends tn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,s=++this.count;s<=t&&(this.destination.next(e),s===t&&(this.destination.complete(),this.unsubscribe()))}}function hl(...n){const e=n[n.length-1];return(0,Fs.K)(e)?(n.pop(),t=>ru(n,t,e)):t=>ru(n,t)}function ra(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new im(n,e,t))}}class im{constructor(e,t,s=!1){this.accumulator=e,this.seed=t,this.hasSeed=s}call(e,t){return t.subscribe(new Ld(e,this.accumulator,this.seed,this.hasSeed))}}class Ld extends tn.L{constructor(e,t,s,a){super(e),this.accumulator=t,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let s;try{s=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}function ss(n,e){return function(s){return s.lift(new pc(n,e))}}class pc{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Vd(e,this.predicate,this.thisArg))}}class Vd extends tn.L{constructor(e,t,s){super(e),this.predicate=t,this.thisArg=s,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(s){return void this.destination.error(s)}t&&this.destination.next(e)}}function Us(n){return function(t){const s=new Rf(n),a=t.lift(s);return s.caught=a}}class Rf{constructor(e){this.selector=e}call(e,t){return t.subscribe(new iu(e,this.selector,this.caught))}}class iu extends Li.Ds{constructor(e,t,s){super(e),this.selector=t,this.caught=s}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const s=new Li.IY(this);this.add(s);const a=(0,Li.ft)(t,s);a!==s&&this.add(a)}}}var or=L(9773);function Bs(n,e){return(0,or.zg)(n,e,1)}function Nf(n){return function(t){return 0===n?(0,Rr.c)():t.lift(new In(n))}}class In{constructor(e){if(this.total=e,this.total<0)throw new fc}call(e,t){return t.subscribe(new fl(e,this.total))}}class fl extends tn.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,s=this.total,a=this.count++;t.length<s?t.push(e):t[a%s]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let d=0;d<s;d++){const g=t++%s;e.next(a[g])}}e.complete()}}function su(n=oi){return e=>e.lift(new ou(n))}class ou{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Ud(e,this.errorFactory))}}class Ud extends tn.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function oi(){return new Ls}function ai(n=null){return e=>e.lift(new Vi(n))}class Vi{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new bo(e,this.defaultValue))}}class bo extends tn.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var _r=L(4487);function ia(n,e){const t=arguments.length>=2;return s=>s.pipe(n?ss((a,d)=>n(a,d,s)):_r.y,Fd(1),t?ai(e):su(()=>new Ls))}var ar=L(3342),sm=L(1307),mc=L(5319);class C{constructor(e){this.callback=e}call(e,t){return t.subscribe(new D(e,this.callback))}}class D extends tn.L{constructor(e,t){super(e),this.add(new mc.w(t))}}class M{constructor(e,t){this.id=e,this.url=t}}class U extends M{constructor(e,t,s="imperative",a=null){super(e,t),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class z extends M{constructor(e,t,s){super(e,t),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ae extends M{constructor(e,t,s){super(e,t),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ce extends M{constructor(e,t,s){super(e,t),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Be extends M{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je extends M{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kt extends M{constructor(e,t,s,a,d){super(e,t),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $t extends M{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qn extends M{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xn{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class js{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wo{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ui{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class os{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Co{constructor(e,t,s){this.routerEvent=e,this.position=t,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const gt="primary";class yc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _c(n){return new yc(n)}const au="ngNavigationCancelingError";function uu(n){const e=Error("NavigationCancelingError: "+n);return e[au]=!0,e}function kf(n,e,t){const s=t.path.split("/");if(s.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||s.length<n.length))return null;const a={};for(let d=0;d<s.length;d++){const g=s[d],v=n[d];if(g.startsWith(":"))a[g.substring(1)]=v;else if(g!==v.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function bi(n,e){const t=n?Object.keys(n):void 0,s=e?Object.keys(e):void 0;if(!t||!s||t.length!=s.length)return!1;let a;for(let d=0;d<t.length;d++)if(a=t[d],!X_(n[a],e[a]))return!1;return!0}function X_(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),s=[...e].sort();return t.every((a,d)=>s[d]===a)}return n===e}function Io(n){return Array.prototype.concat.apply([],n)}function lu(n){return n.length>0?n[n.length-1]:null}function ur(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function wi(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,sn.D)(Promise.resolve(n)):(0,Xe.of)(n)}const gl={exact:function Bd(n,e,t){if(!ua(n.segments,e.segments)||!cu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const s in e.children)if(!n.children[s]||!Bd(n.children[s],e.children[s],t))return!1;return!0},subset:ml},Bi={exact:function(n,e){return bi(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>X_(n[t],e[t]))},ignored:()=>!0};function vc(n,e,t){return gl[t.paths](n.root,e.root,t.matrixParams)&&Bi[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ml(n,e,t){return oa(n,e,e.segments,t)}function oa(n,e,t,s){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!ua(a,t)||e.hasChildren()||!cu(a,t,s))}if(n.segments.length===t.length){if(!ua(n.segments,t)||!cu(n.segments,t,s))return!1;for(const a in e.children)if(!n.children[a]||!ml(n.children[a],e.children[a],s))return!1;return!0}{const a=t.slice(0,n.segments.length),d=t.slice(n.segments.length);return!!(ua(n.segments,a)&&cu(n.segments,a,s)&&n.children[gt])&&oa(n.children[gt],e,d,s)}}function cu(n,e,t){return e.every((s,a)=>Bi[t](n[a].parameters,s.parameters))}class aa{constructor(e,t,s){this.root=e,this.queryParams=t,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_c(this.queryParams)),this._queryParamMap}toString(){return am.serialize(this)}}class Dt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ur(t,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $d(this)}}class $s{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_c(this.parameters)),this._parameterMap}toString(){return Zd(this)}}function ua(n,e){return n.length===e.length&&n.every((t,s)=>t.path===e[s].path)}class jd{}class Pf{parse(e){const t=new Vf(e);return new aa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Ec(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const s=n[t];return Array.isArray(s)?s.map(a=>`${To(t)}=${To(a)}`).join("&"):`${To(t)}=${To(s)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const am=new Pf;function $d(n){return n.segments.map(e=>Zd(e)).join("/")}function Ec(n,e){if(!n.hasChildren())return $d(n);if(e){const t=n.children[gt]?Ec(n.children[gt],!1):"",s=[];return ur(n.children,(a,d)=>{d!==gt&&s.push(`${d}:${Ec(a,!1)}`)}),s.length>0?`${t}(${s.join("//")})`:t}{const t=function(n,e){let t=[];return ur(n.children,(s,a)=>{a===gt&&(t=t.concat(e(s,a)))}),ur(n.children,(s,a)=>{a!==gt&&(t=t.concat(e(s,a)))}),t}(n,(s,a)=>a===gt?[Ec(n.children[gt],!1)]:[`${a}:${Ec(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[gt]?`${$d(n)}/${t[0]}`:`${$d(n)}/(${t.join("//")})`}}function um(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function To(n){return um(n).replace(/%3B/gi,";")}function la(n){return um(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bc(n){return decodeURIComponent(n)}function lm(n){return bc(n.replace(/\+/g,"%20"))}function Zd(n){return`${la(n.path)}${function(n){return Object.keys(n).map(e=>`;${la(e)}=${la(n[e])}`).join("")}(n.parameters)}`}const cm=/^[^\/()?;=#]+/;function wc(n){const e=n.match(cm);return e?e[0]:""}const dm=/^[^=?&#]+/,tv=/^[^?&#]+/;class Vf{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(s[gt]=new Dt(e,t)),s}parseSegment(){const e=wc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new $s(bc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=wc(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const a=wc(this.remaining);a&&(s=a,this.capture(s))}e[bc(t)]=bc(s)}parseQueryParam(e){const t=function(n){const e=n.match(dm);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const g=function(n){const e=n.match(tv);return e?e[0]:""}(this.remaining);g&&(s=g,this.capture(s))}const a=lm(t),d=lm(s);if(e.hasOwnProperty(a)){let g=e[a];Array.isArray(g)||(g=[g],e[a]=g),g.push(d)}else e[a]=d}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=wc(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let d;s.indexOf(":")>-1?(d=s.substr(0,s.indexOf(":")),this.capture(d),this.capture(":")):e&&(d=gt);const g=this.parseChildren();t[d]=1===Object.keys(g).length?g[gt]:new Dt([],g),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class hm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Uf(e,this._root);return t?t.children.map(s=>s.value):[]}firstChild(e){const t=Uf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=as(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return as(e,this._root).map(t=>t.value)}}function Uf(n,e){if(n===e.value)return e;for(const t of e.children){const s=Uf(n,t);if(s)return s}return null}function as(n,e){if(n===e.value)return[e];for(const t of e.children){const s=as(n,t);if(s.length)return s.unshift(e),s}return[]}class ui{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function _l(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Bf extends hm{constructor(e,t){super(e),this.snapshot=t,jf(this,e)}toString(){return this.snapshot.toString()}}function fm(n,e){const t=function(n,e){const g=new Gd([],{},{},"",{},gt,e,null,n.root,-1,{});return new Wd("",new ui(g,[]))}(n,e),s=new yr([new $s("",{})]),a=new yr({}),d=new yr({}),g=new yr({}),v=new yr(""),w=new vl(s,a,g,v,d,gt,e,t.root);return w.snapshot=t.root,new Bf(new ui(w,[]),t)}class vl{constructor(e,t,s,a,d,g,v,w){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=d,this.outlet=g,this.component=v,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,at.U)(e=>_c(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,at.U)(e=>_c(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pm(n,e="emptyOnly"){const t=n.pathFromRoot;let s=0;if("always"!==e)for(s=t.length-1;s>=1;){const a=t[s],d=t[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(d.component)break;s--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(s))}class Gd{constructor(e,t,s,a,d,g,v,w,S,N,k){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=d,this.outlet=g,this.component=v,this.routeConfig=w,this._urlSegment=S,this._lastPathIndex=N,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_c(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_c(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wd extends hm{constructor(e,t){super(t),this.url=e,jf(this,t)}toString(){return $f(this._root)}}function jf(n,e){e.value._routerState=n,e.children.forEach(t=>jf(n,t))}function $f(n){const e=n.children.length>0?` { ${n.children.map($f).join(", ")} } `:"";return`${n.value}${e}`}function gm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,bi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),bi(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!bi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),bi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Cc(n,e){return bi(n.params,e.params)&&function(n,e){return ua(n,e)&&n.every((t,s)=>bi(t.parameters,e[s].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||Cc(n.parent,e.parent))}function El(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const s=t.value;s._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(s=>{for(const a of t.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return El(n,s,a);return El(n,s)})}(n,e,t);return new ui(s,a)}{if(n.shouldAttach(e.value)){const d=n.retrieve(e.value);if(null!==d){const g=d.route;return ji(e,g),g}}const s=function(n){return new vl(new yr(n.url),new yr(n.params),new yr(n.queryParams),new yr(n.fragment),new yr(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(d=>El(n,d));return new ui(s,a)}}function ji(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)ji(n.children[t],e.children[t])}function zd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Zs(n){return"object"==typeof n&&null!=n&&n.outlets}function _m(n,e,t,s,a){let d={};return s&&ur(s,(g,v)=>{d[v]=Array.isArray(g)?g.map(w=>`${w}`):`${g}`}),new aa(t.root===n?e:iv(t.root,n,e),d,a)}function iv(n,e,t){const s={};return ur(n.children,(a,d)=>{s[d]=a===e?t:iv(a,e,t)}),new Dt(n.segments,s)}class bl{constructor(e,t,s){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=s,e&&s.length>0&&zd(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(Zs);if(a&&a!==lu(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hu{constructor(e,t,s){this.segmentGroup=e,this.processChildren=t,this.index=s}}function vm(n,e,t){if(n||(n=new Dt([],{})),0===n.segments.length&&n.hasChildren())return Yd(n,e,t);const s=function(n,e,t){let s=0,a=e;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=t.length)return d;const g=n.segments[a],v=t[s];if(Zs(v))break;const w=`${v}`,S=s<t.length-1?t[s+1]:null;if(a>0&&void 0===w)break;if(w&&S&&"object"==typeof S&&void 0===S.outlets){if(!Gf(w,S,g))return d;s+=2}else{if(!Gf(w,{},g))return d;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,e,t),a=t.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const d=new Dt(n.segments.slice(0,s.pathIndex),{});return d.children[gt]=new Dt(n.segments.slice(s.pathIndex),n.children),Yd(d,0,a)}return s.match&&0===a.length?new Dt(n.segments,{}):s.match&&!n.hasChildren()?qf(n,e,t):s.match?Yd(n,0,a):qf(n,e,t)}function Yd(n,e,t){if(0===t.length)return new Dt(n.segments,{});{const s=function(n){return Zs(n[0])?n[0].outlets:{[gt]:n}}(t),a={};return ur(s,(d,g)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[g]=vm(n.children[g],e,d))}),ur(n.children,(d,g)=>{void 0===s[g]&&(a[g]=d)}),new Dt(n.segments,a)}}function qf(n,e,t){const s=n.segments.slice(0,e);let a=0;for(;a<t.length;){const d=t[a];if(Zs(d)){const w=Em(d.outlets);return new Dt(s,w)}if(0===a&&zd(t[0])){s.push(new $s(n.segments[e].path,Dc(t[0]))),a++;continue}const g=Zs(d)?d.outlets[gt]:`${d}`,v=a<t.length-1?t[a+1]:null;g&&v&&zd(v)?(s.push(new $s(g,Dc(v))),a+=2):(s.push(new $s(g,{})),a++)}return new Dt(s,{})}function Em(n){const e={};return ur(n,(t,s)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[s]=qf(new Dt([],{}),0,t))}),e}function Dc(n){const e={};return ur(n,(t,s)=>e[s]=`${t}`),e}function Gf(n,e,t){return n==t.path&&bi(e,t.parameters)}class bm{constructor(e,t,s,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=s,this.forwardEvent=a}activate(e){const t=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,s,e),gm(this.futureState.root),this.activateChildRoutes(t,s,e)}deactivateChildRoutes(e,t,s){const a=_l(t);e.children.forEach(d=>{const g=d.value.outlet;this.deactivateRoutes(d,a[g],s),delete a[g]}),ur(a,(d,g)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(e,t,s){const a=e.value,d=t?t.value:null;if(a===d)if(a.component){const g=s.getContext(a.outlet);g&&this.deactivateChildRoutes(e,t,g.children)}else this.deactivateChildRoutes(e,t,s);else d&&this.deactivateRouteAndItsChildren(t,s)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const s=t.getContext(e.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),d=s.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const s=t.getContext(e.value.outlet),a=s&&e.value.component?s.children:t,d=_l(e);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(e,t,s){const a=_l(t);e.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],s),this.forwardEvent(new os(d.value.snapshot))}),e.children.length&&this.forwardEvent(new wo(e.value.snapshot))}activateRoutes(e,t,s){const a=e.value,d=t?t.value:null;if(gm(a),a===d)if(a.component){const g=s.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,g.children)}else this.activateChildRoutes(e,t,s);else if(a.component){const g=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const v=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),g.children.onOutletReAttached(v.contexts),g.attachRef=v.componentRef,g.route=v.route.value,g.outlet&&g.outlet.attach(v.componentRef,v.route.value),an(v.route)}else{const v=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),w=v?v.module.componentFactoryResolver:null;g.attachRef=null,g.route=a,g.resolver=w,g.outlet&&g.outlet.activateWith(a,w),this.activateChildRoutes(e,null,g.children)}}else this.activateChildRoutes(e,null,s)}}function an(n){gm(n.value),n.children.forEach(an)}class zf{constructor(e,t){this.routes=e,this.module=t}}function $i(n){return"function"==typeof n}function fu(n){return n instanceof aa}const Xd=Symbol("INITIAL_VALUE");function Ac(){return kn(n=>function(...n){let e,t;return(0,Fs.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Xo.k)(n[0])&&(n=n[0]),(0,dc.n)(n,t).lift(new vo(e))}(n.map(e=>e.pipe(Fd(1),hl(Xd)))).pipe(ra((e,t)=>{let s=!1;return t.reduce((a,d,g)=>a!==Xd?a:(d===Xd&&(s=!0),s||!1!==d&&g!==t.length-1&&!fu(d)?a:d),e)},Xd),ss(e=>e!==Xd),(0,at.U)(e=>fu(e)?e:!0===e),Fd(1)))}let wl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,s){1&t&&c._UZ(0,"router-outlet")},directives:function(){return[Lm]},encapsulation:2}),n})();function Nr(n,e=""){for(let t=0;t<n.length;t++){const s=n[t];Kf(s,wm(e,s))}}function Kf(n,e){n.children&&Nr(n.children,e)}function wm(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function pu(n){const e=n.children&&n.children.map(pu),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==gt&&(t.component=wl),t}function nn(n){return n.outlet||gt}function gu(n,e){const t=n.filter(s=>nn(s)===e);return t.push(...n.filter(s=>nn(s)!==e)),t}const eh={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function th(n,e,t){var s;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},eh):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(e.matcher||kf)(t,n,e);if(!d)return Object.assign({},eh);const g={};ur(d.posParams,(w,S)=>{g[S]=w.path});const v=d.consumed.length>0?Object.assign(Object.assign({},g),d.consumed[d.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:v,positionalParamSegments:null!==(s=d.posParams)&&void 0!==s?s:{}}}function nh(n,e,t,s,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(s=>Cl(n,e,s)&&nn(s)!==gt)}(n,t,s)){const g=new Dt(e,function(n,e,t,s){const a={};a[gt]=s,s._sourceSegment=n,s._segmentIndexShift=e.length;for(const d of t)if(""===d.path&&nn(d)!==gt){const g=new Dt([],{});g._sourceSegment=n,g._segmentIndexShift=e.length,a[nn(d)]=g}return a}(n,e,s,new Dt(t,n.children)));return g._sourceSegment=n,g._segmentIndexShift=e.length,{segmentGroup:g,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(s=>Cl(n,e,s))}(n,t,s)){const g=new Dt(n.segments,function(n,e,t,s,a,d){const g={};for(const v of s)if(Cl(n,t,v)&&!a[nn(v)]){const w=new Dt([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===d?n.segments.length:e.length,g[nn(v)]=w}return Object.assign(Object.assign({},a),g)}(n,e,t,s,n.children,a));return g._sourceSegment=n,g._segmentIndexShift=e.length,{segmentGroup:g,slicedSegments:t}}const d=new Dt(n.segments,n.children);return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}function Cl(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Tm(n,e,t,s){return!!(nn(n)===s||s!==gt&&Cl(e,t,n))&&("**"===n.path||th(e,n,t).matched)}function ih(n,e,t){return 0===e.length&&!n.children[t]}class vr{constructor(e){this.segmentGroup=e||null}}class mu{constructor(e){this.urlTree=e}}function yu(n){return new si.y(e=>e.error(new vr(n)))}function Qf(n){return new si.y(e=>e.error(new mu(n)))}function Jf(n){return new si.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Sc{constructor(e,t,s,a,d){this.configLoader=t,this.urlSerializer=s,this.urlTree=a,this.config=d,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=nh(this.urlTree.root,[],[],this.config).segmentGroup,t=new Dt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,gt).pipe((0,at.U)(d=>this.createUrlTree(Hs(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Us(d=>{if(d instanceof mu)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof vr?this.noMatchError(d):d}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,gt).pipe((0,at.U)(a=>this.createUrlTree(Hs(a),e.queryParams,e.fragment))).pipe(Us(a=>{throw a instanceof vr?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,s){const a=e.segments.length>0?new Dt([],{[gt]:e}):e;return new aa(a,t,s)}expandSegmentGroup(e,t,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(e,t,s).pipe((0,at.U)(d=>new Dt([],d))):this.expandSegment(e,s,t,s.segments,a,!0)}expandChildren(e,t,s){const a=[];for(const d of Object.keys(s.children))"primary"===d?a.unshift(d):a.push(d);return(0,sn.D)(a).pipe(Bs(d=>{const g=s.children[d],v=gu(t,d);return this.expandSegmentGroup(e,v,g,d).pipe((0,at.U)(w=>({segment:w,outlet:d})))}),ra((d,g)=>(d[g.outlet]=g.segment,d),{}),function(n,e){const t=arguments.length>=2;return s=>s.pipe(n?ss((a,d)=>n(a,d,s)):_r.y,Nf(1),t?ai(e):su(()=>new Ls))}())}expandSegment(e,t,s,a,d,g){return(0,sn.D)(s).pipe(Bs(v=>this.expandSegmentAgainstRoute(e,t,s,v,a,d,g).pipe(Us(S=>{if(S instanceof vr)return(0,Xe.of)(null);throw S}))),ia(v=>!!v),Us((v,w)=>{if(v instanceof Ls||"EmptyError"===v.name){if(ih(t,a,d))return(0,Xe.of)(new Dt([],{}));throw new vr(t)}throw v}))}expandSegmentAgainstRoute(e,t,s,a,d,g,v){return Tm(a,t,d,g)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,d,g):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,s,a,d,g):yu(t):yu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,s,a,d,g){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,s,a,g):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,d,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,s,a){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?Qf(d):this.lineralizeSegments(s,d).pipe((0,or.zg)(g=>{const v=new Dt(g,{});return this.expandSegment(e,v,t,g,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,d,g){const{matched:v,consumedSegments:w,lastChild:S,positionalParamSegments:N}=th(t,a,d);if(!v)return yu(t);const k=this.applyRedirectCommands(w,a.redirectTo,N);return a.redirectTo.startsWith("/")?Qf(k):this.lineralizeSegments(a,k).pipe((0,or.zg)(G=>this.expandSegment(e,t,s,G.concat(d.slice(S)),g,!1)))}matchSegmentAgainstRoute(e,t,s,a,d){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,Xe.of)(s._loadedConfig):this.configLoader.load(e.injector,s)).pipe((0,at.U)(G=>(s._loadedConfig=G,new Dt(a,{})))):(0,Xe.of)(new Dt(a,{}));const{matched:g,consumedSegments:v,lastChild:w}=th(t,s,a);if(!g)return yu(t);const S=a.slice(w);return this.getChildConfig(e,s,a).pipe((0,or.zg)(k=>{const G=k.module,ee=k.routes,{segmentGroup:_e,slicedSegments:Fe}=nh(t,v,S,ee),Ye=new Dt(_e.segments,_e.children);if(0===Fe.length&&Ye.hasChildren())return this.expandChildren(G,ee,Ye).pipe((0,at.U)(Bt=>new Dt(v,Bt)));if(0===ee.length&&0===Fe.length)return(0,Xe.of)(new Dt(v,{}));const qt=nn(s)===d;return this.expandSegment(G,Ye,ee,Fe,qt?gt:d,!0).pipe((0,at.U)(Ln=>new Dt(v.concat(Ln.segments),Ln.children)))}))}getChildConfig(e,t,s){return t.children?(0,Xe.of)(new zf(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Xe.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,s).pipe((0,or.zg)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,at.U)(d=>(t._loadedConfig=d,d))):(n=t,new si.y(e=>e.error(uu(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Xe.of)(new zf([],e))}runCanLoadGuards(e,t,s){const a=t.canLoad;if(!a||0===a.length)return(0,Xe.of)(!0);const d=a.map(g=>{const v=e.get(g);let w;if((n=v)&&$i(n.canLoad))w=v.canLoad(t,s);else{if(!$i(v))throw new Error("Invalid CanLoad guard");w=v(t,s)}var n;return wi(w)});return(0,Xe.of)(d).pipe(Ac(),(0,ar.b)(g=>{if(!fu(g))return;const v=uu(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw v.url=g,v}),(0,at.U)(g=>!0===g))}lineralizeSegments(e,t){let s=[],a=t.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,Xe.of)(s);if(a.numberOfChildren>1||!a.children[gt])return Jf(e.redirectTo);a=a.children[gt]}}applyRedirectCommands(e,t,s){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,s)}applyRedirectCreatreUrlTree(e,t,s,a){const d=this.createSegmentGroup(e,t.root,s,a);return new aa(d,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const s={};return ur(e,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const v=a.substring(1);s[d]=t[v]}else s[d]=a}),s}createSegmentGroup(e,t,s,a){const d=this.createSegments(e,t.segments,s,a);let g={};return ur(t.children,(v,w)=>{g[w]=this.createSegmentGroup(e,v,s,a)}),new Dt(d,g)}createSegments(e,t,s,a){return t.map(d=>d.path.startsWith(":")?this.findPosParam(e,d,a):this.findOrReturn(d,s))}findPosParam(e,t,s){const a=s[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let s=0;for(const a of t){if(a.path===e.path)return t.splice(s),a;s++}return e}}function Hs(n){const e={};for(const s of Object.keys(n.children)){const d=Hs(n.children[s]);(d.segments.length>0||d.hasChildren())&&(e[s]=d)}return function(n){if(1===n.numberOfChildren&&n.children[gt]){const e=n.children[gt];return new Dt(n.segments.concat(e.segments),e.children)}return n}(new Dt(n.segments,e))}class Sm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class sh{constructor(e,t){this.component=e,this.route=t}}function cv(n,e,t){const s=n._root;return lr(s,e?e._root:null,t,[s.value])}function Er(n,e,t){const s=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(s?s.module.injector:t).get(n)}function lr(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=_l(e);return n.children.forEach(g=>{(function(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,g=e?e.value:null,v=t?t.getContext(n.value.outlet):null;if(g&&d.routeConfig===g.routeConfig){const w=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ua(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ua(n.url,e.url)||!bi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cc(n,e)||!bi(n.queryParams,e.queryParams);case"paramsChange":default:return!Cc(n,e)}}(g,d,d.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new Sm(s)):(d.data=g.data,d._resolvedData=g._resolvedData),lr(n,e,d.component?v?v.children:null:t,s,a),w&&v&&v.outlet&&v.outlet.isActivated&&a.canDeactivateChecks.push(new sh(v.outlet.component,g))}else g&&Ao(e,v,a),a.canActivateChecks.push(new Sm(s)),lr(n,null,d.component?v?v.children:null:t,s,a)})(g,d[g.value.outlet],t,s.concat([g.value]),a),delete d[g.value.outlet]}),ur(d,(g,v)=>Ao(g,t.getContext(v),a)),a}function Ao(n,e,t){const s=_l(n),a=n.value;ur(s,(d,g)=>{Ao(d,a.component?e?e.children.getContext(g):null:e,t)}),t.canDeactivateChecks.push(new sh(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class y{}function f(n){return new si.y(e=>e.error(n))}class E{constructor(e,t,s,a,d,g){this.rootComponentType=e,this.config=t,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g}recognize(){const e=nh(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,gt);if(null===t)return null;const s=new Gd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},gt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new ui(s,t),d=new Wd(this.url,a);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(e){const t=e.value,s=pm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(s.params),t.data=Object.freeze(s.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,s){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,s)}processChildren(e,t){const s=[];for(const d of Object.keys(t.children)){const g=t.children[d],v=gu(e,d),w=this.processSegmentGroup(v,g,d);if(null===w)return null;s.push(...w)}const a=ne(s);return a.sort((e,t)=>e.value.outlet===gt?-1:t.value.outlet===gt?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,s,a){for(const d of e){const g=this.processSegmentAgainstRoute(d,t,s,a);if(null!==g)return g}return ih(t,s,a)?[]:null}processSegmentAgainstRoute(e,t,s,a){if(e.redirectTo||!Tm(e,t,s,a))return null;let d,g=[],v=[];if("**"===e.path){const ee=s.length>0?lu(s).parameters:{};d=new Gd(s,ee,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,He(e),nn(e),e.component,e,De(t),Ze(t)+s.length,Tt(e))}else{const ee=th(t,e,s);if(!ee.matched)return null;g=ee.consumedSegments,v=s.slice(ee.lastChild),d=new Gd(g,ee.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,He(e),nn(e),e.component,e,De(t),Ze(t)+g.length,Tt(e))}const w=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:N}=nh(t,g,v,w.filter(ee=>void 0===ee.redirectTo),this.relativeLinkResolution);var n;if(0===N.length&&S.hasChildren()){const ee=this.processChildren(w,S);return null===ee?null:[new ui(d,ee)]}if(0===w.length&&0===N.length)return[new ui(d,[])];const k=nn(e)===a,G=this.processSegment(w,S,N,k?gt:a);return null===G?null:[new ui(d,G)]}}function j(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ne(n){const e=[],t=new Set;for(const s of n){if(!j(s)){e.push(s);continue}const a=e.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...s.children),t.add(a)):e.push(s)}for(const s of t){const a=ne(s.children);e.push(new ui(s.value,a))}return e.filter(s=>!t.has(s))}function De(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ze(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function He(n){return n.data||{}}function Tt(n){return n.resolve||{}}function xc(n){return kn(e=>{const t=n(e);return t?(0,sn.D)(t).pipe((0,at.U)(()=>e)):(0,Xe.of)(e)})}class Nm extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Mc=new c.OlP("ROUTES");class rp{constructor(e,t,s,a){this.loader=e,this.compiler=t,this.onLoadStartListener=s,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,at.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(t);const g=d.create(e);return new zf(Io(g.injector.get(Mc,void 0,c.XFs.Self|c.XFs.Optional)).map(pu),g)}),Us(d=>{throw t._loader$=void 0,d}));return t._loader$=new Vs.c(a,()=>new rs.xQ).pipe((0,sm.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,sn.D)(this.loader.load(e)):wi(e()).pipe((0,or.zg)(t=>t instanceof c.YKP?(0,Xe.of)(t):(0,sn.D)(this.compiler.compileModuleAsync(t))))}}class pv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new da,this.attachRef=null}}class da{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const s=this.getOrCreateContext(e);s.outlet=t,this.contexts.set(e,s)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new pv,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class sw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function mv(n){throw n}function ow(n,e,t){return e.parse("/")}function Om(n,e){return(0,Xe.of)(null)}const kD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let li=(()=>{class n{constructor(t,s,a,d,g,v,w,S){this.rootComponentType=t,this.urlSerializer=s,this.rootContexts=a,this.location=d,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new rs.xQ,this.errorHandler=mv,this.malformedUriErrorHandler=ow,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Om,afterPreactivation:Om},this.urlHandlingStrategy=new sw,this.routeReuseStrategy=new Nm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(c.h0i),this.console=g.get(c.c2e);const G=g.get(c.R0b);this.isNgZoneEnabled=G instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new aa(new Dt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new rp(v,w,ee=>this.triggerEvent(new Jn(ee)),ee=>this.triggerEvent(new Xn(ee))),this.routerState=fm(this.currentUrlTree,this.rootComponentType),this.transitions=new yr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const s=this.events;return t.pipe(ss(a=>0!==a.id),(0,at.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),kn(a=>{let d=!1,g=!1;return(0,Xe.of)(a).pipe((0,ar.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),kn(v=>{const w=this.browserUrlTree.toString(),S=!this.navigated||v.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return ha(v.source)&&(this.browserUrlTree=v.extractedUrl),(0,Xe.of)(v).pipe(kn(k=>{const G=this.transitions.getValue();return s.next(new U(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),G!==this.transitions.getValue()?Rr.E:Promise.resolve(k)}),function(n,e,t,s){return kn(a=>function(n,e,t,s,a){return new Sc(n,e,t,s,a).apply()}(n,e,t,a.extractedUrl,s).pipe((0,at.U)(d=>Object.assign(Object.assign({},a),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ar.b)(k=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:k.urlAfterRedirects})}),function(n,e,t,s,a){return(0,or.zg)(d=>function(n,e,t,s,a="emptyOnly",d="legacy"){try{const g=new E(n,e,t,s,a,d).recognize();return null===g?f(new y):(0,Xe.of)(g)}catch(g){return f(g)}}(n,e,d.urlAfterRedirects,t(d.urlAfterRedirects),s,a).pipe((0,at.U)(g=>Object.assign(Object.assign({},d),{targetSnapshot:g}))))}(this.rootComponentType,this.config,k=>this.serializeUrl(k),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ar.b)(k=>{"eager"===this.urlUpdateStrategy&&(k.extras.skipLocationChange||this.setBrowserUrl(k.urlAfterRedirects,k),this.browserUrlTree=k.urlAfterRedirects);const G=new Be(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);s.next(G)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:G,extractedUrl:ee,source:_e,restoredState:Fe,extras:Ye}=v,qt=new U(G,this.serializeUrl(ee),_e,Fe);s.next(qt);const Zt=fm(ee,this.rootComponentType).snapshot;return(0,Xe.of)(Object.assign(Object.assign({},v),{targetSnapshot:Zt,urlAfterRedirects:ee,extras:Object.assign(Object.assign({},Ye),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),Rr.E}),xc(v=>{const{targetSnapshot:w,id:S,extractedUrl:N,rawUrl:k,extras:{skipLocationChange:G,replaceUrl:ee}}=v;return this.hooks.beforePreactivation(w,{navigationId:S,appliedUrlTree:N,rawUrlTree:k,skipLocationChange:!!G,replaceUrl:!!ee})}),(0,ar.b)(v=>{const w=new je(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}),(0,at.U)(v=>Object.assign(Object.assign({},v),{guards:cv(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(n,e){return(0,or.zg)(t=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:g}}=t;return 0===g.length&&0===d.length?(0,Xe.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,s){return(0,sn.D)(n).pipe((0,or.zg)(a=>function(n,e,t,s,a){const d=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,Xe.of)(!0);const g=d.map(v=>{const w=Er(v,e,a);let S;if(function(n){return n&&$i(n.canDeactivate)}(w))S=wi(w.canDeactivate(n,e,t,s));else{if(!$i(w))throw new Error("Invalid CanDeactivate guard");S=wi(w(n,e,t,s))}return S.pipe(ia())});return(0,Xe.of)(g).pipe(Ac())}(a.component,a.route,t,e,s)),ia(a=>!0!==a,!0))}(g,s,a,n).pipe((0,or.zg)(v=>v&&function(n){return"boolean"==typeof n}(v)?function(n,e,t,s){return(0,sn.D)(e).pipe(Bs(a=>ru(function(n,e){return null!==n&&e&&e(new js(n)),(0,Xe.of)(!0)}(a.route.parent,s),function(n,e){return null!==n&&e&&e(new Ui(n)),(0,Xe.of)(!0)}(a.route,s),function(n,e,t){const s=e[e.length-1],d=e.slice(0,e.length-1).reverse().map(g=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(g)).filter(g=>null!==g).map(g=>Fi(()=>{const v=g.guards.map(w=>{const S=Er(w,g.node,t);let N;if(function(n){return n&&$i(n.canActivateChild)}(S))N=wi(S.canActivateChild(s,n));else{if(!$i(S))throw new Error("Invalid CanActivateChild guard");N=wi(S(s,n))}return N.pipe(ia())});return(0,Xe.of)(v).pipe(Ac())}));return(0,Xe.of)(d).pipe(Ac())}(n,a.path,t),function(n,e,t){const s=e.routeConfig?e.routeConfig.canActivate:null;if(!s||0===s.length)return(0,Xe.of)(!0);const a=s.map(d=>Fi(()=>{const g=Er(d,e,t);let v;if(function(n){return n&&$i(n.canActivate)}(g))v=wi(g.canActivate(e,n));else{if(!$i(g))throw new Error("Invalid CanActivate guard");v=wi(g(e,n))}return v.pipe(ia())}));return(0,Xe.of)(a).pipe(Ac())}(n,a.route,t))),ia(a=>!0!==a,!0))}(s,d,n,e):(0,Xe.of)(v)),(0,at.U)(v=>Object.assign(Object.assign({},t),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,ar.b)(v=>{if(fu(v.guardsResult)){const S=uu(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw S.url=v.guardsResult,S}const w=new kt(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(w)}),ss(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),xc(v=>{if(v.guards.canActivateChecks.length)return(0,Xe.of)(v).pipe((0,ar.b)(w=>{const S=new $t(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(S)}),kn(w=>{let S=!1;return(0,Xe.of)(w).pipe(function(n,e){return(0,or.zg)(t=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,Xe.of)(t);let d=0;return(0,sn.D)(a).pipe(Bs(g=>function(n,e,t,s){return function(n,e,t,s){const a=Object.keys(n);if(0===a.length)return(0,Xe.of)({});const d={};return(0,sn.D)(a).pipe((0,or.zg)(g=>function(n,e,t,s){const a=Er(n,e,s);return wi(a.resolve?a.resolve(e,t):a(e,t))}(n[g],e,t,s).pipe((0,ar.b)(v=>{d[g]=v}))),Nf(1),(0,or.zg)(()=>Object.keys(d).length===a.length?(0,Xe.of)(d):Rr.E))}(n._resolve,n,e,s).pipe((0,at.U)(d=>(n._resolvedData=d,n.data=Object.assign(Object.assign({},n.data),pm(n,t).resolve),null)))}(g.route,s,n,e)),(0,ar.b)(()=>d++),Nf(1),(0,or.zg)(g=>d===a.length?(0,Xe.of)(t):Rr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ar.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,ar.b)(w=>{const S=new Qn(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(S)}))}),xc(v=>{const{targetSnapshot:w,id:S,extractedUrl:N,rawUrl:k,extras:{skipLocationChange:G,replaceUrl:ee}}=v;return this.hooks.afterPreactivation(w,{navigationId:S,appliedUrlTree:N,rawUrlTree:k,skipLocationChange:!!G,replaceUrl:!!ee})}),(0,at.U)(v=>{const w=function(n,e,t){const s=El(n,e._root,t?t._root:void 0);return new Bf(s,e)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:w})}),(0,ar.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((n,e,t)=>(0,at.U)(s=>(new bm(e,s.targetRouterState,s.currentRouterState,t).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,ar.b)({next(){d=!0},complete(){d=!0}}),function(n){return e=>e.lift(new C(n))}(()=>{var v;if(!d&&!g){const w=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,w)):this.cancelNavigationTransition(a,w)}(null===(v=this.currentNavigation)||void 0===v?void 0:v.id)===a.id&&(this.currentNavigation=null)}),Us(v=>{if(g=!0,function(n){return n&&n[au]}(v)){const w=fu(v.url);w||(this.navigated=!0,this.restoreHistory(a,!0));const S=new ae(a.id,this.serializeUrl(a.extractedUrl),v.message);s.next(S),w?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),k={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ha(a.source)};this.scheduleNavigation(N,"imperative",null,k,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new Ce(a.id,this.serializeUrl(a.extractedUrl),v);s.next(w);try{a.resolve(this.errorHandler(v))}catch(S){a.reject(S)}}return Rr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const s=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:d,urlTree:g}=s,v={replaceUrl:!0};if(d){const w=Object.assign({},d);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(v.state=w)}this.scheduleNavigation(g,a,d,v)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(t){var s;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,s){if(!t)return!0;const a=s.urlTree.toString()===t.urlTree.toString();return s.transitionId!==t.transitionId||!a||!("hashchange"===s.source&&"popstate"===t.source||"popstate"===s.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Nr(t),this.config=t.map(pu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,s={}){const{relativeTo:a,queryParams:d,fragment:g,queryParamsHandling:v,preserveFragment:w}=s,S=a||this.routerState.root,N=w?this.currentUrlTree.fragment:g;let k=null;switch(v){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=d||null}return null!==k&&(k=this.removeEmptyProps(k)),function(n,e,t,s,a){if(0===t.length)return _m(e.root,e.root,e,s,a);const d=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new bl(!0,0,n);let e=0,t=!1;const s=n.reduce((a,d,g)=>{if("object"==typeof d&&null!=d){if(d.outlets){const v={};return ur(d.outlets,(w,S)=>{v[S]="string"==typeof w?w.split("/"):w}),[...a,{outlets:v}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===g?(d.split("/").forEach((v,w)=>{0==w&&"."===v||(0==w&&""===v?t=!0:".."===v?e++:""!=v&&a.push(v))}),a):[...a,d]},[]);return new bl(t,e,s)}(t);if(d.toRoot())return _m(e.root,new Dt([],{}),e,s,a);const g=function(n,e,t){if(n.isAbsolute)return new hu(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const d=t.snapshot._urlSegment;return new hu(d,d===e.root,0)}const s=zd(n.commands[0])?0:1;return function(n,e,t){let s=n,a=e,d=t;for(;d>a;){if(d-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new hu(s,!1,a-d)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(d,e,n),v=g.processChildren?Yd(g.segmentGroup,g.index,d.commands):vm(g.segmentGroup,g.index,d.commands);return _m(g.segmentGroup,v,e,s,a)}(S,this.currentUrlTree,t,k,null!=N?N:null)}navigateByUrl(t,s={skipLocationChange:!1}){const a=fu(t)?t:this.parseUrl(t),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,s)}navigate(t,s={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,s),s)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let s;try{s=this.urlSerializer.parse(t)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return s}isActive(t,s){let a;if(a=!0===s?Object.assign({},kD):!1===s?Object.assign({},PD):s,fu(t))return vc(this.currentUrlTree,t,a);const d=this.parseUrl(t);return vc(this.currentUrlTree,d,a)}removeEmptyProps(t){return Object.keys(t).reduce((s,a)=>{const d=t[a];return null!=d&&(s[a]=d),s},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new z(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,s,a,d,g){var v,w;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),N=ha(s)&&S&&!ha(S.source),ee=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===t.toString();if(N&&ee)return Promise.resolve(!0);let _e,Fe,Ye;g?(_e=g.resolve,Fe=g.reject,Ye=g.promise):Ye=new Promise((Ln,Bt)=>{_e=Ln,Fe=Bt});const qt=++this.navigationId;let Zt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Zt=a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):Zt=0,this.setTransition({id:qt,targetPageId:Zt,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:d,resolve:_e,reject:Fe,promise:Ye,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ye.catch(Ln=>Promise.reject(Ln))}setBrowserUrl(t,s){const a=this.urlSerializer.serialize(t),d=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(t,s=!1){var a,d;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===g?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===g&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,s){const a=new ae(t.id,this.serializeUrl(t.extractedUrl),s);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,s){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:s}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.DyG),c.LFG(jd),c.LFG(da),c.LFG($e),c.LFG(c.zs3),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(void 0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function ha(n){return"imperative"!==n}let Lm=(()=>{class n{constructor(t,s,a,d,g){this.parentContexts=t,this.location=s,this.resolver=a,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.name=d||gt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,s){this.activated=t,this._activatedRoute=s,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const g=(s=s||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,w=new uw(t,v,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(da),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class uw{constructor(e,t,s){this.route=e,this.childContexts=t,this.parent=s}get(e,t){return e===vl?this.route:e===da?this.childContexts:this.parent.get(e,t)}}class yv{}class vv{preload(e,t){return(0,Xe.of)(null)}}let ip=(()=>{class n{constructor(t,s,a,d,g){this.router=t,this.injector=d,this.preloadingStrategy=g,this.loader=new rp(s,a,S=>t.triggerEvent(new Jn(S)),S=>t.triggerEvent(new Xn(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(ss(t=>t instanceof z),Bs(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,s){const a=[];for(const d of s)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const g=d._loadedConfig;a.push(this.processRoutes(g.module,g.routes))}else d.loadChildren&&!d.canLoad?a.push(this.preloadConfig(t,d)):d.children&&a.push(this.processRoutes(t,d.children));return(0,sn.D)(a).pipe((0,is.J)(),(0,at.U)(d=>{}))}preloadConfig(t,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,Xe.of)(s._loadedConfig):this.loader.load(t.injector,s)).pipe((0,or.zg)(d=>(s._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(li),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(yv))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),lh=(()=>{class n{constructor(t,s,a={}){this.router=t,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof z&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Co&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,s){this.router.triggerEvent(new Co(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(li),c.LFG(ja),c.LFG(void 0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const vu=new c.OlP("ROUTER_CONFIGURATION"),Ev=new c.OlP("ROUTER_FORROOT_GUARD"),sp=[$e,{provide:jd,useClass:Pf},{provide:li,useFactory:function(n,e,t,s,a,d,g,v={},w,S){const N=new li(null,n,e,t,s,a,d,Io(g));return w&&(N.urlHandlingStrategy=w),S&&(N.routeReuseStrategy=S),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(v,N),v.enableTracing&&N.events.subscribe(k=>{var G,ee;null===(G=console.group)||void 0===G||G.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null===(ee=console.groupEnd)||void 0===ee||ee.call(console)}),N},deps:[jd,da,$e,c.zs3,c.v3s,c.Sil,Mc,vu,[class{},new c.FiY],[class{},new c.FiY]]},da,{provide:vl,useFactory:function(n){return n.routerState.root},deps:[li]},{provide:c.v3s,useClass:c.EAV},ip,vv,class{preload(e,t){return t().pipe(Us(()=>(0,Xe.of)(null)))}},{provide:vu,useValue:{enableTracing:!1}}];function VD(){return new c.PXZ("Router",li)}let wv=(()=>{class n{constructor(t,s){}static forRoot(t,s){return{ngModule:n,providers:[sp,Vm(t),{provide:Ev,useFactory:lw,deps:[[li,new c.FiY,new c.tp0]]},{provide:vu,useValue:s||{}},{provide:W,useFactory:BD,deps:[ue,[new c.tBr(fe),new c.FiY],vu]},{provide:lh,useFactory:UD,deps:[li,ja,vu]},{provide:yv,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:vv},{provide:c.PXZ,multi:!0,useFactory:VD},[Cv,{provide:c.ip1,multi:!0,useFactory:hw,deps:[Cv]},{provide:fw,useFactory:jD,deps:[Cv]},{provide:c.tb,multi:!0,useExisting:fw}]]}}static forChild(t){return{ngModule:n,providers:[Vm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ev,8),c.LFG(li,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function UD(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new lh(n,e,t)}function BD(n,e,t={}){return t.useHash?new xe(n,e):new he(n,e)}function lw(n){return"guarded"}function Vm(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Mc,multi:!0,useValue:n}]}let Cv=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new rs.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(v=>s=v),d=this.injector.get(li),g=this.injector.get(vu);return"disabled"===g.initialNavigation?(d.setUpLocationChangeListener(),s(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,Xe.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),d.initialNavigation()):s(!0),a})}bootstrapListener(t){const s=this.injector.get(vu),a=this.injector.get(ip),d=this.injector.get(lh),g=this.injector.get(li),v=this.injector.get(c.z2F);t===v.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&g.initialNavigation(),a.setUpPreloading(),d.init(),g.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function hw(n){return n.appInitializer.bind(n)}function jD(n){return n.bootstrapListener.bind(n)}const fw=new c.OlP("Router Initializer");let pw=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-forgot-password"]],decls:2,vars:0,template:function(t,s){1&t&&(c.TgZ(0,"p"),c._uU(1,"forgot-password works!"),c.qZA())},styles:[""]}),n})();var $D=L(6682),op=L(309),ZD=L(7771),HD=L(8858);class gw extends rs.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new qD(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,s=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,d=s.length;let g;if(this.closed)throw new _o.N;if(this.isStopped||this.hasError?g=mc.w.EMPTY:(this.observers.push(e),g=new HD.W(this,e)),a&&e.add(e=new op.ht(e,a)),t)for(let v=0;v<d&&!e.closed;v++)e.next(s[v]);else for(let v=0;v<d&&!e.closed;v++)e.next(s[v].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),g}_getNow(){return(this.scheduler||ZD.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,s=this._windowTime,a=this._events,d=a.length;let g=0;for(;g<d&&!(e-a[g].time<s);)g++;return d>t&&(g=Math.max(g,d-t)),g>0&&a.splice(0,g),a}}class qD{constructor(e,t){this.time=e,this.value=t}}function mw(n,e,t){let s;return s=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:s}){let a,g,d=0,v=!1,w=!1;return function(N){let k;d++,!a||v?(v=!1,a=new gw(n,e,s),k=a.subscribe(this),g=N.subscribe({next(G){a.next(G)},error(G){v=!0,a.error(G)},complete(){w=!0,g=void 0,a.complete()}}),w&&(g=void 0)):k=a.subscribe(this),this.add(()=>{d--,k.unsubscribe(),k=void 0,g&&!w&&t&&0===d&&(g.unsubscribe(),g=void 0,a=void 0)})}}(s))}function ht(n,e){return e?kn(()=>n,e):kn(()=>n)}var Um=L(3101),Zr=L(463),Zi=L(8939);L(2329);var ye=L(8239),Rc=L(8026),Dv=L(3910),St=L(3854),bu=L(5422);const bw=new Map,Av={activated:!1,tokenObservers:[]},yM={initialized:!1,enabled:!1};function Hr(n){return bw.get(n)||Av}function fa(n,e){bw.set(n,e)}function Sv(){return yM}class wM{constructor(e,t,s,a,d){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=a,a>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new St.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new St.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ci=new St.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Bm(n){if(!Hr(n).activated)throw Ci.create("use-before-activation",{appName:n.name})}function pa(n,e){return $m.apply(this,arguments)}function $m(){return($m=(0,ye.Z)(function*({url:n,body:e},t){const s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(s["X-Firebase-Client"]=a.getPlatformInfoString());const d={method:"POST",body:JSON.stringify(e),headers:s};let g,v;try{g=yield fetch(n,d)}catch(k){throw Ci.create("fetch-network-error",{originalErrorMessage:k.message})}if(200!==g.status)throw Ci.create("fetch-status-error",{httpStatus:g.status});try{v=yield g.json()}catch(k){throw Ci.create("fetch-parse-error",{originalErrorMessage:k.message})}const w=v.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Ci.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const S=1e3*Number(w[1]),N=Date.now();return{token:v.attestationToken,expireTimeMillis:N+S,issuedAtTimeMillis:N}})).apply(this,arguments)}function Mv(n,e){const{projectId:t,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const dp="firebase-app-check-store";let Sl=null;function Nc(){return Sl||(Sl=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=s=>{n(s.target.result)},t.onerror=s=>{var a;e(Ci.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=s=>{const a=s.target.result;switch(s.oldVersion){case 0:a.createObjectStore(dp,{keyPath:"compositeKey"})}}}catch(t){e(Ci.create("storage-open",{originalErrorMessage:t.message}))}}),Sl)}function Zm(){return(Zm=(0,ye.Z)(function*(n,e){const s=(yield Nc()).transaction(dp,"readwrite"),d=s.objectStore(dp).put({compositeKey:n,value:e});return new Promise((g,v)=>{d.onsuccess=w=>{g()},s.onerror=w=>{var S;v(Ci.create("storage-set",{originalErrorMessage:null===(S=w.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const hh=new bu.Yd("@firebase/app-check");function kv(n,e){return(0,St.hl)()?function(n,e){return function(n,e){return Zm.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{hh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Pv(){return Sv().enabled}function Aw(){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,ye.Z)(function*(){const n=Sv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const eA={error:"UNKNOWN_ERROR"};function us(n){return St.US.encodeString(JSON.stringify(n),!1)}function zm(n){return Fv.apply(this,arguments)}function Fv(){return(Fv=(0,ye.Z)(function*(n,e=!1){const t=n.app;Bm(t);const s=Hr(t);let d,a=s.token;if(!a){const w=yield s.cachedTokenPromise;w&&fh(w)&&(a=w)}if(!e&&a&&fh(a))return{token:a.token};let v,g=!1;if(Pv()){s.exchangeTokenPromise||(s.exchangeTokenPromise=pa(Mv(t,yield Aw()),n.platformLoggerProvider).then(S=>(s.exchangeTokenPromise=void 0,S)),g=!0);const w=yield s.exchangeTokenPromise;return yield kv(t,w),fa(t,Object.assign(Object.assign({},s),{token:w})),{token:w.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(w=>(s.exchangeTokenPromise=void 0,w)),g=!0),a=yield s.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?hh.warn(w.message):hh.error(w),d=w}return a?(v={token:a.token},fa(t,Object.assign(Object.assign({},s),{token:a})),yield kv(t,a)):v=Rw(d),g&&Mw(t,v),v})).apply(this,arguments)}function xw(n,e){const t=Hr(n),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),fa(n,Object.assign(Object.assign({},t),{tokenObservers:s}))}function Lv(n){const{app:e}=n,t=Hr(e);let s=t.tokenRefresher;s||(s=function(n){const{app:e}=n;return new wM((0,ye.Z)(function*(){let s;if(s=Hr(e).token?yield zm(n,!0):yield zm(n),s.error)throw s.error}),()=>!0,()=>{const t=Hr(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),fa(e,Object.assign(Object.assign({},t),{tokenRefresher:s}))),!s.isRunning()&&t.isTokenAutoRefreshEnabled&&s.start()}function Mw(n,e){const t=Hr(n).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function fh(n){return n.expireTimeMillis-Date.now()>0}function Rw(n){return{token:us(eA),error:n}}class tA{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Hr(this.app);for(const t of e)xw(this.app,t.next);return Promise.resolve()}}const $v="app-check-internal";(0,Rc._registerComponent)(new Dv.wA("app-check",n=>function(n,e){return new tA(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($v).initialize()})),(0,Rc._registerComponent)(new Dv.wA($v,n=>function(n){return{getToken:e=>zm(n,e),addTokenListener:e=>function(n,e,t,s){const{app:a}=n,d=Hr(a),g={next:t,error:s,type:e};if(fa(a,Object.assign(Object.assign({},d),{tokenObservers:[...d.tokenObservers,g]})),d.token&&fh(d.token)){const v=d.token;Promise.resolve().then(()=>{t({token:v.token}),Lv(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>Lv(n))}(n,"INTERNAL",e),removeTokenListener:e=>xw(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Rc.registerVersion)("@firebase/app-check","0.5.3");class $w{constructor(){return(0,Zr.vb)("app-check")}}"undefined"!=typeof window&&window,L(7841);const qv=new c.OlP("angularfire2.auth.use-emulator"),qw=new c.OlP("angularfire2.auth.settings"),Gv=new c.OlP("angularfire2.auth.tenant-id"),Gw=new c.OlP("angularfire2.auth.langugage-code"),Xm=new c.OlP("angularfire2.auth.use-device-language"),Ww=new c.OlP("angularfire.auth.persistence"),zw=(n,e,t,s,a,d,g,v)=>(0,Zi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),s&&(w.tenantId=s),w.languageCode=a,d&&w.useDeviceLanguage(),g)for(const[S,N]of Object.entries(g))w.settings[S]=N;return v&&w.setPersistence(v),w},[t,s,a,d,g,v]);let ey=(()=>{class n{constructor(t,s,a,d,g,v,w,S,N,k,G,ee){const _e=new rs.xQ,Fe=(0,Xe.of)(void 0).pipe((0,op.QV)(g.outsideAngular),kn(()=>d.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,5799)))),(0,at.U)(()=>(0,Zi.on)(t,d,s)),(0,at.U)(Ye=>zw(Ye,d,v,S,N,k,w,G)),mw({bufferSize:1,refCount:!1}));if(Ba(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Xe.of)(null);else{Fe.pipe(ia()).subscribe();const qt=Fe.pipe(kn(Bt=>Bt.getRedirectResult().then(tr=>tr,()=>null)),Zr.iC,mw({bufferSize:1,refCount:!1})),Zt=Fe.pipe(kn(Bt=>new si.y(tr=>({unsubscribe:d.runOutsideAngular(()=>Bt.onAuthStateChanged(Uu=>tr.next(Uu),Uu=>tr.error(Uu),()=>tr.complete()))})))),Ln=Fe.pipe(kn(Bt=>new si.y(tr=>({unsubscribe:d.runOutsideAngular(()=>Bt.onIdTokenChanged(Uu=>tr.next(Uu),Uu=>tr.error(Uu),()=>tr.complete()))}))));this.authState=qt.pipe(ht(Zt),(0,Um.R)(g.outsideAngular),(0,op.QV)(g.insideAngular)),this.user=qt.pipe(ht(Ln),(0,Um.R)(g.outsideAngular),(0,op.QV)(g.insideAngular)),this.idToken=this.user.pipe(kn(Bt=>Bt?(0,sn.D)(Bt.getIdToken()):(0,Xe.of)(null))),this.idTokenResult=this.user.pipe(kn(Bt=>Bt?(0,sn.D)(Bt.getIdTokenResult()):(0,Xe.of)(null))),this.credential=(0,$D.T)(qt,_e,this.authState.pipe(ss(Bt=>!Bt))).pipe((0,at.U)(Bt=>(null==Bt?void 0:Bt.user)?Bt:null),(0,Um.R)(g.outsideAngular),(0,op.QV)(g.insideAngular))}return(0,Zi.pX)(this,Fe,d,{spy:{apply:(Ye,qt,Zt)=>{(Ye.startsWith("signIn")||Ye.startsWith("createUser"))&&Zt.then(Ln=>_e.next(Ln))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Zi.Dh),c.LFG(Zi.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Zr.HU),c.LFG(qv,8),c.LFG(qw,8),c.LFG(Gv,8),c.LFG(Gw,8),c.LFG(Xm,8),c.LFG(Ww,8),c.LFG($w,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ty=(()=>{class n{constructor(t,s){this.firebaseAuth=t,this.router=s}login(t,s){this.firebaseAuth.signInWithEmailAndPassword(t,s).then(a=>{var d,g;1==(null===(d=a.user)||void 0===d?void 0:d.emailVerified)?this.router.navigate(["/dashboard"]):this.router.navigate(["/varify-email"]),localStorage.setItem("token",JSON.stringify(null===(g=a.user)||void 0===g?void 0:g.uid))},a=>{alert(a.message)})}register(t,s){this.firebaseAuth.createUserWithEmailAndPassword(t,s).then(a=>{alert("Registration successful."),this.SendVerificationMail(a.user)},a=>{alert(a.message)})}SendVerificationMail(t){console.log(t),t.sendEmailVerification().then(()=>{this.router.navigate(["/varify-email"])},s=>{alert("Failed to send varification mail. Please register with valid email address.")})}forgotPassword(t){this.firebaseAuth.sendPasswordResetEmail(t).then(()=>{alert("Password link has been sent on your email."),this.router.navigate(["/login"])}).catch(s=>{alert(s.message)})}logout(){this.firebaseAuth.signOut().then(()=>{this.router.navigate(["/login"]),localStorage.removeItem("token")})}userLoggedIn(){var t=localStorage.getItem("token");return!(""==t||null==t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ey),c.LFG(li))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var gA=L(1555);function Cu(n,e){return new si.y(t=>{const s=n.length;if(0===s)return void t.complete();const a=new Array(s);let d=0,g=0;for(let v=0;v<s;v++){const w=(0,sn.D)(n[v]);let S=!1;t.add(w.subscribe({next:N=>{S||(S=!0,g++),a[v]=N},error:N=>t.error(N),complete:()=>{d++,(d===s||!S)&&(g===s&&t.next(e?e.reduce((N,k,G)=>(N[k]=a[G],N),{}):a),t.complete())}}))}})}let Kw=(()=>{class n{constructor(t,s){this._renderer=t,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,s){this._renderer.setProperty(this._elementRef.nativeElement,t,s)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Oc=(()=>{class n extends Kw{}return n.\u0275fac=function(){let e;return function(s){return(e||(e=c.n5z(n)))(s||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const ga=new c.OlP("NgValueAccessor"),vA={provide:ga,useExisting:(0,c.Gpc)(()=>Iu),multi:!0},Dn=new c.OlP("CompositionEventMode");let Iu=(()=>{class n extends Kw{constructor(t,s,a){super(t,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Dn,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,s){1&t&&c.NdJ("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[c._Bn([vA]),c.qOj]}),n})();const Or=new c.OlP("NgValidators"),ya=new c.OlP("NgAsyncValidators");function Qv(n){return null!=n}function Jv(n){const e=(0,c.QGY)(n)?(0,sn.D)(n):n;return(0,c.CqO)(e),e}function Xv(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function eE(n,e){return e.map(t=>t(n))}function eC(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function tE(n){return null!=n?function(n){if(!n)return null;const e=n.filter(Qv);return 0==e.length?null:function(t){return Xv(eE(t,e))}}(eC(n)):null}function nC(n){return null!=n?function(n){if(!n)return null;const e=n.filter(Qv);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,Xo.k)(e))return Cu(e,null);if((0,gA.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Cu(t.map(s=>e[s]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Cu(n=1===n.length&&(0,Xo.k)(n[0])?n[0]:n,null).pipe((0,at.U)(t=>e(...t)))}return Cu(n,null)}(eE(t,e).map(Jv)).pipe((0,at.U)(Xv))}}(eC(n)):null}function rE(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function sC(n){return n?Array.isArray(n)?n:[n]:[]}function iE(n,e){return Array.isArray(n)?n.includes(e):n===e}function ny(n,e){const t=sC(e);return sC(n).forEach(a=>{iE(t,a)||t.push(a)}),t}function oC(n,e){return sC(e).filter(t=>!iE(n,t))}let sE=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=tE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=nC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,s){return!!this.control&&this.control.hasError(t,s)}getError(t,s){return this.control?this.control.getError(t,s):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})(),ci=(()=>{class n extends sE{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(s){return(e||(e=c.n5z(n)))(s||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();class Pc extends sE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ws{constructor(e){this._cd=e}is(e){var t,s,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[e])}}let ry=(()=>{class n extends Ws{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Pc,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,s){2&t&&c.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[c.qOj]}),n})(),vp=(()=>{class n extends Ws{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ci,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,s){2&t&&c.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[c.qOj]}),n})();function bp(n,e){ls(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oy(n,e)})}(n,e),function(n,e){const t=(s,a)=>{e.valueAccessor.writeValue(s),a&&e.viewToModelUpdate(s)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oy(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=s=>{e.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Tu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ls(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(rE(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const s=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(rE(s,e.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();Tu(e._rawValidators,a),Tu(e._rawAsyncValidators,a)}function oy(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Du(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ea="VALID",Au="INVALID",Ro="PENDING",ba="DISABLED";function uy(n){return(cy(n)?n.validators:n)||null}function aE(n){return Array.isArray(n)?tE(n):n||null}function ly(n,e){return(cy(e)?e.asyncValidators:n)||null}function uE(n){return Array.isArray(n)?nC(n):n||null}function cy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class dy{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=aE(this._rawValidators),this._composedAsyncValidatorFn=uE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ea}get invalid(){return this.status===Au}get pending(){return this.status==Ro}get disabled(){return this.status===ba}get enabled(){return this.status!==ba}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=aE(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=uE(e)}addValidators(e){this.setValidators(ny(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ny(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oC(e,this._rawAsyncValidators))}hasValidator(e){return iE(this._rawValidators,e)}hasAsyncValidator(e){return iE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ro,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ba,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ea,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ea||this.status===Ro)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ba:Ea}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ro,this._hasOwnPendingAsyncValidator=!0;const t=Jv(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let s=n;return e.forEach(a=>{s=s instanceof hy?s.controls.hasOwnProperty(a)?s.controls[a]:null:s instanceof hC&&s.at(a)||null}),s}(this,e)}getError(e,t){const s=t?this.get(t):this;return s&&s.errors?s.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?ba:this.errors?Au:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ro)?Ro:this._anyControlsHaveStatus(Au)?Au:Ea}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Cp extends dy{constructor(e=null,t,s){super(uy(t),ly(s,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Du(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Du(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class hy extends dy{constructor(e,t,s){super(uy(t),ly(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,s={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,s)=>(e[s]=t instanceof Cp?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,s)=>!!s._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const s=this.controls[t];s&&e(s,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const s=this.controls[t];if(this.contains(t)&&e(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,s)=>((t.enabled||this.disabled)&&(e[s]=t.value),e))}_reduceChildren(e,t){let s=e;return this._forEachChild((a,d)=>{s=t(s,a,d)}),s}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class hC extends dy{constructor(e,t,s){super(uy(t),ly(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,s={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((s,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Cp?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,s)=>!!s._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,s)=>{e(t,s)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const TA={provide:ci,useExisting:(0,c.Gpc)(()=>_h)},Ip=(()=>Promise.resolve(null))();let _h=(()=>{class n extends ci{constructor(t,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new c.vpe,this.form=new hy({},tE(t),nC(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ip.then(()=>{const s=this._findContainer(t.path);t.control=s.registerControl(t.name,t.control),bp(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ip.then(()=>{const s=this._findContainer(t.path);s&&s.removeControl(t.name),Du(this._directives,t)})}addFormGroup(t){Ip.then(()=>{const s=this._findContainer(t.path),a=new hy({});(function(n,e){ls(n,e)})(a,t),s.registerControl(t.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ip.then(()=>{const s=this._findContainer(t.path);s&&s.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,s){Ip.then(()=>{this.form.get(t.path).setValue(s)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const s=t.control;"submit"===s.updateOn&&s._pendingChange&&(t.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Or,10),c.Y36(ya,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,s){1&t&&c.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([TA]),c.qOj]}),n})();const xA={provide:Pc,useExisting:(0,c.Gpc)(()=>vh)},MA=(()=>Promise.resolve(null))();let vh=(()=>{class n extends Pc{constructor(t,s,a,d){super(),this.control=new Cp,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function(n,e){if(!e)return null;let t,s,a;return Array.isArray(e),e.forEach(d=>{d.constructor===Iu?t=d:function(n){return Object.getPrototypeOf(n.constructor)===Oc}(d)?s=d:a=d}),a||s||t||null}(0,d)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){MA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const s=t.isDisabled.currentValue,a=""===s||s&&"false"!==s;MA.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ci,9),c.Y36(Or,10),c.Y36(ya,10),c.Y36(ga,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([xA]),c.qOj,c.TTD]}),n})(),Tp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),NA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),_y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[NA]]}),n})(),IC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[_y]}),n})(),AC=(()=>{class n{constructor(t){this.authService=t,this.email="",this.password=""}ngOnInit(){}login(){this.authService.login(this.email,this.password),this.email="",this.password=""}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ty))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:27,vars:2,consts:[[1,"container-fluid"],[1,"row","mt-4"],[1,"col-md-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-muted"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleInputPassword1",1,"form-label"],["type","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-info","me-2",3,"click"],["href","/register",1,"me-2",2,"text-decoration","none"],["href","/forgot-password",1,"me-2",2,"text-decoration","none"]],template:function(t,s){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._UZ(2,"div",2),c.TgZ(3,"div",2),c.TgZ(4,"div",3),c.TgZ(5,"div",4),c.TgZ(6,"form"),c.TgZ(7,"div",5),c.TgZ(8,"h3",6),c._uU(9,"Login"),c.qZA(),c.qZA(),c.TgZ(10,"div",5),c.TgZ(11,"label",7),c._uU(12,"Email address"),c.qZA(),c.TgZ(13,"input",8),c.NdJ("ngModelChange",function(d){return s.email=d}),c.qZA(),c.qZA(),c.TgZ(14,"div",5),c.TgZ(15,"label",9),c._uU(16,"Password"),c.qZA(),c.TgZ(17,"input",10),c.NdJ("ngModelChange",function(d){return s.password=d}),c.qZA(),c.qZA(),c.TgZ(18,"button",11),c.NdJ("click",function(){return s.login()}),c._uU(19,"Login"),c.qZA(),c._UZ(20,"br"),c.TgZ(21,"a",12),c._uU(22,"Need account ? "),c.qZA(),c._UZ(23,"br"),c.TgZ(24,"a",13),c._uU(25,"Forgot Password ? "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(26,"div",2),c.qZA(),c.qZA()),2&t&&(c.xp6(13),c.Q6J("ngModel",s.email),c.xp6(4),c.Q6J("ngModel",s.password))},directives:[Tp,vp,_h,Iu,ry,vh],styles:[""]}),n})(),SC=(()=>{class n{constructor(t){this.authservice=t,this.email="",this.password=""}ngOnInit(){}register(){this.authservice.register(this.email,this.password),this.email="",this.password=""}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ty))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:25,vars:2,consts:[[1,"container-fluid"],[1,"row","mt-4"],[1,"col-md-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-muted"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleInputPassword1",1,"form-label"],["type","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-info","me-2",3,"click"],["href","/login",1,"me-2",2,"text-decoration","none"]],template:function(t,s){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._UZ(2,"div",2),c.TgZ(3,"div",2),c.TgZ(4,"div",3),c.TgZ(5,"div",4),c.TgZ(6,"form"),c.TgZ(7,"div",5),c.TgZ(8,"h3",6),c._uU(9,"Register"),c.qZA(),c.qZA(),c.TgZ(10,"div",5),c.TgZ(11,"label",7),c._uU(12,"Email address"),c.qZA(),c.TgZ(13,"input",8),c.NdJ("ngModelChange",function(d){return s.email=d}),c.qZA(),c.qZA(),c.TgZ(14,"div",5),c.TgZ(15,"label",9),c._uU(16,"Password"),c.qZA(),c.TgZ(17,"input",10),c.NdJ("ngModelChange",function(d){return s.password=d}),c.qZA(),c.qZA(),c.TgZ(18,"button",11),c.NdJ("click",function(){return s.register()}),c._uU(19,"Register"),c.qZA(),c._UZ(20,"br"),c.TgZ(21,"a",12),c._uU(22,"Already have an account ? "),c.qZA(),c._UZ(23,"br"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(24,"div",2),c.qZA(),c.qZA()),2&t&&(c.xp6(13),c.Q6J("ngModel",s.email),c.xp6(4),c.Q6J("ngModel",s.password))},directives:[Tp,vp,_h,Iu,ry,vh],styles:[""]}),n})(),wE=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-varify-email"]],decls:16,vars:0,consts:[[1,"container-fluid"],[1,"row","mt-4"],[1,"col-md-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-muted"],["href","/login",2,"text-decoration","none"]],template:function(t,s){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._UZ(2,"div",2),c.TgZ(3,"div",2),c.TgZ(4,"div",3),c.TgZ(5,"div",4),c.TgZ(6,"form"),c.TgZ(7,"div",5),c.TgZ(8,"h3",6),c._uU(9,"Verify Email"),c.qZA(),c.TgZ(10,"p"),c._uU(11,"Link has been sent on registered email. Click on link to varify email."),c.qZA(),c.qZA(),c.TgZ(12,"a",7),c._uU(13,"Back to login"),c.qZA(),c._UZ(14,"br"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(15,"div",2),c.qZA(),c.qZA())},directives:[Tp,vp,_h],styles:[""]}),n})(),xC=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-admin-panel"]],decls:5,vars:0,consts:[[1,"container-fluid","m-0","p-0",2,"min-height","100vh"],[1,"mt-2"],[1,"text-muted","text-warning"],[1,"text-muted"]],template:function(t,s){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h4",2),c._uU(3,"Dashboard"),c.qZA(),c._UZ(4,"hr",3),c.qZA(),c.qZA())},styles:[""]}),n})();function WA(n,e){if(1&n&&(c.TgZ(0,"div",13),c.TgZ(1,"a",14),c.TgZ(2,"div",15),c.TgZ(3,"div",8),c._uU(4),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&n){const t=e.index;c.xp6(4),c.hij(" ",t+1," ")}}let zA=(()=>{class n{constructor(){this.numOfTables=10}ngOnInit(){}numberOfTables(){return new Array(this.numOfTables)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-bill-section"]],decls:19,vars:2,consts:[[1,"container-fluid","m-0","p-0",2,"min-height","100vh"],[1,"mt-2"],[1,"text-muted","text-warning"],[1,"text-muted"],[1,"row","pe-2","mt-3"],[1,"col-sm-4","text-center","text-success"],[2,"text-decoration","none"],[1,"card","shadow"],[1,"card-body"],[1,"text-muted","mt-3"],[1,"p-2","mt-3"],[1,"row","table1"],["class","col-sm-2 mt-2",4,"ngFor","ngForOf"],[1,"col-sm-2","mt-2"],["href","",1,"text-center","text-dark","card","shadow",2,"text-decoration","none","cursor","pointer"],[1,"card","border-0"]],template:function(t,s){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h4",2),c._uU(3," Bill Section"),c.qZA(),c._UZ(4,"hr",3),c.qZA(),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c.TgZ(7,"a",6),c.TgZ(8,"div",7),c.TgZ(9,"div",8),c.TgZ(10,"h5"),c._uU(11,"Total Tables"),c.qZA(),c.TgZ(12,"h6"),c._uU(13),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(14,"h4",9),c._uU(15,"Tables : "),c.qZA(),c.TgZ(16,"div",10),c.TgZ(17,"div",11),c.YNc(18,WA,5,1,"div",12),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(13),c.Oqu(s.numOfTables),c.xp6(5),c.Q6J("ngForOf",s.numberOfTables()))},directives:[ti],styles:[".table1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#dc143c!important}"]}),n})();var KA=L(3637);function vy(){return n=>n.lift(new CE)}class CE{call(e,t){return t.subscribe(new MC(e))}}class MC extends tn.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class NC{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new OC(e,this.compare,this.keySelector))}}class OC extends tn.L{constructor(e,t,s){super(e),this.keySelector=s,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=t,this.destination.next(e))}}L(5799);var Ge,kC=L(3394),PC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},wa={},IE=IE||{},mt=PC||self;function Sp(){}function TE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Pn(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var DE="closure_uid_"+(1e9*Math.random()>>>0),QA=0;function LC(n,e,t){return n.call.apply(n.bind,arguments)}function JA(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function kr(n,e,t){return(kr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?LC:JA).apply(null,arguments)}function xp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function $n(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(s,a,d){for(var g=Array(arguments.length-2),v=2;v<arguments.length;v++)g[v-2]=arguments[v];return e.prototype[a].apply(s,g)}}function Nl(){this.s=this.s,this.o=this.o}var VC={};Nl.prototype.s=!1,Nl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,DE)&&n[DE]||(n[DE]=++QA)}(this);delete VC[n]}},Nl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const UC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},AE=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const s=n.length,a="string"==typeof n?n.split(""):n;for(let d=0;d<s;d++)d in a&&e.call(t,a[d],d,n)};function SE(n){return Array.prototype.concat.apply([],arguments)}function Mp(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function cs(n){return/^[\s\xa0]*$/.test(n)}var En,BC=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ii(n,e){return-1!=n.indexOf(e)}function zs(n,e){return n<e?-1:n>e?1:0}e:{var Ks=mt.navigator;if(Ks){var xE=Ks.userAgent;if(xE){En=xE;break e}}En=""}function Ey(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function jC(n){const e={};for(const t in n)e[t]=n[t];return e}var $C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZC(n,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)n[t]=s[t];for(let d=0;d<$C.length;d++)t=$C[d],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function ME(n){return ME[" "](n),n}ME[" "]=Sp;var by,n,Rp=Ii(En,"Opera"),Eh=Ii(En,"Trident")||Ii(En,"MSIE"),NE=Ii(En,"Edge"),OE=NE||Eh,kE=Ii(En,"Gecko")&&!(Ii(En.toLowerCase(),"webkit")&&!Ii(En,"Edge"))&&!(Ii(En,"Trident")||Ii(En,"MSIE"))&&!Ii(En,"Edge"),HC=Ii(En.toLowerCase(),"webkit")&&!Ii(En,"Edge");function Np(){var n=mt.document;return n?n.documentMode:void 0}e:{var wy="",Cy=(n=En,kE?/rv:([^\);]+)(\)|;)/.exec(n):NE?/Edge\/([\d\.]+)/.exec(n):Eh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):HC?/WebKit\/(\S+)/.exec(n):Rp?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Cy&&(wy=Cy?Cy[1]:""),Eh){var Op=Np();if(null!=Op&&Op>parseFloat(wy)){by=String(Op);break e}}by=wy}var Iy={};function qC(){return e=Iy,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=BC(String(by)).split("."),t=BC("9").split("."),s=Math.max(e.length,t.length);for(let g=0;0==n&&g<s;g++){var a=e[g]||"",d=t[g]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==a[0].length&&0==d[0].length)break;n=zs(0==a[1].length?0:parseInt(a[1],10),0==d[1].length?0:parseInt(d[1],10))||zs(0==a[2].length,0==d[2].length)||zs(a[2],d[2]),a=a[3],d=d[3]}while(0==n)}return 0<=n}();var e}var GC=mt.document&&Eh&&(Np()||parseInt(by,10))||void 0,WC=function(){if(!mt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{mt.addEventListener("test",Sp,e),mt.removeEventListener("test",Sp,e)}catch(t){}return n}();function qr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function bh(n,e){if(qr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(kE){e:{try{ME(e.nodeName);var a=!0;break e}catch(d){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:zC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&bh.Z.h.call(this)}}qr.prototype.h=function(){this.defaultPrevented=!0},$n(bh,qr);var zC={2:"touch",3:"pen",4:"mouse"};bh.prototype.h=function(){bh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var kp="closure_listenable_"+(1e6*Math.random()|0),eS=0;function tS(n,e,t,s,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++eS,this.ca=this.fa=!1}function Dy(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Ay(n){this.src=n,this.g={},this.h=0}function FE(n,e){var t=e.type;if(t in n.g){var d,s=n.g[t],a=UC(s,e);(d=0<=a)&&Array.prototype.splice.call(s,a,1),d&&(Dy(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function LE(n,e,t,s){for(var a=0;a<n.length;++a){var d=n[a];if(!d.ca&&d.listener==e&&d.capture==!!t&&d.ia==s)return a}return-1}Ay.prototype.add=function(n,e,t,s,a){var d=n.toString();(n=this.g[d])||(n=this.g[d]=[],this.h++);var g=LE(n,e,s,a);return-1<g?(e=n[g],t||(e.fa=!1)):((e=new tS(e,this.src,d,!!s,a)).fa=t,n.push(e)),e};var VE="closure_lm_"+(1e6*Math.random()|0),UE={};function KC(n,e,t,s,a){if(s&&s.once)return QC(n,e,t,s,a);if(Array.isArray(e)){for(var d=0;d<e.length;d++)KC(n,e[d],t,s,a);return null}return t=xy(t),n&&n[kp]?n.N(e,t,Pn(s)?!!s.capture:!!s,a):YC(n,e,t,!1,s,a)}function YC(n,e,t,s,a,d){if(!e)throw Error("Invalid event type");var g=Pn(a)?!!a.capture:!!a,v=jE(n);if(v||(n[VE]=v=new Ay(n)),(t=v.add(e,t,s,g,d)).proxy)return t;if(s=function(){var e=rS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)WC||(a=g),void 0===a&&(a=!1),n.addEventListener(e.toString(),s,a);else if(n.attachEvent)n.attachEvent(XC(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function QC(n,e,t,s,a){if(Array.isArray(e)){for(var d=0;d<e.length;d++)QC(n,e[d],t,s,a);return null}return t=xy(t),n&&n[kp]?n.O(e,t,Pn(s)?!!s.capture:!!s,a):YC(n,e,t,!0,s,a)}function JC(n,e,t,s,a){if(Array.isArray(e))for(var d=0;d<e.length;d++)JC(n,e[d],t,s,a);else s=Pn(s)?!!s.capture:!!s,t=xy(t),n&&n[kp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=LE(d=n.g[e],t,s,a))&&(Dy(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete n.g[e],n.h--))):n&&(n=jE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=LE(e,t,s,a)),(t=-1<n?e[n]:null)&&BE(t))}function BE(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[kp])FE(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(XC(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=jE(e))?(FE(t,n),0==t.h&&(t.src=null,e[VE]=null)):Dy(n)}}}function XC(n){return n in UE?UE[n]:UE[n]="on"+n}function rS(n,e){if(n.ca)n=!0;else{e=new bh(e,this);var t=n.listener,s=n.ia||n.src;n.fa&&BE(n),n=t.call(s,e)}return n}function jE(n){return(n=n[VE])instanceof Ay?n:null}var Sy="__closure_events_fn_"+(1e9*Math.random()>>>0);function xy(n){return"function"==typeof n?n:(n[Sy]||(n[Sy]=function(e){return n.handleEvent(e)}),n[Sy])}function br(){Nl.call(this),this.i=new Ay(this),this.P=this,this.I=null}function Pr(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new qr(e,n);else if(e instanceof qr)e.target=e.target||n;else{var a=e;ZC(e=new qr(s,n),a)}if(a=!0,t)for(var d=t.length-1;0<=d;d--){var g=e.g=t[d];a=Pp(g,s,!0,e)&&a}if(a=Pp(g=e.g=n,s,!0,e)&&a,a=Pp(g,s,!1,e)&&a,t)for(d=0;d<t.length;d++)a=Pp(g=e.g=t[d],s,!1,e)&&a}function Pp(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.ca&&g.capture==t){var v=g.listener,w=g.ia||g.src;g.fa&&FE(n.i,g),a=!1!==v.call(w,s)&&a}}return a&&!s.defaultPrevented}$n(br,Nl),br.prototype[kp]=!0,br.prototype.removeEventListener=function(n,e,t,s){JC(this,n,e,t,s)},br.prototype.M=function(){if(br.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)Dy(t[s]);delete n.g[e],n.h--}}this.I=null},br.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},br.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var My=mt.JSON.stringify;function eI(){var n=sS;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var HE,$E=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ZE,n=>n.reset());class ZE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function nI(n){mt.setTimeout(()=>{throw n},0)}function Su(n,e){HE||function(){var n=mt.Promise.resolve(void 0);HE=function(){n.then(qE)}}(),Ol||(HE(),Ol=!0),sS.add(n,e)}var Ol=!1,sS=new class{constructor(){this.h=this.g=null}add(e,t){const s=$E.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function qE(){for(var n;n=eI();){try{n.h.call(n.g)}catch(t){nI(t)}var e=$E;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ol=!1}function GE(n,e){br.call(this),this.h=n||1,this.g=e||mt,this.j=kr(this.kb,this),this.l=Date.now()}function Ry(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Ny(n,e,t){if("function"==typeof n)t&&(n=kr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=kr(n.handleEvent,n)}return 2147483647<Number(e)?-1:mt.setTimeout(n,e||0)}function oS(n){n.g=Ny(()=>{n.g=null,n.i&&(n.i=!1,oS(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}$n(GE,br),(Ge=GE.prototype).da=!1,Ge.S=null,Ge.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Pr(this,"tick"),this.da&&(Ry(this),this.start()))}},Ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ge.M=function(){GE.Z.M.call(this),Ry(this),delete this.g};class it extends Nl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oS(this)}M(){super.M(),this.g&&(mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fp(n){Nl.call(this),this.h=n,this.g={}}$n(Fp,Nl);var rI=[];function iI(n,e,t,s){Array.isArray(t)||(t&&(rI[0]=t.toString()),t=rI);for(var a=0;a<t.length;a++){var d=KC(e,t[a],s||n.handleEvent,!1,n.h||n);if(!d)break;n.g[d.key]=d}}function Lp(n){Ey(n.g,function(e,t){this.g.hasOwnProperty(t)&&BE(e)},n),n.g={}}function Oy(){this.g=!0}function un(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var d=a[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<a.length;g++)a[g]=""}}}return My(t)}catch(v){return e}}(n,t)+(s?" "+s:"")})}Fp.prototype.M=function(){Fp.Z.M.call(this),Lp(this)},Fp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Oy.prototype.Aa=function(){this.g=!1},Oy.prototype.info=function(){};var xu={},oI=null;function Vp(){return oI=oI||new br}function WE(n){qr.call(this,xu.Ma,n)}function wh(n){const e=Vp();Pr(e,new WE(e,n))}function zE(n,e){qr.call(this,xu.STAT_EVENT,n),this.stat=e}function Ti(n){const e=Vp();Pr(e,new zE(e,n))}function aI(n,e){qr.call(this,xu.Na,n),this.size=e}function Up(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return mt.setTimeout(function(){n()},e)}xu.Ma="serverreachability",$n(WE,qr),xu.STAT_EVENT="statevent",$n(zE,qr),xu.Na="timingevent",$n(aI,qr);var kl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uI={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function KE(){}function Bp(){}KE.prototype.h=null;var YE,Ch={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Fy(){qr.call(this,"d")}function Ly(){qr.call(this,"c")}function Pl(){}function Mu(n,e,t,s){this.l=n,this.j=e,this.m=t,this.X=s||1,this.V=new Fp(this),this.P=aS,this.W=new GE(n=OE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new cI}function cI(){this.i=null,this.g="",this.h=!1}$n(Fy,qr),$n(Ly,qr),$n(Pl,KE),Pl.prototype.g=function(){return new XMLHttpRequest},Pl.prototype.i=function(){return{}},YE=new Pl;var aS=45e3,QE={},jp={};function Vy(n,e,t){n.K=1,n.v=qy(Ru(e)),n.s=t,n.U=!0,JE(n,null)}function JE(n,e){n.F=Date.now(),$p(n),n.A=Ru(n.v);var t=n.A,s=n.X;Array.isArray(s)||(s=[String(s)]),EI(t.h,"t",s),n.C=0,t=n.l.H,n.h=new cI,n.g=LI(n.l,t?e:null,!n.s),0<n.O&&(n.L=new it(kr(n.Ia,n,n.g),n.O)),iI(n.V,n.g,"readystatechange",n.gb),e=n.H?jC(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),wh(1),function(n,e,t,s,a,d){n.info(function(){if(n.g)if(d)for(var g="",v=d.split("&"),w=0;w<v.length;w++){var S=v[w].split("=");if(1<S.length){var N=S[0];S=S[1];var k=N.split("_");g=2<=k.length&&"type"==k[1]?g+(N+"=")+S+"&":g+(N+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+g})}(n.j,n.u,n.A,n.m,n.X,n.s)}function dI(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function XE(n,e,t){let a,s=!0;for(;!n.I&&n.C<t.length;){if(a=uS(n,t),a==jp){4==e&&(n.o=4,Ti(14),s=!1),un(n.j,n.m,null,"[Incomplete Response]");break}if(a==QE){n.o=4,Ti(15),un(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}un(n.j,n.m,a,null),By(n,a)}dI(n)&&a!=jp&&a!=QE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ti(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Qp(e),e.L=!0,Ti(11))):(un(n.j,n.m,t,"[Invalid Chunked Response]"),Ih(n),Uy(n))}function uS(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?jp:(t=Number(e.substring(t,s)),isNaN(t)?QE:(s+=1)+t>e.length?jp:(e=e.substr(s,t),n.C=s+t,e))}function $p(n){n.Y=Date.now()+n.P,lS(n,n.P)}function lS(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Up(kr(n.eb,n),e)}function eb(n){n.B&&(mt.clearTimeout(n.B),n.B=null)}function Uy(n){0==n.l.G||n.I||pb(n.l,n)}function Ih(n){eb(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ry(n.W),Lp(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function By(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||rb(t.i,n)))if(t.I=n.N,!n.J&&rb(t.i,n)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(S){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=Up(kr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Sh(t),ds(t)}hb(t),Ti(18)}if(1>=CI(t.i)&&t.ka){try{t.ka()}catch(S){}t.ka=void 0}}else xh(t,11)}else if((n.J||t.g==n)&&Sh(t),!cs(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let S=a[e];if(t.U=S[0],S=S[1],2==t.G)if("c"==S[0]){t.J=S[1],t.la=S[2];const N=S[3];null!=N&&(t.ma=N,t.h.info("VER="+t.ma));const k=S[4];null!=k&&(t.za=k,t.h.info("SVER="+t.za));const G=S[5];null!=G&&"number"==typeof G&&0<G&&(t.K=s=1.5*G,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const ee=n.g;if(ee){const _e=ee.g?ee.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_e){var d=s.i;!d.g&&(Ii(_e,"spdy")||Ii(_e,"quic")||Ii(_e,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(ib(d,d.h),d.h=null))}if(s.D){const Fe=ee.g?ee.g.getResponseHeader("X-HTTP-Session-Id"):null;Fe&&(s.sa=Fe,rn(s.F,s.D,Fe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var g=n;if((s=t).oa=FI(s,s.H?s.la:null,s.W),g.J){sb(s.i,g);var v=g,w=s.K;w&&v.setTimeout(w),v.B&&(eb(v),$p(v)),s.g=g}else OI(s);0<t.l.length&&jc(t)}else"stop"!=S[0]&&"close"!=S[0]||xh(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?xh(t,7):cb(t):"noop"!=S[0]&&t.j&&t.j.wa(S),t.A=0)}wh(4)}catch(S){}}function tb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(TE(n)||"string"==typeof n)AE(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(TE(n)||"string"==typeof n){t=[];for(var s=n.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,n)t[s++]=a;a=(s=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(TE(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n)).length;for(var d=0;d<a;d++)e.call(void 0,s[d],t&&t[d],n)}}function Th(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(n)if(n instanceof Th)for(t=n.T(),s=0;s<t.length;s++)this.set(t[s],n.get(t[s]));else for(s in n)this.set(s,n[s])}function $y(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var s=n.g[e];No(n.h,s)&&(n.g[t++]=s),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)No(a,s=n.g[e])||(n.g[t++]=s,a[s]=1),e++;n.g.length=t}}function No(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ge=Mu.prototype).setTimeout=function(n){this.P=n},Ge.gb=function(n){n=n.target;const e=this.L;e&&3==Oo(n)?e.l():this.Ia(n)},Ge.Ia=function(n){try{if(n==this.g)e:{const N=Oo(this.g);var e=this.g.Da();const k=this.g.ba();if(!(3>N)&&(3!=N||OE||this.g&&(this.h.h||this.g.ga()||Kp(this.g)))){this.I||4!=N||7==e||wh(8==e||0>=k?3:2),eb(this);var t=this.g.ba();this.N=t;t:if(dI(this)){var s=Kp(this.g);n="";var a=s.length,d=4==Oo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ih(this),Uy(this);var g="";break t}this.h.i=new mt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:d&&e==a-1});s.splice(0,a),this.h.g+=n,this.C=0,g=this.h.g}else g=this.g.ga();if(this.i=200==t,function(n,e,t,s,a,d,g){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.X,N,t),this.i){if(this.$&&!this.J){t:{if(this.g){var v,w=this.g;if((v=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cs(v)){var S=v;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,Ti(12),Ih(this),Uy(this);break e}un(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,By(this,t)}this.U?(XE(this,N,g),OE&&this.i&&3==N&&(iI(this.V,this.W,"tick",this.fb),this.W.start())):(un(this.j,this.m,g,null),By(this,g)),4==N&&Ih(this),this.i&&!this.I&&(4==N?pb(this.l,this):(this.i=!1,$p(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,Ti(12)):(this.o=0,Ti(13)),Ih(this),Uy(this)}}}catch(N){}},Ge.fb=function(){if(this.g){var n=Oo(this.g),e=this.g.ga();this.C<e.length&&(eb(this),XE(this,n,e),this.i&&4!=n&&$p(this))}},Ge.cancel=function(){this.I=!0,Ih(this)},Ge.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(wh(3),Ti(17)),Ih(this),this.o=2,Uy(this)):lS(this,this.Y-n)},(Ge=Th.prototype).R=function(){$y(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ge.T=function(){return $y(this),this.g.concat()},Ge.get=function(n,e){return No(this.h,n)?this.h[n]:e},Ge.set=function(n,e){No(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ge.forEach=function(n,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],d=this.get(a);n.call(e,d,a,this)}};var hI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Vc){this.g=void 0!==e?e:n.g,Zy(this,n.j),this.s=n.s,Zp(this,n.i),Hy(this,n.m),this.l=n.l,e=n.h;var t=new qp;t.i=e.i,e.g&&(t.g=new Th(e.g),t.h=e.h),fI(this,t),this.o=n.o}else n&&(t=String(n).match(hI))?(this.g=!!e,Zy(this,t[1]||"",!0),this.s=Dh(t[2]||""),Zp(this,t[3]||"",!0),Hy(this,t[4]),this.l=Dh(t[5]||"",!0),fI(this,t[6]||"",!0),this.o=Dh(t[7]||"")):(this.g=!!e,this.h=new qp(null,this.g))}function Ru(n){return new Vc(n)}function Zy(n,e,t){n.j=t?Dh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Zp(n,e,t){n.i=t?Dh(e,!0):e}function Hy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function fI(n,e,t){e instanceof qp?(n.h=e,function(n,e){e&&!n.j&&(Fl(n),n.i=null,n.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(vI(this,s),EI(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Hp(e,yI)),n.h=new qp(e,n.g))}function rn(n,e,t){n.h.set(e,t)}function qy(n){return rn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Dh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Hp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,gI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function gI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Vc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Hp(e,mI,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Hp(e,mI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Hp(t,"/"==t.charAt(0)?hS:nb,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Hp(t,_I)),n.join("")};var mI=/[#\/\?@]/g,nb=/[#\?:]/g,hS=/[#\?]/g,yI=/[#\?@]/g,_I=/#/g;function qp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Fl(n){n.g||(n.g=new Th,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),a=null;if(0<=s){var d=n[t].substring(0,s);a=n[t].substring(s+1)}else d=n[t];e(d,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function vI(n,e){Fl(n),e=Uc(n,e),No(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,No((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&$y(n)))}function Gy(n,e){return Fl(n),e=Uc(n,e),No(n.g.h,e)}function EI(n,e,t){vI(n,e),0<t.length&&(n.i=null,n.g.set(Uc(n,e),Mp(t)),n.h+=t.length)}function Uc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function bI(n){this.l=n||gS,n=mt.PerformanceNavigationTiming?0<(n=mt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(mt.g&&mt.g.Ea&&mt.g.Ea()&&mt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ge=qp.prototype).add=function(n,e){Fl(this),this.i=null,n=Uc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ge.forEach=function(n,e){Fl(this),this.g.forEach(function(t,s){AE(t,function(a){n.call(e,a,s,this)},this)},this)},Ge.T=function(){Fl(this);for(var n=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=n[s],d=0;d<a.length;d++)t.push(e[s]);return t},Ge.R=function(n){Fl(this);var e=[];if("string"==typeof n)Gy(this,n)&&(e=SE(e,this.g.get(Uc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=SE(e,n[t])}return e},Ge.set=function(n,e){return Fl(this),this.i=null,Gy(this,n=Uc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ge.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var d=0;d<s.length;d++){var g=a;""!==s[d]&&(g+="="+encodeURIComponent(String(s[d]))),n.push(g)}}return this.i=n.join("&")};var gS=10;function wI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function CI(n){return n.h?1:n.g?n.g.size:0}function rb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ib(n,e){n.g?n.g.add(e):n.h=e}function sb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ob(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Mp(n.i)}function ab(){}function mS(){this.g=new ab}function II(n,e,t){const s=t||"";try{tb(n,function(a,d){let g=a;Pn(a)&&(g=My(a)),e.push(s+d+"="+encodeURIComponent(g))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Wy(n,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(d){}}function Gp(n){this.l=n.$b||null,this.j=n.ib||!1}function Ah(n,e){br.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Wp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bI.prototype.cancel=function(){if(this.i=ob(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ab.prototype.stringify=function(n){return mt.JSON.stringify(n,void 0)},ab.prototype.parse=function(n){return mt.JSON.parse(n,void 0)},$n(Gp,KE),Gp.prototype.g=function(){return new Ah(this.l,this.j)},Gp.prototype.i=function(n){return function(){return n}}({}),$n(Ah,br);var Wp=0;function ub(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Bc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zp(n)}function zp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ge=Ah.prototype).open=function(n,e){if(this.readyState!=Wp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,zp(this)},Ge.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||mt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bc(this)),this.readyState=Wp},Ge.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zp(this)),this.g&&(this.readyState=3,zp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==mt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ub(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ge.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Bc(this):zp(this),3==this.readyState&&ub(this)}},Ge.Ua=function(n){this.g&&(this.response=this.responseText=n,Bc(this))},Ge.Ta=function(n){this.g&&(this.response=n,Bc(this))},Ge.ha=function(){this.g&&Bc(this)},Ge.setRequestHeader=function(n,e){this.v.append(n,e)},Ge.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ge.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ah.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _S=mt.JSON.parse;function Zn(n){br.call(this),this.headers=new Th,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=TI,this.K=this.L=!1}$n(Zn,br);var TI="",DI=/^https?$/i,vS=["POST","PUT"];function SI(n){return"content-type"==n.toLowerCase()}function lb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ES(n),Nu(n)}function ES(n){n.D||(n.D=!0,Pr(n,"complete"),Pr(n,"error"))}function xI(n){if(n.h&&void 0!==IE&&(!n.C[1]||4!=Oo(n)||2!=n.ba()))if(n.v&&4==Oo(n))Ny(n.Fa,0,n);else if(Pr(n,"readystatechange"),4==Oo(n)){n.h=!1;try{const v=n.ba();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===v){var a=String(n.H).match(hI)[1]||null;if(!a&&mt.self&&mt.self.location){var d=mt.self.location.protocol;a=d.substr(0,d.length-1)}s=!DI.test(a?a.toLowerCase():"")}t=s}if(t)Pr(n,"complete"),Pr(n,"success");else{n.m=6;try{var g=2<Oo(n)?n.g.statusText:""}catch(w){g=""}n.j=g+" ["+n.ba()+"]",ES(n)}}finally{Nu(n)}}}function Nu(n,e){if(n.g){bS(n);const t=n.g,s=n.C[0]?Sp:null;n.g=null,n.C=null,e||Pr(n,"ready");try{t.onreadystatechange=s}catch(a){}}}function bS(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(mt.clearTimeout(n.A),n.A=null)}function Oo(n){return n.g?n.g.readyState:0}function Kp(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case TI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ll(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function(n){let e="";return Ey(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):rn(n,e,t))}function Yp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function CS(n){this.za=0,this.l=[],this.h=new Oy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yp("baseRetryDelayMs",5e3,n),this.$a=Yp("retryDelaySeedMs",1e4,n),this.Ya=Yp("forwardChannelMaxRetries",2,n),this.ra=Yp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new bI(n&&n.concurrentRequestLimit),this.Ca=new mS,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function cb(n){if(db(n),3==n.G){var e=n.V++,t=Ru(n.F);rn(t,"SID",n.J),rn(t,"RID",e),rn(t,"TYPE","terminate"),zy(n,t),(e=new Mu(n,n.h,e,void 0)).K=2,e.v=qy(Ru(t)),t=!1,mt.navigator&&mt.navigator.sendBeacon&&(t=mt.navigator.sendBeacon(e.v.toString(),"")),!t&&mt.Image&&((new Image).src=e.v,t=!0),t||(e.g=LI(e.l,null),e.g.ea(e.v)),e.F=Date.now(),$p(e)}PI(n)}function ds(n){n.g&&(Qp(n),n.g.cancel(),n.g=null)}function db(n){ds(n),n.u&&(mt.clearTimeout(n.u),n.u=null),Sh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&mt.clearTimeout(n.m),n.m=null)}function MI(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&jc(n)}function jc(n){wI(n.i)||n.m||(n.m=!0,Su(n.Ha,n),n.C=0)}function RI(n,e){var t;t=e?e.m:n.V++;const s=Ru(n.F);rn(s,"SID",n.J),rn(s,"RID",t),rn(s,"AID",n.U),zy(n,s),n.o&&n.s&&Ll(s,n.o,n.s),t=new Mu(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=NI(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),ib(n.i,t),Vy(t,s,e)}function zy(n,e){n.j&&tb({},function(t,s){rn(e,s,t)})}function NI(n,e,t){t=Math.min(n.l.length,t);var s=n.j?kr(n.j.Oa,n.j,n):null;e:{var a=n.l;let d=-1;for(;;){const g=["count="+t];-1==d?0<t?(d=a[0].h,g.push("ofs="+d)):d=0:g.push("ofs="+d);let v=!0;for(let w=0;w<t;w++){let S=a[w].h;const N=a[w].g;if(S-=d,0>S)d=Math.max(0,a[w].h-100),v=!1;else try{II(N,g,"req"+S+"_")}catch(k){s&&s(N)}}if(v){s=g.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,s}function OI(n){n.g||n.u||(n.Y=1,Su(n.Ga,n),n.A=0)}function hb(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Up(kr(n.Ga,n),kI(n,n.A)),n.A++,0))}function Qp(n){null!=n.B&&(mt.clearTimeout(n.B),n.B=null)}function fb(n){n.g=new Mu(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ru(n.oa);rn(e,"RID","rpc"),rn(e,"SID",n.J),rn(e,"CI",n.N?"0":"1"),rn(e,"AID",n.U),zy(n,e),rn(e,"TYPE","xmlhttp"),n.o&&n.s&&Ll(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=qy(Ru(e)),t.s=null,t.U=!0,JE(t,n)}function Sh(n){null!=n.v&&(mt.clearTimeout(n.v),n.v=null)}function pb(n,e){var t=null;if(n.g==e){Sh(n),Qp(n),n.g=null;var s=2}else{if(!rb(n.i,e))return;t=e.D,sb(n.i,e),s=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Pr(s=Vp(),new aI(s,t,e,a)),jc(n)}else OI(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==s&&function(n,e){return!(CI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Up(kr(n.Ha,n,e),kI(n,n.C)),n.C++,0)))}(n,e)||2==s&&hb(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:xh(n,5);break;case 4:xh(n,10);break;case 3:xh(n,6);break;default:xh(n,2)}}function kI(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function xh(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var s=kr(n.jb,n);t||(t=new Vc("//www.google.com/images/cleardot.gif"),mt.location&&"http"==mt.location.protocol||Zy(t,"https"),qy(t)),function(n,e){const t=new Oy;if(mt.Image){const s=new Image;s.onload=xp(Wy,t,s,"TestLoadImage: loaded",!0,e),s.onerror=xp(Wy,t,s,"TestLoadImage: error",!1,e),s.onabort=xp(Wy,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=xp(Wy,t,s,"TestLoadImage: timeout",!1,e),mt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else Ti(2);n.G=0,n.j&&n.j.va(e),PI(n),db(n)}function PI(n){n.G=0,n.I=-1,n.j&&((0!=ob(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Mp(n.l),n.l.length=0),n.j.ua())}function FI(n,e,t){let s=function(n){return n instanceof Vc?Ru(n):new Vc(n,void 0)}(t);if(""!=s.i)e&&Zp(s,e+"."+s.i),Hy(s,s.m);else{const a=mt.location;s=function(n,e,t,s){var a=new Vc(null,void 0);return n&&Zy(a,n),e&&Zp(a,e),t&&Hy(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&Ey(n.aa,function(a,d){rn(s,d,a)}),t=n.sa,(e=n.D)&&t&&rn(s,e,t),rn(s,"VER",n.ma),zy(n,s),s}function LI(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zn(t&&n.Ba&&!n.qa?new Gp({ib:!0}):n.qa)).L=n.H,e}function gb(){}function Jp(){if(Eh&&!(10<=Number(GC)))throw Error("Environmental error: no available transport.")}function qi(n,e){br.call(this),this.g=new CS(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!cs(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cs(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new $c(this)}function VI(n){Fy.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function UI(){Ly.call(this),this.status=1}function $c(n){this.g=n}(Ge=Zn.prototype).ea=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():YE.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:YE),this.g.onreadystatechange=kr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(d){return void lb(this,d)}n=t||"";const a=new Th(this.headers);s&&tb(s,function(d,g){a.set(g,d)}),s=function(n){e:{var e=SI;const t=n.length,s="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=mt.FormData&&n instanceof mt.FormData,!(0<=UC(vS,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(d,g){this.g.setRequestHeader(g,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bS(this),0<this.B&&((this.K=function(n){return Eh&&qC()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kr(this.pa,this)):this.A=Ny(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(d){lb(this,d)}},Ge.pa=function(){void 0!==IE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pr(this,"timeout"),this.abort(8))},Ge.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pr(this,"complete"),Pr(this,"abort"),Nu(this))},Ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nu(this,!0)),Zn.Z.M.call(this)},Ge.Fa=function(){this.s||(this.F||this.v||this.l?xI(this):this.cb())},Ge.cb=function(){xI(this)},Ge.ba=function(){try{return 2<Oo(this)?this.g.status:-1}catch(n){return-1}},Ge.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ge.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_S(e)}},Ge.Da=function(){return this.m},Ge.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ge=CS.prototype).ma=8,Ge.G=1,Ge.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ge.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new Mu(this,this.h,n,void 0);let d=this.s;if(this.P&&(d?(d=jC(d),ZC(d,this.P)):d=this.P),null===this.o&&(a.H=d),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=NI(this,a,e),rn(t=Ru(this.F),"RID",n),rn(t,"CVER",22),this.D&&rn(t,"X-HTTP-Session-Id",this.D),zy(this,t),this.o&&d&&Ll(t,this.o,d),ib(this.i,a),this.Ra&&rn(t,"TYPE","init"),this.ja?(rn(t,"$req",e),rn(t,"SID","null"),a.$=!0,Vy(a,t,null)):Vy(a,t,e),this.G=2}}else 3==this.G&&(n?RI(this,n):0==this.l.length||wI(this.i)||RI(this))},Ge.Ga=function(){if(this.u=null,fb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Up(kr(this.bb,this),n)}},Ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ti(10),ds(this),fb(this))},Ge.ab=function(){null!=this.v&&(this.v=null,ds(this),hb(this),Ti(19))},Ge.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ti(2)):(this.h.info("Failed to ping google.com"),Ti(1))},(Ge=gb.prototype).xa=function(){},Ge.wa=function(){},Ge.va=function(){},Ge.ua=function(){},Ge.Oa=function(){},Jp.prototype.g=function(n,e){return new qi(n,e)},$n(qi,br),qi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Su(kr(n.hb,n,e))),Ti(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=FI(n,null,n.W),jc(n)},qi.prototype.close=function(){cb(this.g)},qi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,MI(this.g,e)}else this.v?((e={}).__data__=My(n),MI(this.g,e)):MI(this.g,n)},qi.prototype.M=function(){this.g.j=null,delete this.j,cb(this.g),delete this.g,qi.Z.M.call(this)},$n(VI,Fy),$n(UI,Ly),$n($c,gb),$c.prototype.xa=function(){Pr(this.g,"a")},$c.prototype.wa=function(n){Pr(this.g,new VI(n))},$c.prototype.va=function(n){Pr(this.g,new UI(n))},$c.prototype.ua=function(){Pr(this.g,"b")},Jp.prototype.createWebChannel=Jp.prototype.g,qi.prototype.send=qi.prototype.u,qi.prototype.open=qi.prototype.m,qi.prototype.close=qi.prototype.close,kl.NO_ERROR=0,kl.TIMEOUT=8,kl.HTTP_ERROR=6,uI.COMPLETE="complete",Bp.EventType=Ch,Ch.OPEN="a",Ch.CLOSE="b",Ch.ERROR="c",Ch.MESSAGE="d",br.prototype.listen=br.prototype.N,Zn.prototype.listenOnce=Zn.prototype.O,Zn.prototype.getLastError=Zn.prototype.La,Zn.prototype.getLastErrorCode=Zn.prototype.Da,Zn.prototype.getStatus=Zn.prototype.ba,Zn.prototype.getResponseJson=Zn.prototype.Qa,Zn.prototype.getResponseText=Zn.prototype.ga,Zn.prototype.send=Zn.prototype.ea;var Ky=wa.createWebChannelTransport=function(){return new Jp},TS=wa.getStatEventTarget=function(){return Vp()},Yy=wa.ErrorCode=kl,Qy=wa.EventType=uI,Jy=wa.Event=xu,Mh=wa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},DS=wa.FetchXmlHttpFactory=Gp,Xy=wa.WebChannel=Bp,QM=wa.XhrIo=Zn;const BI="@firebase/firestore";class Gr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gr.UNAUTHENTICATED=new Gr(null),Gr.GOOGLE_CREDENTIALS=new Gr("google-credentials-uid"),Gr.FIRST_PARTY=new Gr("first-party-uid"),Gr.MOCK_USER=new Gr("mock-user");let Rh="9.6.3";const Vl=new bu.Yd("@firebase/firestore");function mb(){return Vl.logLevel}function Ne(n,...e){if(Vl.logLevel<=bu.in.DEBUG){const t=e.map(jI);Vl.debug(`Firestore (${Rh}): ${n}`,...t)}}function cr(n,...e){if(Vl.logLevel<=bu.in.ERROR){const t=e.map(jI);Vl.error(`Firestore (${Rh}): ${n}`,...t)}}function Xp(n,...e){if(Vl.logLevel<=bu.in.WARN){const t=e.map(jI);Vl.warn(`Firestore (${Rh}): ${n}`,...t)}}function jI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function tt(n="Unexpected state"){const e=`FIRESTORE (${Rh}) INTERNAL ASSERTION FAILED: `+n;throw cr(e),new Error(e)}function st(n,e){n||tt()}function Le(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends St.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class An{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class yb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gr.UNAUTHENTICATED))}shutdown(){}}class JM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class MS{constructor(e){this.t=e,this.currentUser=Gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const d=S=>this.i!==a?(a=this.i,t(S)):Promise.resolve();let g=new An;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new An,e.enqueueRetryable(()=>d(this.currentUser))};const v=()=>{const S=g;e.enqueueRetryable((0,ye.Z)(function*(){yield S.promise,yield d(s.currentUser)}))},w=S=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),v()};this.t.onInit(S=>w(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?w(S):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new An)}},0),v()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st("string"==typeof s.accessToken),new yb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return st(null===e||"string"==typeof e),new Gr(e)}}class e_{constructor(e,t,s){this.type="FirstParty",this.user=Gr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const a=e.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class RS{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new e_(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $I{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZI{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=a=>{e.enqueueRetryable(()=>{return null!=(d=a).error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`),t(d.token);var d})};const s=a=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?s(a):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(st("string"==typeof t.token),new $I(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Di{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.p(s),this.T=s=>t.writeSequenceNumber(s))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function HI(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}Di.I=-1;class _b{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=HI(40);for(let d=0;d<a.length;++d)s.length<20&&a[d]<t&&(s+=e.charAt(a[d]%e.length))}return s}}function Pt(n,e){return n<e?-1:n>e?1:0}function Nh(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}function vb(n){return n+"\0"}class Fr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fr.fromMillis(Date.now())}static fromDate(e){return Fr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Fr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Fr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function eg(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ca(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ou{constructor(e,t,s){void 0===t?t=0:t>e.length&&tt(),void 0===s?s=e.length-t:s>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Ou.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ou?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const d=e.get(a),g=t.get(a);if(d<g)return-1;if(d>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class et extends Ou{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new et(t)}static emptyPath(){return new et([])}}const Ul=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends Ou{construct(e,t,s){return new Hn(e,t,s)}static isValidIdentifier(e){return Ul.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hn(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const d=()=>{if(0===s.length)throw new Ae(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let g=!1;for(;a<e.length;){const v=e[a];if("\\"===v){if(a+1===e.length)throw new Ae(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[a+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Ae(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=w,a+=2}else"`"===v?(g=!g,a++):"."!==v||g?(s+=v,a++):(d(),a++)}if(d(),g)throw new Ae(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(t)}static emptyPath(){return new Hn([])}}class Ia{constructor(e){this.fields=e,e.sort(Hn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nh(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Ke{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ke(t)}static fromUint8Array(e){const t=function(s){let a="";for(let d=0;d<s.length;++d)a+=String.fromCharCode(s[d]);return a}(e);return new Ke(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const Ys=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(n){if(st(!!n),"string"==typeof n){let e=0;const t=Ys.exec(n);if(st(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:hn(n.seconds),nanos:hn(n.nanos)}}function hn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function tg(n){return"string"==typeof n?Ke.fromBase64String(n):Ke.fromUint8Array(n)}function t_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Eb(n){const e=n.mapValue.fields.__previous_value__;return t_(e)?Eb(e):e}function n_(n){const e=Ta(n.mapValue.fields.__local_write_time__.timestampValue);return new Fr(e.seconds,e.nanos)}function Zc(n){return null==n}function r_(n){return 0===n&&1/n==-1/0}function hs(n){return"number"==typeof n&&Number.isInteger(n)&&!r_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ke{constructor(e){this.path=e}static fromPath(e){return new ke(et.fromString(e))}static fromName(e){return new ke(et.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===et.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new et(e.slice()))}}function Wr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?t_(n)?4:10:tt()}function ko(n,e){if(n===e)return!0;const t=Wr(n);if(t!==Wr(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return n_(n).isEqual(n_(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const d=Ta(s.timestampValue),g=Ta(a.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,tg(n.bytesValue).isEqual(tg(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return hn(s.geoPointValue.latitude)===hn(a.geoPointValue.latitude)&&hn(s.geoPointValue.longitude)===hn(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return hn(s.integerValue)===hn(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const d=hn(s.doubleValue),g=hn(a.doubleValue);return d===g?r_(d)===r_(g):isNaN(d)&&isNaN(g)}return!1}(n,e);case 9:return Nh(n.arrayValue.values||[],e.arrayValue.values||[],ko);case 10:return function(s,a){const d=s.mapValue.fields||{},g=a.mapValue.fields||{};if(eg(d)!==eg(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(void 0===g[v]||!ko(d[v],g[v])))return!1;return!0}(n,e);default:return tt()}var a}function ng(n,e){return void 0!==(n.values||[]).find(t=>ko(t,e))}function Hc(n,e){if(n===e)return 0;const t=Wr(n),s=Wr(e);if(t!==s)return Pt(t,s);switch(t){case 0:return 0;case 1:return Pt(n.booleanValue,e.booleanValue);case 2:return function(a,d){const g=hn(a.integerValue||a.doubleValue),v=hn(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(n,e);case 3:return i_(n.timestampValue,e.timestampValue);case 4:return i_(n_(n),n_(e));case 5:return Pt(n.stringValue,e.stringValue);case 6:return function(a,d){const g=tg(a),v=tg(d);return g.compareTo(v)}(n.bytesValue,e.bytesValue);case 7:return function(a,d){const g=a.split("/"),v=d.split("/");for(let w=0;w<g.length&&w<v.length;w++){const S=Pt(g[w],v[w]);if(0!==S)return S}return Pt(g.length,v.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,d){const g=Pt(hn(a.latitude),hn(d.latitude));return 0!==g?g:Pt(hn(a.longitude),hn(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,d){const g=a.values||[],v=d.values||[];for(let w=0;w<g.length&&w<v.length;++w){const S=Hc(g[w],v[w]);if(S)return S}return Pt(g.length,v.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,d){const g=a.fields||{},v=Object.keys(g),w=d.fields||{},S=Object.keys(w);v.sort(),S.sort();for(let N=0;N<v.length&&N<S.length;++N){const k=Pt(v[N],S[N]);if(0!==k)return k;const G=Hc(g[v[N]],w[S[N]]);if(0!==G)return G}return Pt(v.length,S.length)}(n.mapValue,e.mapValue);default:throw tt()}}function i_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pt(n,e);const t=Ta(n),s=Ta(e),a=Pt(t.seconds,s.seconds);return 0!==a?a:Pt(t.nanos,s.nanos)}function Bl(n){return qc(n)}function qc(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const a=Ta(s);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?tg(n.bytesValue).toBase64():"referenceValue"in n?ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let a="[",d=!0;for(const g of s.values||[])d?d=!1:a+=",",a+=qc(g);return a+"]"}(n.arrayValue):"mapValue"in n?function(s){const a=Object.keys(s.fields||{}).sort();let d="{",g=!0;for(const v of a)g?g=!1:d+=",",d+=`${v}:${qc(s.fields[v])}`;return d+"}"}(n.mapValue):tt();var e}function s_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ku(n){return!!n&&"integerValue"in n}function bb(n){return!!n&&"arrayValue"in n}function wb(n){return!!n&&"nullValue"in n}function o_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jl(n){return!!n&&"mapValue"in n}function Gc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ca(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Gc(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gc(n.arrayValue.values[t]);return e}return Object.assign({},n)}class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!jl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(t)}setAll(e){let t=Hn.emptyPath(),s={},a=[];e.forEach((g,v)=>{if(!t.isImmediateParentOf(v)){const w=this.getFieldsMap(t);this.applyChanges(w,s,a),s={},a=[],t=v.popLast()}g?s[v.lastSegment()]=Gc(g):a.push(v.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,s,a)}delete(e){const t=this.field(e.popLast());jl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ko(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];jl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Ca(t,(a,d)=>e[a]=d);for(const a of s)delete e[a]}clone(){return new zr(Gc(this.value))}}function Wc(n){const e=[];return Ca(n.fields,(t,s)=>{const a=new Hn([t]);if(jl(s)){const d=Wc(s.mapValue).fields;if(0===d.length)e.push(a);else for(const g of d)e.push(a.child(g))}else e.push(a)}),new Ia(e)}class Sn{constructor(e,t,s,a,d){this.key=e,this.documentType=t,this.version=s,this.data=a,this.documentState=d}static newInvalidDocument(e){return new Sn(e,0,yt.min(),zr.empty(),0)}static newFoundDocument(e,t,s){return new Sn(e,1,t,s,0)}static newNoDocument(e,t){return new Sn(e,2,t,zr.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,zr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class a_{constructor(e,t=null,s=[],a=[],d=null,g=null,v=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=d,this.startAt=g,this.endAt=v,this.R=null}}function Cb(n,e=null,t=[],s=[],a=null,d=null,g=null){return new a_(n,e,t,s,a,d,g)}function Oh(n){const e=Le(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>function(n){return n.field.canonicalString()+n.op.toString()+Bl(n.value)}(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Zc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Tb(e.startAt)),e.endAt&&(t+="|ub:",t+=Tb(e.endAt)),e.R=t}return e.R}function zc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!hi(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!ko(t.value,s.value))return!1;var t,s;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!WI(n.startAt,e.startAt)&&WI(n.endAt,e.endAt)}function u_(n){return ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Kr extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,s):new eR(e,t,s):"array-contains"===t?new rg(e,s):"in"===t?new PS(e,s):"not-in"===t?new FS(e,s):"array-contains-any"===t?new LS(e,s):new Kr(e,t,s)}static P(e,t,s){return"in"===t?new tR(e,s):new ft(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Hc(t,this.value)):null!==t&&Wr(this.value)===Wr(t)&&this.v(Hc(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class eR extends Kr{constructor(e,t,s){super(e,t,s),this.key=ke.fromName(s.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.v(t)}}class tR extends Kr{constructor(e,t){super(e,"in",t),this.keys=kS(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ft extends Kr{constructor(e,t){super(e,"not-in",t),this.keys=kS(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kS(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>ke.fromName(s.referenceValue))}class rg extends Kr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bb(t)&&ng(t.arrayValue,this.value)}}class PS extends Kr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ng(this.value.arrayValue,t)}}class FS extends Kr{constructor(e,t){super(e,"not-in",t)}matches(e){if(ng(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ng(this.value.arrayValue,t)}}class LS extends Kr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ng(this.value.arrayValue,s))}}class l_{constructor(e,t){this.position=e,this.before=t}}function Tb(n){return`${n.before?"b":"a"}:${n.position.map(e=>Bl(e)).join(",")}`}class kh{constructor(e,t="asc"){this.field=e,this.dir=t}}function hi(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function GI(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const d=e[a],g=n.position[a];if(s=d.field.isKeyField()?ke.comparator(ke.fromName(g.referenceValue),t.key):Hc(g,t.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return n.before?s<=0:s<0}function WI(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ko(n.position[t],e.position[t]))return!1;return!0}class Po{constructor(e,t=null,s=[],a=[],d=null,g="F",v=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=d,this.limitType=g,this.startAt=v,this.endAt=w,this.S=null,this.D=null}}function zI(n,e,t,s,a,d,g,v){return new Po(n,e,t,s,a,d,g,v)}function Ph(n){return new Po(n)}function c_(n){return!Zc(n.limit)&&"F"===n.limitType}function d_(n){return!Zc(n.limit)&&"L"===n.limitType}function Db(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ab(n){for(const e of n.filters)if(e.V())return e.field;return null}function ig(n){return null!==n.collectionGroup}function Fh(n){const e=Le(n);if(null===e.S){e.S=[];const t=Ab(e),s=Db(e);if(null!==t&&null===s)t.isKeyField()||e.S.push(new kh(t)),e.S.push(new kh(Hn.keyField(),"asc"));else{let a=!1;for(const d of e.explicitOrderBy)e.S.push(d),d.field.isKeyField()&&(a=!0);if(!a){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new kh(Hn.keyField(),d))}}}return e.S}function Qs(n){const e=Le(n);if(!e.D)if("F"===e.limitType)e.D=Cb(e.path,e.collectionGroup,Fh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of Fh(e))t.push(new kh(d.field,"desc"===d.dir?"asc":"desc"));const s=e.endAt?new l_(e.endAt.position,!e.endAt.before):null,a=e.startAt?new l_(e.startAt.position,!e.startAt.before):null;e.D=Cb(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.D}function Sb(n,e,t){return new Po(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kc(n,e){return zc(Qs(n),Qs(e))&&n.limitType===e.limitType}function KI(n){return`${Oh(Qs(n))}|lt:${n.limitType}`}function YI(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${Bl(s.value)}`;var s}).join(", ")}]`),Zc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Tb(n.startAt)),n.endAt&&(e+=", endAt: "+Tb(n.endAt)),`Target(${e})`}(Qs(n))}; limitType=${n.limitType})`}function sg(n,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):ke.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!GI(t.startAt,Fh(t),s)||t.endAt&&GI(t.endAt,Fh(t),s)));var t,s}function QI(n){return(e,t)=>{let s=!1;for(const a of Fh(n)){const d=VS(a,e,t);if(0!==d)return d;s=s||a.field.isKeyField()}return 0}}function VS(n,e,t){const s=n.field.isKeyField()?ke.comparator(e.key,t.key):function(a,d,g){const v=d.data.field(a),w=g.data.field(a);return null!==v&&null!==w?Hc(v,w):tt()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return tt()}}function JI(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:r_(e)?"-0":e}}function XI(n){return{integerValue:""+n}}function eT(n,e){return hs(e)?XI(e):JI(n,e)}class $l{constructor(){this._=void 0}}function US(n,e,t){return n instanceof Da?function(s,a){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(d.fields.__previous_value__=a),{mapValue:d}}(t,e):n instanceof Lh?Mb(n,e):n instanceof Yc?tT(n,e):function(s,a){const d=xb(s,a),g=nT(d)+nT(s.N);return ku(d)&&ku(s.N)?XI(g):JI(s.k,g)}(n,e)}function BS(n,e,t){return n instanceof Lh?Mb(n,e):n instanceof Yc?tT(n,e):t}function xb(n,e){return n instanceof Vh?ku(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Da extends $l{}class Lh extends $l{constructor(e){super(),this.elements=e}}function Mb(n,e){const t=rT(e);for(const s of n.elements)t.some(a=>ko(a,s))||t.push(s);return{arrayValue:{values:t}}}class Yc extends $l{constructor(e){super(),this.elements=e}}function tT(n,e){let t=rT(e);for(const s of n.elements)t=t.filter(a=>!ko(a,s));return{arrayValue:{values:t}}}class Vh extends $l{constructor(e,t){super(),this.k=e,this.N=t}}function nT(n){return hn(n.integerValue||n.doubleValue)}function rT(n){return bb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Uh{constructor(e,t){this.field=e,this.transform=t}}class $S{constructor(e,t){this.version=e,this.transformResults=t}}class wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Nb{}function Ob(n,e,t){n instanceof og?function(s,a,d){const g=s.value.clone(),v=h_(s.fieldTransforms,a,d.transformResults);g.setAll(v),a.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(n,e,t):n instanceof Zl?function(s,a,d){if(!Rb(s.precondition,a))return void a.convertToUnknownDocument(d.version);const g=h_(s.fieldTransforms,a,d.transformResults),v=a.data;v.setAll(Pb(s)),v.setAll(g),a.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function kb(n,e,t){var a;n instanceof og?function(s,a,d){if(!Rb(s.precondition,a))return;const g=s.value.clone(),v=oT(s.fieldTransforms,d,a);g.setAll(v),a.convertToFoundDocument(sT(a),g).setHasLocalMutations()}(n,e,t):n instanceof Zl?function(s,a,d){if(!Rb(s.precondition,a))return;const g=oT(s.fieldTransforms,d,a),v=a.data;v.setAll(Pb(s)),v.setAll(g),a.convertToFoundDocument(sT(a),v).setHasLocalMutations()}(n,e,t):Rb(n.precondition,a=e)&&a.convertToNoDocument(yt.min())}function ZS(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),d=xb(s.transform,a||null);null!=d&&(null==t&&(t=zr.empty()),t.set(s.field,d))}return t||null}function iT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&Nh(t,s,(a,d)=>function(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof Lh&&s instanceof Lh||t instanceof Yc&&s instanceof Yc?Nh(t.elements,s.elements,ko):t instanceof Vh&&s instanceof Vh?ko(t.N,s.N):t instanceof Da&&s instanceof Da);var t,s}(a,d))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}function sT(n){return n.isFoundDocument()?n.version:yt.min()}class og extends Nb{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}}class Zl extends Nb{constructor(e,t,s,a,d=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=d,this.type=1}}function Pb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function h_(n,e,t){const s=new Map;st(n.length===t.length);for(let a=0;a<t.length;a++){const d=n[a],g=d.transform,v=e.data.field(d.field);s.set(d.field,BS(g,v,t[a]))}return s}function oT(n,e,t){const s=new Map;for(const a of n){const d=a.transform,g=t.data.field(a.field);s.set(a.field,US(d,g,e))}return s}class Aa extends Nb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Lr extends Nb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class aT{constructor(e){this.count=e}}var Qt,Ft;function uT(n){switch(n){default:return tt();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function Fb(n){if(void 0===n)return cr("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Qt.OK:return ce.OK;case Qt.CANCELLED:return ce.CANCELLED;case Qt.UNKNOWN:return ce.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return ce.INTERNAL;case Qt.UNAVAILABLE:return ce.UNAVAILABLE;case Qt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Qt.NOT_FOUND:return ce.NOT_FOUND;case Qt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Qt.ABORTED:return ce.ABORTED;case Qt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Qt.DATA_LOSS:return ce.DATA_LOSS;default:return tt()}}(Ft=Qt||(Qt={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";class dr{constructor(e,t){this.comparator=e,this.root=t||Yr.EMPTY}insert(e,t){return new dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(e){return new dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ag(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ag(this.root,e,this.comparator,!1)}getReverseIterator(){return new ag(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ag(this.root,e,this.comparator,!0)}}class ag{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?s(e.key,t):1,a&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yr{constructor(e,t,s,a,d){this.key=e,this.value=t,this.color=null!=s?s:Yr.RED,this.left=null!=a?a:Yr.EMPTY,this.right=null!=d?d:Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,d){return new Yr(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const d=s(e,a.key);return a=d<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===d?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Yr.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1,Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(n,e,t,s,a){return this}insert(n,e,t){return new Yr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qn{constructor(e){this.comparator=e,this.data=new dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lT(this.data.getIterator())}getIteratorFrom(e){return new lT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=s.getNext().key;if(0!==this.comparator(a,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qn(this.comparator);return t.data=e,t}}class lT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const cT=new dr(ke.comparator);function Js(){return cT}const nR=new dr(ke.comparator);function Lb(){return nR}const HS=new dr(ke.comparator);function Qc(){return HS}const rR=new qn(ke.comparator);function Jt(...n){let e=rR;for(const t of n)e=e.add(t);return e}const qS=new qn(Pt);function Vb(){return qS}class Bh{constructor(e,t,s,a,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,ug.createSynthesizedTargetChangeForCurrentChange(e,t)),new Bh(yt.min(),s,Vb(),Js(),Jt())}}class ug{constructor(e,t,s,a,d){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ug(Ke.EMPTY_BYTE_STRING,t,Jt(),Jt(),Jt())}}class jh{constructor(e,t,s,a){this.$=e,this.removedTargetIds=t,this.key=s,this.O=a}}class dT{constructor(e,t){this.targetId=e,this.M=t}}class hT{constructor(e,t,s=Ke.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class fT{constructor(){this.F=0,this.L=gT(),this.B=Ke.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Jt(),t=Jt(),s=Jt();return this.L.forEach((a,d)=>{switch(d){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:tt()}}),new ug(this.B,this.U,e,t,s)}H(){this.q=!1,this.L=gT()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class GS{constructor(e){this.et=e,this.nt=new Map,this.st=Js(),this.it=pT(),this.rt=new qn(Pt)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const s=this.ht(t);switch(e.state){case 0:this.lt(t)&&s.W(e.resumeToken);break;case 1:s.Z(),s.K||s.H(),s.W(e.resumeToken);break;case 2:s.Z(),s.K||this.removeTarget(t);break;case 3:this.lt(t)&&(s.tt(),s.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),s.W(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((s,a)=>{this.lt(a)&&t(a)})}dt(e){const t=e.targetId,s=e.M.count,a=this.wt(t);if(a){const d=a.target;if(u_(d))if(0===s){const g=new ke(d.path);this.at(t,g,Sn.newNoDocument(g,yt.min()))}else st(1===s);else this._t(t)!==s&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((d,g)=>{const v=this.wt(g);if(v){if(d.current&&u_(v.target)){const w=new ke(v.target.path);null!==this.st.get(w)||this.yt(g,w)||this.at(g,w,Sn.newNoDocument(w,e))}d.j&&(t.set(g,d.G()),d.H())}});let s=Jt();this.it.forEach((d,g)=>{let v=!0;g.forEachWhile(w=>{const S=this.wt(w);return!S||2===S.purpose||(v=!1,!1)}),v&&(s=s.add(d))});const a=new Bh(e,t,this.rt,this.st,s);return this.st=Js(),this.it=pT(),this.rt=new qn(Pt),a}ct(e,t){if(!this.lt(e))return;const s=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,s),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,s){if(!this.lt(e))return;const a=this.ht(e);this.yt(e,t)?a.J(t,1):a.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),s&&(this.st=this.st.insert(t,s))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new fT,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new qn(Pt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new fT),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function pT(){return new dr(ke.comparator)}function gT(){return new dr(ke.comparator)}const WS={asc:"ASCENDING",desc:"DESCENDING"},zS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class KS{constructor(e,t){this.databaseId=e,this.C=t}}function lg(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $h(n,e){return n.C?e.toBase64():e.toUint8Array()}function mT(n,e){return lg(n,e.toTimestamp())}function Cr(n){return st(!!n),yt.fromTimestamp(function(e){const t=Ta(e);return new Fr(t.seconds,t.nanos)}(n))}function f_(n,e){return(t=n,new et(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ub(n){const e=et.fromString(n);return st($b(e)),e}function Zh(n,e){return f_(n.databaseId,e.path)}function Sa(n,e){const t=Ub(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ke(_T(t))}function Bb(n,e){return f_(n.databaseId,e)}function yT(n){const e=Ub(n);return 4===e.length?et.emptyPath():_T(e)}function cg(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _T(n){return st(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function vT(n,e,t){return{name:Zh(n,e),fields:t.value.mapValue.fields}}function ET(n,e,t){const s=Sa(n,e.name),a=Cr(e.updateTime),d=new zr({mapValue:{fields:e.fields}}),g=Sn.newFoundDocument(s,a,d);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function p_(n,e){let t;if(e instanceof og)t={update:vT(n,e.key,e.value)};else if(e instanceof Aa)t={delete:Zh(n,e.key)};else if(e instanceof Zl)t={update:vT(n,e.key,e.data),updateMask:ex(e.fieldMask)};else{if(!(e instanceof Lr))return tt();t={verify:Zh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,d){const g=d.transform;if(g instanceof Da)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Lh)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Yc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Vh)return{fieldPath:d.field.canonicalString(),increment:g.N};throw tt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:mT(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:tt()),t;var a}function g_(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?wr.updateTime(Cr(a.updateTime)):void 0!==a.exists?wr.exists(a.exists):wr.none():wr.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(d,g){let v=null;"setToServerValue"in g?(st("REQUEST_TIME"===g.setToServerValue),v=new Da):"appendMissingElements"in g?v=new Lh(g.appendMissingElements.values||[]):"removeAllFromArray"in g?v=new Yc(g.removeAllFromArray.values||[]):"increment"in g?v=new Vh(d,g.increment):tt();const w=Hn.fromServerFormat(g.fieldPath);return new Uh(w,v)}(n,a)):[];var a;if(e.update){const a=Sa(n,e.update.name),d=new zr({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new Ia((e.updateMask.fieldPaths||[]).map(S=>Hn.fromServerFormat(S)));return new Zl(a,d,g,t,s)}return new og(a,d,t,s)}if(e.delete){const a=Sa(n,e.delete);return new Aa(a,t)}if(e.verify){const a=Sa(n,e.verify);return new Lr(a,t)}return tt()}function bT(n,e){return{documents:[Bb(n,e.path)]}}function fg(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Bb(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Bb(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(v){if(0===v.length)return;const w=v.map(S=>function(N){if("=="===N.op){if(o_(N.value))return{unaryFilter:{field:Hl(N.field),op:"IS_NAN"}};if(wb(N.value))return{unaryFilter:{field:Hl(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(o_(N.value))return{unaryFilter:{field:Hl(N.field),op:"IS_NOT_NAN"}};if(wb(N.value))return{unaryFilter:{field:Hl(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(N.field),op:jb(N.op),value:N.value}}}(S));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);a&&(t.structuredQuery.where=a);const d=function(v){if(0!==v.length)return v.map(w=>{return{field:Hl((S=w).field),direction:CT(S.dir)};var S})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const g=(w=e.limit,n.C||Zc(w)?w:{value:w});var w;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt=m_(e.startAt)),e.endAt&&(t.structuredQuery.endAt=m_(e.endAt)),t}function wT(n){let e=yT(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){st(1===s);const N=t.from[0];N.allDescendants?a=N.collectionId:e=e.child(N.collectionId)}let d=[];t.where&&(d=QS(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(N=>{return new kh(Hh((k=N).field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let v=null;t.limit&&(v=function(N){let k;return k="object"==typeof N?N.value:N,Zc(k)?null:k}(t.limit));let w=null;t.startAt&&(w=y_(t.startAt));let S=null;return t.endAt&&(S=y_(t.endAt)),zI(e,a,g,d,v,"F",w,S)}function QS(n){return n?void 0!==n.unaryFilter?[XS(n)]:void 0!==n.fieldFilter?[JS(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>QS(e)).reduce((e,t)=>e.concat(t)):tt():[]}function m_(n){return{before:n.before,values:n.position}}function y_(n){return new l_(n.values||[],!!n.before)}function CT(n){return WS[n]}function jb(n){return zS[n]}function Hl(n){return{fieldPath:n.canonicalString()}}function Hh(n){return Hn.fromServerFormat(n.fieldPath)}function JS(n){return Kr.create(Hh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(n.fieldFilter.op),n.fieldFilter.value)}function XS(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Hh(n.unaryFilter.field);return Kr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Hh(n.unaryFilter.field);return Kr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Hh(n.unaryFilter.field);return Kr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Hh(n.unaryFilter.field);return Kr.create(a,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}function ex(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $b(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function fs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=TT(e)),e=IT(n.get(t),e);return TT(e)}function IT(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const d=n.charAt(a);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function TT(n){return n+"\x01\x01"}function Ma(n){const e=n.length;if(st(e>=2),2===e)return st("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),et.emptyPath();const t=e-2,s=[];let a="";for(let d=0;d<e;){const g=n.indexOf("\x01",d);switch((g<0||g>t)&&tt(),n.charAt(g+1)){case"\x01":const v=n.substring(d,g);let w;0===a.length?w=v:(a+=v,w=a,a=""),s.push(w);break;case"\x10":a+=n.substring(d,g),a+="\0";break;case"\x11":a+=n.substring(d,g+1);break;default:tt()}d=g+2}return new et(s)}class DT{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class ps{constructor(e,t,s){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=s}}ps.store="owner",ps.key="owner";class Pu{constructor(e,t,s){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=s}}Pu.store="mutationQueues",Pu.keyPath="userId";class fn{constructor(e,t,s,a,d){this.userId=e,this.batchId=t,this.localWriteTimeMs=s,this.baseMutations=a,this.mutations=d}}fn.store="mutations",fn.keyPath="batchId",fn.userMutationsIndex="userMutationsIndex",fn.userMutationsKeyPath=["userId","batchId"];class fi{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,fs(t)]}static key(e,t,s){return[e,fs(t),s]}}fi.store="documentMutations",fi.PLACEHOLDER=new fi;class AT{constructor(e,t){this.path=e,this.readTime=t}}class tx{constructor(e,t){this.path=e,this.version=t}}class er{constructor(e,t,s,a,d,g){this.unknownDocument=e,this.noDocument=t,this.document=s,this.hasCommittedMutations=a,this.readTime=d,this.parentPath=g}}er.store="remoteDocuments",er.readTimeIndex="readTimeIndex",er.readTimeIndexPath="readTime",er.collectionReadTimeIndex="collectionReadTimeIndex",er.collectionReadTimeIndexPath=["parentPath","readTime"];class xn{constructor(e){this.byteSize=e}}xn.store="remoteDocumentGlobal",xn.key="remoteDocumentGlobalKey";class Ir{constructor(e,t,s,a,d,g,v){this.targetId=e,this.canonicalId=t,this.readTime=s,this.resumeToken=a,this.lastListenSequenceNumber=d,this.lastLimboFreeSnapshotVersion=g,this.query=v}}Ir.store="targets",Ir.keyPath="targetId",Ir.queryTargetsIndexName="queryTargetsIndex",Ir.queryTargetsKeyPath=["canonicalId","targetId"];class Qr{constructor(e,t,s){this.targetId=e,this.path=t,this.sequenceNumber=s}}Qr.store="targetDocuments",Qr.keyPath=["targetId","path"],Qr.documentTargetsIndex="documentTargetsIndex",Qr.documentTargetsKeyPath=["path","targetId"];class gs{constructor(e,t,s,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=s,this.targetCount=a}}gs.key="targetGlobalKey",gs.store="targetGlobal";class qh{constructor(e,t){this.collectionId=e,this.parent=t}}qh.store="collectionParents",qh.keyPath=["collectionId","parent"];class ms{constructor(e,t,s,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=s,this.inForeground=a}}ms.store="clientMetadata",ms.keyPath="clientId";class Gh{constructor(e,t,s){this.bundleId=e,this.createTime=t,this.version=s}}Gh.store="bundles",Gh.keyPath="bundleId";class ql{constructor(e,t,s){this.name=e,this.readTime=t,this.bundledQuery=s}}ql.store="namedQueries",ql.keyPath="name";const nx=[Pu.store,fn.store,fi.store,er.store,Ir.store,ps.store,gs.store,Qr.store,ms.store,xn.store,qh.store,Gh.store,ql.store],Zb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ST{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Se((s,a)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,a)},this.catchCallback=d=>{this.wrapFailure(t,d).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Se?t:Se.resolve(t)}catch(t){return Se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.reject(t)}static resolve(e){return new Se((t,s)=>{t(e)})}static reject(e){return new Se((t,s)=>{s(e)})}static waitFor(e){return new Se((t,s)=>{let a=0,d=0,g=!1;e.forEach(v=>{++a,v.next(()=>{++d,g&&d===a&&t()},w=>s(w))}),g=!0,d===a&&t()})}static or(e){let t=Se.resolve(!1);for(const s of e)t=t.next(a=>a?Se.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,d)=>{s.push(t.call(this,a,d))}),this.waitFor(s)}}class Wh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new An,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Gl(e,t.error)):this.It.resolve()},this.transaction.onerror=s=>{const a=__(s.target.error);this.It.reject(new Gl(e,a))}}static open(e,t,s,a){try{return new Wh(t,e.transaction(a,s))}catch(d){throw new Gl(t,d)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new iR(t)}}class Xs{constructor(e,t,s){this.name=e,this.version=t,this.Rt=s,12.2===Xs.bt((0,St.z$)())&&cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ne("SimpleDb","Removing database:",e),Wl(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,St.hl)())return!1;if(Xs.vt())return!0;const e=(0,St.z$)(),t=Xs.bt(e),s=0<t&&t<10,a=Xs.Vt(e),d=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Ct(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=g=>{s(g.target.result)},d.onblocked=()=>{a(new Gl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const v=g.target.error;a("VersionError"===v.name?new Ae(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===v.name?new Ae(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+v):new Gl(e,v))},d.onupgradeneeded=g=>{Ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',g.oldVersion),t.Rt.Nt(g.target.result,d.transaction,g.oldVersion,t.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=s=>t.kt(s)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var d=this;return(0,ye.Z)(function*(){const g="readonly"===t;let v=0;for(;;){++v;try{d.db=yield d.Ct(e);const w=Wh.open(d.db,e,g?"readonly":"readwrite",s),S=a(w).catch(N=>(w.abort(N),Se.reject(N))).toPromise();return S.catch(()=>{}),yield w.At,S}catch(w){const S="FirebaseError"!==w.name&&v<3;if(Ne("SimpleDb","Transaction failed with error:",w.message,"Retrying:",S),d.close(),!S)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xT{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return Wl(this.$t.delete())}}class Gl extends Ae{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Fu(n){return"IndexedDbTransactionError"===n.name}class iR{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Ne("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Wl(s)}add(e){return Ne("SimpleDb","ADD",this.store.name,e,e),Wl(this.store.add(e))}get(e){return Wl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ne("SimpleDb","DELETE",this.store.name,e),Wl(this.store.delete(e))}count(){return Ne("SimpleDb","COUNT",this.store.name),Wl(this.store.count())}Bt(e,t){const s=this.cursor(this.options(e,t)),a=[];return this.Ut(s,(d,g)=>{a.push(g)}).next(()=>a)}qt(e,t){Ne("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Kt=!1;const a=this.cursor(s);return this.Ut(a,(d,g,v)=>v.delete())}jt(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.Ut(a,t)}Qt(e){const t=this.cursor({});return new Se((s,a)=>{t.onerror=d=>{const g=__(d.target.error);a(g)},t.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(v=>{v?g.continue():s()}):s()}})}Ut(e,t){const s=[];return new Se((a,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const v=g.target.result;if(!v)return void a();const w=new xT(v),S=t(v.primaryKey,v.value,w);if(S instanceof Se){const N=S.catch(k=>(w.done(),Se.reject(k)));s.push(N)}w.isDone?a():null===w.Ft?v.continue():v.continue(w.Ft)}}).next(()=>Se.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Kt?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wl(n){return new Se((e,t)=>{n.onsuccess=s=>{e(s.target.result)},n.onerror=s=>{const a=__(s.target.error);t(a)}})}let MT=!1;function __(n){const e=Xs.bt((0,St.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return MT||(MT=!0,setTimeout(()=>{throw s},0)),s}}return n}class pg extends ST{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Ai(n,e){const t=Le(n);return Xs.Dt(t.Wt,e)}class Hb{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const d=this.mutations[a];d.key.isEqual(e.key)&&Ob(d,e,s[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&kb(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&kb(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const s=e.get(t.key),a=s;this.applyToLocalView(a),s.isValidDocument()||a.convertToNoDocument(yt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jt())}isEqual(e){return this.batchId===e.batchId&&Nh(this.mutations,e.mutations,(t,s)=>iT(t,s))&&Nh(this.baseMutations,e.baseMutations,(t,s)=>iT(t,s))}}class gg{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){st(e.mutations.length===s.length);let a=Qc();const d=e.mutations;for(let g=0;g<d.length;g++)a=a.insert(d[g].key,s[g].version);return new gg(e,t,s,a)}}class Ra{constructor(e,t,s,a,d=yt.min(),g=yt.min(),v=Ke.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=v}withSequenceNumber(e){return new Ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class RT{constructor(e){this.Gt=e}}function qb(n,e){if(e.document)return ET(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=ke.fromSegments(e.noDocument.path),s=Jc(e.noDocument.readTime),a=Sn.newNoDocument(t,s);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=ke.fromSegments(e.unknownDocument.path),s=Jc(e.unknownDocument.version);return Sn.newUnknownDocument(t,s)}return tt()}function Gb(n,e,t){const s=v_(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const d={name:Zh(v=n.Gt,(w=e).key),fields:w.data.value.mapValue.fields,updateTime:lg(v,w.version.toTimestamp())};return new er(null,null,d,e.hasCommittedMutations,s,a)}var v,w;if(e.isNoDocument()){const d=e.key.path.toArray(),g=zh(e.version),v=e.hasCommittedMutations;return new er(null,new AT(d,g),null,v,s,a)}if(e.isUnknownDocument()){const d=e.key.path.toArray(),g=zh(e.version);return new er(new tx(d,g),null,null,!0,s,a)}return tt()}function v_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Wb(n){const e=new Fr(n[0],n[1]);return yt.fromTimestamp(e)}function zh(n){const e=n.toTimestamp();return new DT(e.seconds,e.nanoseconds)}function Jc(n){const e=new Fr(n.seconds,n.nanoseconds);return yt.fromTimestamp(e)}function Xc(n,e){const t=(e.baseMutations||[]).map(d=>g_(n.Gt,d));for(let d=0;d<e.mutations.length-1;++d){const g=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(g.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const s=e.mutations.map(d=>g_(n.Gt,d)),a=Fr.fromMillis(e.localWriteTimeMs);return new Hb(e.batchId,a,t,s)}function mg(n){const e=Jc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Jc(n.lastLimboFreeSnapshotVersion):yt.min();let s;var a;return void 0!==n.query.documents?(st(1===(a=n.query).documents.length),s=Qs(Ph(yT(a.documents[0])))):s=Qs(wT(n.query)),new Ra(s,n.targetId,0,n.lastListenSequenceNumber,e,t,Ke.fromBase64String(n.resumeToken))}function NT(n,e){const t=zh(e.snapshotVersion),s=zh(e.lastLimboFreeSnapshotVersion);let a;a=u_(e.target)?bT(n.Gt,e.target):fg(n.Gt,e.target);const d=e.resumeToken.toBase64();return new Ir(e.targetId,Oh(e.target),t,d,e.sequenceNumber,s,a)}function E_(n){const e=wT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Sb(e,e.limit,"L"):e}class rx{getBundleMetadata(e,t){return zb(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Jc(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return zb(e).put({bundleId:(s=t).id,createTime:zh(Cr(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Kb(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:E_(a.bundledQuery),readTime:Jc(a.readTime)};var a})}saveNamedQuery(e,t){return Kb(e).put({name:(s=t).name,readTime:zh(Cr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function zb(n){return Ai(n,Gh.store)}function Kb(n){return Ai(n,ql.store)}class OT{constructor(){this.zt=new b_}addToCollectionParentIndex(e,t){return this.zt.add(t),Se.resolve()}getCollectionParents(e,t){return Se.resolve(this.zt.getEntries(t))}}class b_{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new qn(et.comparator),d=!a.has(s);return this.index[t]=a.add(s),d}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new qn(et.comparator)).toArray()}}class ix{constructor(){this.Ht=new b_}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const d={collectionId:s,parent:fs(a)};return kT(e).put(d)}return Se.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[vb(t),""],!1,!0);return kT(e).Bt(a).next(d=>{for(const g of d){if(g.collectionId!==t)break;s.push(Ma(g.parent))}return s})}}function kT(n){return Ai(n,qh.store)}const PT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Si{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Si(e,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sx(n,e,t){const s=n.store(fn.store),a=n.store(fi.store),d=[],g=IDBKeyRange.only(t.batchId);let v=0;const w=s.jt({range:g},(N,k,G)=>(v++,G.delete()));d.push(w.next(()=>{st(1===v)}));const S=[];for(const N of t.mutations){const k=fi.key(e,N.key.path,t.batchId);d.push(a.delete(k)),S.push(N.key)}return Se.waitFor(d).next(()=>S)}function Yb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw tt();e=n.noDocument}return JSON.stringify(e).length}Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(41943040,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);class FT{constructor(e,t,s,a){this.userId=e,this.k=t,this.Jt=s,this.referenceDelegate=a,this.Yt={}}static Xt(e,t,s,a){st(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new FT(d,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ed(e).jt({index:fn.userMutationsIndex,range:s},(a,d,g)=>{t=!1,g.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const d=yg(e),g=ed(e);return g.add({}).next(v=>{st("number"==typeof v);const w=new Hb(v,t,s,a),S=function(G,ee,_e){const Fe=_e.baseMutations.map(qt=>p_(G.Gt,qt)),Ye=_e.mutations.map(qt=>p_(G.Gt,qt));return new fn(ee,_e.batchId,_e.localWriteTime.toMillis(),Fe,Ye)}(this.k,this.userId,w),N=[];let k=new qn((G,ee)=>Pt(G.canonicalString(),ee.canonicalString()));for(const G of a){const ee=fi.key(this.userId,G.key.path,v);k=k.add(G.key.path.popLast()),N.push(g.put(S)),N.push(d.put(ee,fi.PLACEHOLDER))}return k.forEach(G=>{N.push(this.Jt.addToCollectionParentIndex(e,G))}),e.addOnCommittedListener(()=>{this.Yt[v]=w.keys()}),Se.waitFor(N).next(()=>w)})}lookupMutationBatch(e,t){return ed(e).get(t).next(s=>s?(st(s.userId===this.userId),Xc(this.k,s)):null)}Zt(e,t){return this.Yt[t]?Se.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Yt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return ed(e).jt({index:fn.userMutationsIndex,range:a},(g,v,w)=>{v.userId===this.userId&&(st(v.batchId>=s),d=Xc(this.k,v)),w.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ed(e).jt({index:fn.userMutationsIndex,range:t,reverse:!0},(a,d,g)=>{s=d.batchId,g.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ed(e).Bt(fn.userMutationsIndex,t).next(s=>s.map(a=>Xc(this.k,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=fi.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(s),d=[];return yg(e).jt({range:a},(g,v,w)=>{const[S,N,k]=g,G=Ma(N);if(S===this.userId&&t.path.isEqual(G))return ed(e).get(k).next(ee=>{if(!ee)throw tt();st(ee.userId===this.userId),d.push(Xc(this.k,ee))});w.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qn(Pt);const a=[];return t.forEach(d=>{const g=fi.prefixForPath(this.userId,d.path),v=IDBKeyRange.lowerBound(g),w=yg(e).jt({range:v},(S,N,k)=>{const[G,ee,_e]=S,Fe=Ma(ee);G===this.userId&&d.path.isEqual(Fe)?s=s.add(_e):k.done()});a.push(w)}),Se.waitFor(a).next(()=>this.te(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,d=fi.prefixForPath(this.userId,s),g=IDBKeyRange.lowerBound(d);let v=new qn(Pt);return yg(e).jt({range:g},(w,S,N)=>{const[k,G,ee]=w,_e=Ma(G);k===this.userId&&s.isPrefixOf(_e)?_e.length===a&&(v=v.add(ee)):N.done()}).next(()=>this.te(e,v))}te(e,t){const s=[],a=[];return t.forEach(d=>{a.push(ed(e).get(d).next(g=>{if(null===g)throw tt();st(g.userId===this.userId),s.push(Xc(this.k,g))}))}),Se.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return sx(e.Wt,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Se.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Se.resolve();const s=IDBKeyRange.lowerBound(fi.prefixForUser(this.userId)),a=[];return yg(e).jt({range:s},(d,g,v)=>{if(d[0]===this.userId){const w=Ma(d[1]);a.push(w)}else v.done()}).next(()=>{st(0===a.length)})})}containsKey(e,t){return ox(e,this.userId,t)}ne(e){return ax(e).get(this.userId).next(t=>t||new Pu(this.userId,-1,""))}}function ox(n,e,t){const s=fi.prefixForPath(e,t.path),a=s[1],d=IDBKeyRange.lowerBound(s);let g=!1;return yg(n).jt({range:d,Kt:!0},(v,w,S)=>{const[N,k,G]=v;N===e&&k===a&&(g=!0),S.done()}).next(()=>g)}function ed(n){return Ai(n,fn.store)}function yg(n){return Ai(n,fi.store)}function ax(n){return Ai(n,Pu.store)}class Kh{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Kh(0)}static re(){return new Kh(-1)}}class sR{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const s=new Kh(t.highestTargetId);return t.highestTargetId=s.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>yt.fromTimestamp(new Fr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.oe(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.ce(e,a)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(s=>(s.targetCount+=1,this.ue(t,s),this.ce(e,s))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>_g(e).delete(t.targetId)).next(()=>this.oe(e)).next(s=>(st(s.targetCount>0),s.targetCount-=1,this.ce(e,s)))}removeTargets(e,t,s){let a=0;const d=[];return _g(e).jt((g,v)=>{const w=mg(v);w.sequenceNumber<=t&&null===s.get(w.targetId)&&(a++,d.push(this.removeTargetData(e,w)))}).next(()=>Se.waitFor(d)).next(()=>a)}forEachTarget(e,t){return _g(e).jt((s,a)=>{const d=mg(a);t(d)})}oe(e){return ux(e).get(gs.key).next(t=>(st(null!==t),t))}ce(e,t){return ux(e).put(gs.key,t)}ae(e,t){return _g(e).put(NT(this.k,t))}ue(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Oh(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return _g(e).jt({range:a,index:Ir.queryTargetsIndexName},(g,v,w)=>{const S=mg(v);zc(t,S.target)&&(d=S,w.done())}).next(()=>d)}addMatchingKeys(e,t,s){const a=[],d=td(e);return t.forEach(g=>{const v=fs(g.path);a.push(d.put(new Qr(s,v))),a.push(this.referenceDelegate.addReference(e,s,g))}),Se.waitFor(a)}removeMatchingKeys(e,t,s){const a=td(e);return Se.forEach(t,d=>{const g=fs(d.path);return Se.waitFor([a.delete([s,g]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,t){const s=td(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=td(e);let d=Jt();return a.jt({range:s,Kt:!0},(g,v,w)=>{const S=Ma(g[1]),N=new ke(S);d=d.add(N)}).next(()=>d)}containsKey(e,t){const s=fs(t.path),a=IDBKeyRange.bound([s],[vb(s)],!1,!0);let d=0;return td(e).jt({index:Qr.documentTargetsIndex,Kt:!0,range:a},([g,v],w,S)=>{0!==g&&(d++,S.done())}).next(()=>d>0)}Et(e,t){return _g(e).get(t).next(s=>s?mg(s):null)}}function _g(n){return Ai(n,Ir.store)}function ux(n){return Ai(n,gs.store)}function td(n){return Ai(n,Qr.store)}function Yh(n){return LT.apply(this,arguments)}function LT(){return(LT=(0,ye.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==Zb)throw n;Ne("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function lx([n,e],[t,s]){const a=Pt(n,t);return 0===a?Pt(e,s):a}class oR{constructor(e){this.he=e,this.buffer=new qn(lx),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();lx(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aR{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const s=this.we?3e5:6e4;Ne("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,ye.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){Fu(a)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Yh(a)}yield t.me(e)}))}}class cx{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Se.resolve(Di.I);const s=new oR(t);return this.ge.forEachTarget(e,a=>s.de(a.sequenceNumber)).next(()=>this.ge.pe(e,a=>s.de(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.ge.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(PT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PT):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let s,a,d,g,v,w,S;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),a=this.params.maximumSequenceNumbersToCollect):a=k,g=Date.now(),this.nthSequenceNumber(e,a))).next(k=>(s=k,v=Date.now(),this.removeTargets(e,s,t))).next(k=>(d=k,w=Date.now(),this.removeOrphanedDocuments(e,s))).next(k=>(S=Date.now(),mb()<=bu.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-N}ms\n\tDetermined least recently used ${a} in `+(v-g)+`ms\n\tRemoved ${d} targets in `+(w-v)+`ms\n\tRemoved ${k} documents in `+(S-w)+`ms\nTotal Duration: ${S-N}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:d,documentsRemoved:k})))}}class dx{constructor(e,t){this.db=e,this.garbageCollector=new cx(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Ee(e){let t=0;return this.pe(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(s,a)=>t(a))}addReference(e,t,s){return w_(e,s)}removeReference(e,t,s){return w_(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return w_(e,t)}Ae(e,t){return function(s,a){let d=!1;return ax(s).Qt(g=>ox(s,g,a).next(v=>(v&&(d=!0),Se.resolve(!v)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let d=0;return this.Ie(e,(g,v)=>{if(v<=t){const w=this.Ae(e,g).next(S=>{if(!S)return d++,s.getEntry(e,g).next(()=>(s.removeEntry(g),td(e).delete([0,fs(g.path)])))});a.push(w)}}).next(()=>Se.waitFor(a)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return w_(e,t)}Ie(e,t){const s=td(e);let a,d=Di.I;return s.jt({index:Qr.documentTargetsIndex},([g,v],{path:w,sequenceNumber:S})=>{0===g?(d!==Di.I&&t(new ke(Ma(a)),d),d=S,a=w):d=Di.I}).next(()=>{d!==Di.I&&t(new ke(Ma(a)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function w_(n,e){return td(n).put((s=n.currentSequenceNumber,new Qr(0,fs(e.path),s)));var s}class vg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,d]of s)if(this.equalsFn(a,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0!==a){for(let d=0;d<a.length;d++)if(this.equalsFn(a[d][0],e))return void(a[d]=[e,t]);a.push([e,t])}else this.inner[s]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),!0;return!1}forEach(e){Ca(this.inner,(t,s)=>{for(const[a,d]of s)e(a,d)})}isEmpty(){return OS(this.inner)}}class hx{constructor(){this.changes=new vg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:yt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Sn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Se.resolve(s.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uR{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,s){return zl(e).put(Qb(t),s)}removeEntry(e,t){const s=zl(e),a=Qb(t);return s.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Re(e,s)))}getEntry(e,t){return zl(e).get(Qb(t)).next(s=>this.be(t,s))}Pe(e,t){return zl(e).get(Qb(t)).next(s=>({document:this.be(t,s),size:Yb(s)}))}getEntries(e,t){let s=Js();return this.ve(e,t,(a,d)=>{const g=this.be(a,d);s=s.insert(a,g)}).next(()=>s)}Ve(e,t){let s=Js(),a=new dr(ke.comparator);return this.ve(e,t,(d,g)=>{const v=this.be(d,g);s=s.insert(d,v),a=a.insert(d,Yb(g))}).next(()=>({documents:s,Se:a}))}ve(e,t,s){if(t.isEmpty())return Se.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),d=t.getIterator();let g=d.getNext();return zl(e).jt({range:a},(v,w,S)=>{const N=ke.fromSegments(v);for(;g&&ke.comparator(g,N)<0;)s(g,null),g=d.getNext();g&&g.isEqual(N)&&(s(g,w),g=d.hasNext()?d.getNext():null),g?S.Lt(g.path.toArray()):S.done()}).next(()=>{for(;g;)s(g,null),g=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,s){let a=Js();const d=t.path.length+1,g={};if(s.isEqual(yt.min())){const v=t.path.toArray();g.range=IDBKeyRange.lowerBound(v)}else{const v=t.path.toArray(),w=v_(s);g.range=IDBKeyRange.lowerBound([v,w],!0),g.index=er.collectionReadTimeIndex}return zl(e).jt(g,(v,w,S)=>{if(v.length!==d)return;const N=qb(this.k,w);t.path.isPrefixOf(N.key.path)?sg(t,N)&&(a=a.insert(N.key,N)):S.done()}).next(()=>a)}newChangeBuffer(e){return new fx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return VT(e).get(xn.key).next(t=>(st(!!t),t))}Re(e,t){return VT(e).put(xn.key,t)}be(e,t){if(t){const s=qb(this.k,t);if(!s.isNoDocument()||!s.version.isEqual(yt.min()))return s}return Sn.newInvalidDocument(e)}}class fx extends hx{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new vg(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new qn((d,g)=>Pt(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const v=this.Ce.get(d);if(g.document.isValidDocument()){const w=Gb(this.De.k,g.document,this.getReadTime(d));a=a.add(d.path.popLast()),s+=Yb(w)-v,t.push(this.De.addEntry(e,d,w))}else if(s-=v,this.trackRemovals){const w=Gb(this.De.k,Sn.newNoDocument(d,yt.min()),this.getReadTime(d));t.push(this.De.addEntry(e,d,w))}else t.push(this.De.removeEntry(e,d))}),a.forEach(d=>{t.push(this.De.Jt.addToCollectionParentIndex(e,d))}),t.push(this.De.updateMetadata(e,s)),Se.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(s=>(this.Ce.set(t,s.size),s.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:s,Se:a})=>(a.forEach((d,g)=>{this.Ce.set(d,g)}),s))}}function VT(n){return Ai(n,xn.store)}function zl(n){return Ai(n,er.store)}function Qb(n){return n.path.toArray()}class lR{constructor(e){this.k=e}Nt(e,t,s,a){st(s<a&&s>=0&&a<=11);const d=new Wh("createOrUpgrade",t);var v;s<1&&a>=1&&(e.createObjectStore(ps.store),(v=e).createObjectStore(Pu.store,{keyPath:Pu.keyPath}),v.createObjectStore(fn.store,{keyPath:fn.keyPath,autoIncrement:!0}).createIndex(fn.userMutationsIndex,fn.userMutationsKeyPath,{unique:!0}),v.createObjectStore(fi.store),px(e),function(v){v.createObjectStore(er.store)}(e));let g=Se.resolve();return s<3&&a>=3&&(0!==s&&(function(v){v.deleteObjectStore(Qr.store),v.deleteObjectStore(Ir.store),v.deleteObjectStore(gs.store)}(e),px(e)),g=g.next(()=>function(v){const w=v.store(gs.store),S=new gs(0,0,yt.min().toTimestamp(),0);return w.put(gs.key,S)}(d))),s<4&&a>=4&&(0!==s&&(g=g.next(()=>function(v,w){return w.store(fn.store).Bt().next(S=>{v.deleteObjectStore(fn.store),v.createObjectStore(fn.store,{keyPath:fn.keyPath,autoIncrement:!0}).createIndex(fn.userMutationsIndex,fn.userMutationsKeyPath,{unique:!0});const N=w.store(fn.store),k=S.map(G=>N.put(G));return Se.waitFor(k)})}(e,d))),g=g.next(()=>{!function(v){v.createObjectStore(ms.store,{keyPath:ms.keyPath})}(e)})),s<5&&a>=5&&(g=g.next(()=>this.Ne(d))),s<6&&a>=6&&(g=g.next(()=>(function(v){v.createObjectStore(xn.store)}(e),this.ke(d)))),s<7&&a>=7&&(g=g.next(()=>this.xe(d))),s<8&&a>=8&&(g=g.next(()=>this.$e(e,d))),s<9&&a>=9&&(g=g.next(()=>{(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(e),function(v){const w=v.objectStore(er.store);w.createIndex(er.readTimeIndex,er.readTimeIndexPath,{unique:!1}),w.createIndex(er.collectionReadTimeIndex,er.collectionReadTimeIndexPath,{unique:!1})}(t)})),s<10&&a>=10&&(g=g.next(()=>this.Oe(d))),s<11&&a>=11&&(g=g.next(()=>{(function(v){v.createObjectStore(Gh.store,{keyPath:Gh.keyPath})})(e),function(v){v.createObjectStore(ql.store,{keyPath:ql.keyPath})}(e)})),g}ke(e){let t=0;return e.store(er.store).jt((s,a)=>{t+=Yb(a)}).next(()=>{const s=new xn(t);return e.store(xn.store).put(xn.key,s)})}Ne(e){const t=e.store(Pu.store),s=e.store(fn.store);return t.Bt().next(a=>Se.forEach(a,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.Bt(fn.userMutationsIndex,g).next(v=>Se.forEach(v,w=>{st(w.userId===d.userId);const S=Xc(this.k,w);return sx(e,d.userId,S).next(()=>{})}))}))}xe(e){const t=e.store(Qr.store),s=e.store(er.store);return e.store(gs.store).get(gs.key).next(a=>{const d=[];return s.jt((g,v)=>{const w=new et(g),S=[0,fs(w)];d.push(t.get(S).next(N=>N?Se.resolve():t.put(new Qr(0,fs(w),a.highestListenSequenceNumber))))}).next(()=>Se.waitFor(d))})}$e(e,t){e.createObjectStore(qh.store,{keyPath:qh.keyPath});const s=t.store(qh.store),a=new b_,d=g=>{if(a.add(g)){const v=g.lastSegment(),w=g.popLast();return s.put({collectionId:v,parent:fs(w)})}};return t.store(er.store).jt({Kt:!0},(g,v)=>{const w=new et(g);return d(w.popLast())}).next(()=>t.store(fi.store).jt({Kt:!0},([g,v,w],S)=>{const N=Ma(v);return d(N.popLast())}))}Oe(e){const t=e.store(Ir.store);return t.jt((s,a)=>{const d=mg(a),g=NT(this.k,d);return t.put(g)})}}function px(n){n.createObjectStore(Qr.store,{keyPath:Qr.keyPath}).createIndex(Qr.documentTargetsIndex,Qr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Ir.store,{keyPath:Ir.keyPath}).createIndex(Ir.queryTargetsIndexName,Ir.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(gs.store)}const UT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Jb{constructor(e,t,s,a,d,g,v,w,S,N){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Me=d,this.window=g,this.document=v,this.Fe=S,this.Le=N,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=k=>Promise.resolve(),!Jb.Pt())throw new Ae(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dx(this,a),this.Ge=t+"main",this.k=new RT(w),this.ze=new Xs(this.Ge,11,new lR(this.k)),this.He=new sR(this.referenceDelegate,this.k),this.Jt=new ix,this.Je=new uR(this.k,this.Jt),this.Ye=new rx,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===N&&cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(ce.FAILED_PRECONDITION,UT);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Di(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var s=(0,ye.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,ye.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>I_(e).put(new ms(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(Fu(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return C_(e).get(ps.key).next(t=>Se.resolve(this.un(t)))}hn(e){return I_(e).delete(this.clientId)}ln(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Ai(s,ms.store);return a.Bt().next(d=>{const g=e.dn(d,18e5),v=d.filter(w=>-1===g.indexOf(w));return Se.forEach(v,w=>a.delete(w.clientId)).next(()=>v)})}).catch(()=>[]);if(e.Xe)for(const s of t)e.Xe.removeItem(e.wn(s.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Se.resolve(!0):C_(e).get(ps.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Ae(ce.FAILED_PRECONDITION,UT);return!1}}return!(!this.networkEnabled||!this.inForeground)||I_(e).Bt().next(s=>void 0===this.dn(s,5e3).find(a=>{if(this.clientId!==a.clientId){const g=!this.inForeground&&a.inForeground,v=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||g&&v)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[ps.store,ms.store],t=>{const s=new pg(t,Di.I);return e.cn(s).next(()=>e.hn(s))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(s=>this.fn(s.updateTimeMs,t)&&!this._n(s.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>I_(e).Bt().next(t=>this.dn(t,18e5).map(s=>s.clientId)))}get started(){return this.Ue}getMutationQueue(e){return FT.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,s){let d;return Ne("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",nx,g=>(d=new pg(g,this.Be?this.Be.next():Di.I),"readwrite-primary"===t?this.rn(d).next(v=>!!v||this.on(d)).next(v=>{if(!v)throw cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Ae(ce.FAILED_PRECONDITION,Zb);return s(d)}).next(v=>this.an(d).next(()=>v)):this.En(d).next(()=>s(d)))).then(g=>(d.raiseOnCommittedEvent(),g))}En(e){return C_(e).get(ps.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(ce.FAILED_PRECONDITION,UT)})}an(e){const t=new ps(this.clientId,this.allowTabSynchronization,Date.now());return C_(e).put(ps.key,t)}static Pt(){return Xs.Pt()}cn(e){const t=C_(e);return t.get(ps.key).next(s=>this.un(s)?(Ne("IndexedDbPersistence","Releasing primary lease."),t.delete(ps.key)):Se.resolve())}fn(e,t){const s=Date.now();return!(e<s-t||e>s&&(cr(`Detected an update time that is in the future: ${e} > ${s}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,St.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const s=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Ne("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return cr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){cr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function C_(n){return Ai(n,ps.store)}function I_(n){return Ai(n,ms.store)}function Eg(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Qh{constructor(e,t){this.progress=e,this.In=t}}class Xb{constructor(e,t,s){this.Je=e,this.An=t,this.Jt=s}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(s=>this.bn(e,t,s))}bn(e,t,s){return this.Je.getEntry(e,t).next(a=>{for(const d of s)d.applyToLocalView(a);return a})}Pn(e,t){e.forEach((s,a)=>{for(const d of t)d.applyToLocalView(a)})}vn(e,t){return this.Je.getEntries(e,t).next(s=>this.Vn(e,s).next(()=>s))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>this.Pn(t,s))}getDocumentsMatchingQuery(e,t,s){return ke.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Sn(e,t.path):ig(t)?this.Dn(e,t,s):this.Cn(e,t,s);var a}Sn(e,t){return this.Rn(e,new ke(t)).next(s=>{let a=Lb();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}Dn(e,t,s){const a=t.collectionGroup;let d=Lb();return this.Jt.getCollectionParents(e,a).next(g=>Se.forEach(g,v=>{const w=(S=t,N=v.child(a),new Po(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,N;return this.Cn(e,w,s).next(S=>{S.forEach((N,k)=>{d=d.insert(N,k)})})}).next(()=>d))}Cn(e,t,s){let a,d;return this.Je.getDocumentsMatchingQuery(e,t,s).next(g=>(a=g,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(g=>(d=g,this.Nn(e,d,a).next(v=>{a=v;for(const w of d)for(const S of w.mutations){const N=S.key;let k=a.get(N);null==k&&(k=Sn.newInvalidDocument(N),a=a.insert(N,k)),kb(S,k,w.localWriteTime),k.isFoundDocument()||(a=a.remove(N))}}))).next(()=>(a.forEach((g,v)=>{sg(t,v)||(a=a.remove(g))}),a))}Nn(e,t,s){let a=Jt();for(const g of t)for(const v of g.mutations)v instanceof Zl&&null===s.get(v.key)&&(a=a.add(v.key));let d=s;return this.Je.getEntries(e,a).next(g=>(g.forEach((v,w)=>{w.isFoundDocument()&&(d=d.insert(v,w))}),d))}}class e0{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.kn=s,this.xn=a}static $n(e,t){let s=Jt(),a=Jt();for(const d of t.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:a=a.add(d.doc.key)}return new e0(e,t.fromCache,s,a)}}class BT{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,s,a){return 0===(d=t).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||s.isEqual(yt.min())?this.Fn(e,t):this.Mn.vn(e,a).next(d=>{const g=this.Ln(t,d);return(c_(t)||d_(t))&&this.Bn(t.limitType,g,a,s)?this.Fn(e,t):(mb()<=bu.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),YI(t)),this.Mn.getDocumentsMatchingQuery(e,t,s).next(v=>(g.forEach(w=>{v=v.insert(w.key,w)}),v)))});var d}Ln(e,t){let s=new qn(QI(e));return t.forEach((a,d)=>{sg(e,d)&&(s=s.add(d))}),s}Bn(e,t,s,a){if(s.size!==t.size)return!0;const d="F"===e?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(a)>0)}Fn(e,t){return mb()<=bu.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",YI(t)),this.Mn.getDocumentsMatchingQuery(e,t,yt.min())}}class t0{constructor(e,t,s,a){this.persistence=e,this.Un=t,this.k=a,this.qn=new dr(Pt),this.Kn=new vg(d=>Oh(d),zc),this.jn=yt.min(),this.An=e.getMutationQueue(s),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Xb(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function n0(n,e,t,s){return new t0(n,e,t,s)}function r0(n,e){return T_.apply(this,arguments)}function T_(){return(T_=(0,ye.Z)(function*(n,e){const t=Le(n);let s=t.An,a=t.Wn;const d=yield t.persistence.runTransaction("Handle user change","readonly",g=>{let v;return t.An.getAllMutationBatches(g).next(w=>(v=w,s=t.persistence.getMutationQueue(e),a=new Xb(t.Qn,s,t.persistence.getIndexManager()),s.getAllMutationBatches(g))).next(w=>{const S=[],N=[];let k=Jt();for(const G of v){S.push(G.batchId);for(const ee of G.mutations)k=k.add(ee.key)}for(const G of w){N.push(G.batchId);for(const ee of G.mutations)k=k.add(ee.key)}return a.vn(g,k).next(G=>({Gn:G,removedBatchIds:S,addedBatchIds:N}))})});return t.An=s,t.Wn=a,t.Un.On(t.Wn),d})).apply(this,arguments)}function cR(n,e){const t=Le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),d=t.Qn.newChangeBuffer({trackRemovals:!0});return function(g,v,w,S){const N=w.batch,k=N.keys();let G=Se.resolve();return k.forEach(ee=>{G=G.next(()=>S.getEntry(v,ee)).next(_e=>{const Fe=w.docVersions.get(ee);st(null!==Fe),_e.version.compareTo(Fe)<0&&(N.applyToRemoteDocument(_e,w),_e.isValidDocument()&&S.addEntry(_e,w.commitVersion))})}),G.next(()=>g.An.removeMutationBatch(v,N))}(t,s,e,d).next(()=>d.apply(s)).next(()=>t.An.performConsistencyCheck(s)).next(()=>t.Wn.vn(s,a))})}function s0(n){const e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function D_(n,e){const t=Le(n),s=e.snapshotVersion;let a=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=t.Qn.newChangeBuffer({trackRemovals:!0});a=t.qn;const v=[];e.targetChanges.forEach((S,N)=>{const k=a.get(N);if(!k)return;v.push(t.He.removeMatchingKeys(d,S.removedDocuments,N).next(()=>t.He.addMatchingKeys(d,S.addedDocuments,N)));let G=k.withSequenceNumber(d.currentSequenceNumber);var ee,_e,Fe;e.targetMismatches.has(N)?G=G.withResumeToken(Ke.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,s)),a=a.insert(N,G),_e=G,Fe=S,(0===(ee=k).resumeToken.approximateByteSize()||_e.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||Fe.addedDocuments.size+Fe.modifiedDocuments.size+Fe.removedDocuments.size>0)&&v.push(t.He.updateTargetData(d,G))});let w=Js();if(e.documentUpdates.forEach((S,N)=>{e.resolvedLimboDocuments.has(S)&&v.push(t.persistence.referenceDelegate.updateLimboDocument(d,S))}),v.push(o0(d,g,e.documentUpdates,s,void 0).next(S=>{w=S})),!s.isEqual(yt.min())){const S=t.He.getLastRemoteSnapshotVersion(d).next(N=>t.He.setTargetsMetadata(d,d.currentSequenceNumber,s));v.push(S)}return Se.waitFor(v).next(()=>g.apply(d)).next(()=>t.Wn.Vn(d,w)).next(()=>w)}).then(d=>(t.qn=a,d))}function o0(n,e,t,s,a){let d=Jt();return t.forEach(g=>d=d.add(g)),e.getEntries(n,d).next(g=>{let v=Js();return t.forEach((w,S)=>{const N=g.get(w),k=(null==a?void 0:a.get(w))||s;S.isNoDocument()&&S.version.isEqual(yt.min())?(e.removeEntry(w,k),v=v.insert(w,S)):!N.isValidDocument()||S.version.compareTo(N.version)>0||0===S.version.compareTo(N.version)&&N.hasPendingWrites?(e.addEntry(S,k),v=v.insert(w,S)):Ne("LocalStore","Ignoring outdated watch update for ",w,". Current version:",N.version," Watch version:",S.version)}),v})}function dR(n,e){const t=Le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(s,e)))}function bg(n,e){const t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.He.getTargetData(s,e).next(d=>d?(a=d,Se.resolve(a)):t.He.allocateTargetId(s).next(g=>(a=new Ra(e,g,0,s.currentSequenceNumber),t.He.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.qn.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.qn=t.qn.insert(s.targetId,s),t.Kn.set(e,s.targetId)),s})}function wg(n,e,t){return a0.apply(this,arguments)}function a0(){return(a0=(0,ye.Z)(function*(n,e,t){const s=Le(n),a=s.qn.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",d,g=>s.persistence.referenceDelegate.removeTarget(g,a)))}catch(g){if(!Fu(g))throw g;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}s.qn=s.qn.remove(e),s.Kn.delete(a.target)})).apply(this,arguments)}function u0(n,e,t){const s=Le(n);let a=yt.min(),d=Jt();return s.persistence.runTransaction("Execute query","readonly",g=>function(v,w,S){const N=Le(v),k=N.Kn.get(S);return void 0!==k?Se.resolve(N.qn.get(k)):N.He.getTargetData(w,S)}(s,g,Qs(e)).next(v=>{if(v)return a=v.lastLimboFreeSnapshotVersion,s.He.getMatchingKeysForTargetId(g,v.targetId).next(w=>{d=w})}).next(()=>s.Un.getDocumentsMatchingQuery(g,e,t?a:yt.min(),t?d:Jt())).next(v=>({documents:v,zn:d})))}function Cg(n,e){const t=Le(n),s=Le(t.He),a=t.qn.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",d=>s.Et(d,e).next(g=>g?g.target:null))}function jT(n){const e=Le(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(s,a,d){const g=Le(s);let v=Js(),w=v_(d);const S=zl(a),N=IDBKeyRange.lowerBound(w,!0);return S.jt({index:er.readTimeIndex,range:N},(k,G)=>{const ee=qb(g.k,G);v=v.insert(ee.key,ee),w=G.readTime}).next(()=>({In:v,readTime:Wb(w)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:s})=>(e.jn=s,t))}function $T(){return($T=(0,ye.Z)(function*(n){const e=Le(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(s){const a=zl(s);let d=yt.min();return a.jt({index:er.readTimeIndex,reverse:!0},(g,v,w)=>{v.readTime&&(d=Wb(v.readTime)),w.done()}).next(()=>d)}(t)).then(t=>{e.jn=t})})).apply(this,arguments)}function c0(){return(c0=(0,ye.Z)(function*(n,e,t,s){const a=Le(n);let d=Jt(),g=Js(),v=Qc();for(const N of t){const k=e.Hn(N.metadata.name);N.document&&(d=d.add(k)),g=g.insert(k,e.Jn(N)),v=v.insert(k,e.Yn(N.metadata.readTime))}const w=a.Qn.newChangeBuffer({trackRemovals:!0}),S=yield bg(a,(N=s,Qs(Ph(et.fromString(`__bundle__/docs/${N}`)))));var N;return a.persistence.runTransaction("Apply bundle documents","readwrite",N=>o0(N,w,g,yt.min(),v).next(k=>(w.apply(N),k)).next(k=>a.He.removeMatchingKeysForTargetId(N,S.targetId).next(()=>a.He.addMatchingKeys(N,d,S.targetId)).next(()=>a.Wn.Vn(N,k)).next(()=>k)))})).apply(this,arguments)}function fR(n,e){return ZT.apply(this,arguments)}function ZT(){return(ZT=(0,ye.Z)(function*(n,e,t=Jt()){const s=yield bg(n,Qs(E_(e.bundledQuery))),a=Le(n);return a.persistence.runTransaction("Save named query","readwrite",d=>{const g=Cr(e.readTime);if(s.snapshotVersion.compareTo(g)>=0)return a.Ye.saveNamedQuery(d,e);const v=s.withResumeToken(Ke.EMPTY_BYTE_STRING,g);return a.qn=a.qn.insert(v.targetId,v),a.He.updateTargetData(d,v).next(()=>a.He.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>a.He.addMatchingKeys(d,t,s.targetId)).next(()=>a.Ye.saveNamedQuery(d,e))})})).apply(this,arguments)}class gx{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Se.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var s;return this.Xn.set(t.id,{id:(s=t).id,version:s.version,createTime:Cr(s.createTime)}),Se.resolve()}getNamedQuery(e,t){return Se.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(s=t).name,query:E_(s.bundledQuery),readTime:Cr(s.readTime)}),Se.resolve();var s}}class HT{constructor(){this.ts=new qn(Tr.es),this.ns=new qn(Tr.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const s=new Tr(e,t);this.ts=this.ts.add(s),this.ns=this.ns.add(s)}rs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.os(new Tr(e,t))}cs(e,t){e.forEach(s=>this.removeReference(s,t))}us(e){const t=new ke(new et([])),s=new Tr(t,e),a=new Tr(t,e+1),d=[];return this.ns.forEachInRange([s,a],g=>{this.os(g),d.push(g.key)}),d}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new ke(new et([])),s=new Tr(t,e),a=new Tr(t,e+1);let d=Jt();return this.ns.forEachInRange([s,a],g=>{d=d.add(g.key)}),d}containsKey(e){const t=new Tr(e,0),s=this.ts.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Tr{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return ke.comparator(e.key,t.key)||Pt(e.fs,t.fs)}static ss(e,t){return Pt(e.fs,t.fs)||ke.comparator(e.key,t.key)}}class mx{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new qn(Tr.es)}checkEmpty(e){return Se.resolve(0===this.An.length)}addMutationBatch(e,t,s,a){const d=this.ds;this.ds++;const g=new Hb(d,t,s,a);this.An.push(g);for(const v of a)this.ws=this.ws.add(new Tr(v.key,d)),this.Jt.addToCollectionParentIndex(e,v.key.path.popLast());return Se.resolve(g)}lookupMutationBatch(e,t){return Se.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.gs(t+1),d=a<0?0:a;return Se.resolve(this.An.length>d?this.An[d]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Se.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Tr(t,0),a=new Tr(t,Number.POSITIVE_INFINITY),d=[];return this.ws.forEachInRange([s,a],g=>{const v=this._s(g.fs);d.push(v)}),Se.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qn(Pt);return t.forEach(a=>{const d=new Tr(a,0),g=new Tr(a,Number.POSITIVE_INFINITY);this.ws.forEachInRange([d,g],v=>{s=s.add(v.fs)})}),Se.resolve(this.ys(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let d=s;ke.isDocumentKey(d)||(d=d.child(""));const g=new Tr(new ke(d),0);let v=new qn(Pt);return this.ws.forEachWhile(w=>{const S=w.key.path;return!!s.isPrefixOf(S)&&(S.length===a&&(v=v.add(w.fs)),!0)},g),Se.resolve(this.ys(v))}ys(e){const t=[];return e.forEach(s=>{const a=this._s(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){st(0===this.ps(t.batchId,"removed")),this.An.shift();let s=this.ws;return Se.forEach(t.mutations,a=>{const d=new Tr(a.key,t.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ws=s})}ee(e){}containsKey(e,t){const s=new Tr(t,0),a=this.ws.firstAfterOrEqual(s);return Se.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Se.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class pR{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new dr(ke.comparator),this.size=0}addEntry(e,t,s){const a=t.key,d=this.docs.get(a),g=d?d.size:0,v=this.Ts(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:v,readTime:s}),this.size+=v-g,this.Jt.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Se.resolve(s?s.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let s=Js();return t.forEach(a=>{const d=this.docs.get(a);s=s.insert(a,d?d.document.mutableCopy():Sn.newInvalidDocument(a))}),Se.resolve(s)}getDocumentsMatchingQuery(e,t,s){let a=Js();const d=new ke(t.path.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:v,value:{document:w,readTime:S}}=g.getNext();if(!t.path.isPrefixOf(v.path))break;S.compareTo(s)<=0||sg(t,w)&&(a=a.insert(w.key,w.mutableCopy()))}return Se.resolve(a)}Es(e,t){return Se.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new gR(this)}getSize(e){return Se.resolve(this.size)}}class gR extends hx{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.document.isValidDocument()?t.push(this.De.addEntry(e,a.document,this.getReadTime(s))):this.De.removeEntry(s)}),Se.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class yx{constructor(e){this.persistence=e,this.Is=new vg(t=>Oh(t),zc),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.As=0,this.Rs=new HT,this.targetCount=0,this.bs=Kh.ie()}forEachTarget(e,t){return this.Is.forEach((s,a)=>t(a)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.As&&(this.As=t),Se.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Kh(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Se.resolve()}updateTargetData(e,t){return this.ae(t),Se.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,t,s){let a=0;const d=[];return this.Is.forEach((g,v)=>{v.sequenceNumber<=t&&null===s.get(v.targetId)&&(this.Is.delete(g),d.push(this.removeMatchingKeysForTargetId(e,v.targetId)),a++)}),Se.waitFor(d).next(()=>a)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,t){const s=this.Is.get(t)||null;return Se.resolve(s)}addMatchingKeys(e,t,s){return this.Rs.rs(t,s),Se.resolve()}removeMatchingKeys(e,t,s){this.Rs.cs(t,s);const a=this.persistence.referenceDelegate,d=[];return a&&t.forEach(g=>{d.push(a.markPotentiallyOrphaned(e,g))}),Se.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Se.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Rs.ls(t);return Se.resolve(s)}containsKey(e,t){return Se.resolve(this.Rs.containsKey(t))}}class Ig{constructor(e,t){this.Ps={},this.Be=new Di(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new yx(this),this.Jt=new OT,this.Je=new pR(this.Jt,s=>this.referenceDelegate.vs(s)),this.k=new RT(t),this.Ye=new gx(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new mx(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,s){Ne("MemoryPersistence","Starting transaction:",e);const a=new _x(this.Be.next());return this.referenceDelegate.Vs(),s(a).next(d=>this.referenceDelegate.Ss(a).next(()=>d)).toPromise().then(d=>(a.raiseOnCommittedEvent(),d))}Ds(e,t){return Se.or(Object.values(this.Ps).map(s=>()=>s.containsKey(e,t)))}}class _x extends ST{constructor(e){super(),this.currentSequenceNumber=e}}class d0{constructor(e){this.persistence=e,this.Cs=new HT,this.Ns=null}static ks(e){return new d0(e)}get xs(){if(this.Ns)return this.Ns;throw tt()}addReference(e,t,s){return this.Cs.addReference(s,t),this.xs.delete(s.toString()),Se.resolve()}removeReference(e,t,s){return this.Cs.removeReference(s,t),this.xs.add(s.toString()),Se.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Se.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(a=>this.xs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(d=>this.xs.add(d.toString()))}).next(()=>s.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.xs,s=>{const a=ke.fromPath(s);return this.$s(e,a).next(d=>{d||t.removeEntry(a)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(s=>{s?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Se.or([()=>Se.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function qT(n,e){return`firestore_clients_${n}_${e}`}function A_(n,e,t){let s=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function h0(n,e){return`firestore_targets_${n}_${e}`}class pi{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static Os(e,t,s){const a=JSON.parse(s);let d,g="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return g&&a.error&&(g="string"==typeof a.error.message&&"string"==typeof a.error.code,g&&(d=new Ae(a.error.code,a.error.message))),g?new pi(e,t,a.state,d):(cr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Tg{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Os(e,t){const s=JSON.parse(t);let a,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(a=new Ae(s.error.code,s.error.message))),d?new Tg(e,s.state,a):(cr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,d=Vb();for(let g=0;a&&g<s.activeTargetIds.length;++g)a=hs(s.activeTargetIds[g]),d=d.add(s.activeTargetIds[g]);return a?new Jh(e,d):(cr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class f0{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new f0(t.clientId,t.onlineState):(cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class p0{constructor(){this.activeTargetIds=Vb()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dg{constructor(e,t,s,a,d){this.window=e,this.Me=t,this.persistenceKey=s,this.Bs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new dr(Pt),this.started=!1,this.js=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.Qs=qT(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new p0),this.Gs=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(v){return`firestore_bundle_loaded_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.Tn();for(const a of t){if(a===e.Bs)continue;const d=e.getItem(qT(e.persistenceKey,a));if(d){const g=Jh.Os(a,d);g&&(e.Ks=e.Ks.insert(g.clientId,g))}}e.Xs();const s=e.storage.getItem(e.Js);if(s){const a=e.Zs(s);a&&e.ti(a)}for(const a of e.js)e.qs(a);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,s){this.ni(e,t,s),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(h0(this.persistenceKey,e));if(s){const a=Tg.Os(e,s);a&&(t=a.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(h0(this.persistenceKey,e))}updateQueryState(e,t,s){this.ri(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.si(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne("SharedClientState","READ",e,t),t}setItem(e,t){Ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Ne("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Qs)return void cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==s.key)if(t.Gs.test(s.key)){if(null==s.newValue){const a=t.ai(s.key);return t.ui(a,null)}{const a=t.hi(s.key,s.newValue);if(a)return t.ui(a.clientId,a)}}else if(t.zs.test(s.key)){if(null!==s.newValue){const a=t.li(s.key,s.newValue);if(a)return t.fi(a)}}else if(t.Hs.test(s.key)){if(null!==s.newValue){const a=t.di(s.key,s.newValue);if(a)return t.wi(a)}}else if(s.key===t.Js){if(null!==s.newValue){const a=t.Zs(s.newValue);if(a)return t.ti(a)}}else if(s.key===t.Ws){const a=function(d){let g=Di.I;if(null!=d)try{const v=JSON.parse(d);st("number"==typeof v),g=v}catch(v){cr("SharedClientState","Failed to read sequence number from WebStorage",v)}return g}(s.newValue);a!==Di.I&&t.sequenceNumberHandler(a)}else if(s.key===t.Ys)return t.syncEngine._i()}else t.js.push(s)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,s){const a=new pi(this.currentUser,e,t,s),d=A_(this.persistenceKey,this.currentUser,e);this.setItem(d,a.Ms())}si(e){const t=A_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,s){const a=h0(this.persistenceKey,e),d=new Tg(e,t,s);this.setItem(a,d.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const s=this.ai(e);return Jh.Os(s,t)}li(e,t){const s=this.zs.exec(e),a=Number(s[1]);return pi.Os(new Gr(void 0!==s[2]?s[2]:null),a,t)}di(e,t){const s=this.Hs.exec(e),a=Number(s[1]);return Tg.Os(a,t)}Zs(e){return f0.Os(e)}fi(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const s=t?this.Ks.insert(e,t):this.Ks.remove(e),a=this.ei(this.Ks),d=this.ei(s),g=[],v=[];return d.forEach(w=>{a.has(w)||g.push(w)}),a.forEach(w=>{d.has(w)||v.push(w)}),this.syncEngine.yi(g,v).then(()=>{this.Ks=s})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=Vb();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class g0{constructor(){this.pi=new p0,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,s){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new p0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class GT{Ei(e){}shutdown(){}}class WT{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const zT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class KT{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class vx extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,s,a,d){const g=this.Ui(e,t);Ne("RestConnection","Sending: ",g,s);const v={};return this.qi(v,a,d),this.Ki(e,g,v,s).then(w=>(Ne("RestConnection","Received: ",w),w),w=>{throw Xp("RestConnection",`${e} failed with error: `,w,"url: ",g,"request:",s),w})}ji(e,t,s,a,d){return this.Bi(e,t,s,a,d)}qi(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,d)=>e[d]=a),s&&s.headers.forEach((a,d)=>e[d]=a)}Ui(e,t){return`${this.Fi}/v1/${t}:${zT[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,s,a){return new Promise((d,g)=>{const v=new QM;v.listenOnce(Qy.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Yy.NO_ERROR:const S=v.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(S)),d(S);break;case Yy.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),g(new Ae(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Yy.HTTP_ERROR:const N=v.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',N,"response text:",v.getResponseText()),N>0){const k=v.getResponseJson().error;if(k&&k.status&&k.message){const G=function(ee){const _e=ee.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(_e)>=0?_e:ce.UNKNOWN}(k.status);g(new Ae(G,k.message))}else g(new Ae(ce.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new Ae(ce.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(a);v.send(t,"POST",w,s,15)})}Qi(e,t,s){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ky(),g=TS(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(v.xmlHttpFactory=new DS({})),this.qi(v.initMessageHeaders,t,s),(0,St.uI)()||(0,St.b$)()||(0,St.d)()||(0,St.w1)()||(0,St.Mn)()||(0,St.ru)()||(v.httpHeadersOverwriteParam="$httpHeaders");const w=a.join("");Ne("Connection","Creating WebChannel: "+w,v);const S=d.createWebChannel(w,v);let N=!1,k=!1;const G=new KT({Vi:_e=>{k?Ne("Connection","Not sending because WebChannel is closed:",_e):(N||(Ne("Connection","Opening WebChannel transport."),S.open(),N=!0),Ne("Connection","WebChannel sending:",_e),S.send(_e))},Si:()=>S.close()}),ee=(_e,Fe,Ye)=>{_e.listen(Fe,qt=>{try{Ye(qt)}catch(Zt){setTimeout(()=>{throw Zt},0)}})};return ee(S,Xy.EventType.OPEN,()=>{k||Ne("Connection","WebChannel transport opened.")}),ee(S,Xy.EventType.CLOSE,()=>{k||(k=!0,Ne("Connection","WebChannel transport closed"),G.Oi())}),ee(S,Xy.EventType.ERROR,_e=>{k||(k=!0,Xp("Connection","WebChannel transport errored:",_e),G.Oi(new Ae(ce.UNAVAILABLE,"The operation could not be completed")))}),ee(S,Xy.EventType.MESSAGE,_e=>{var Fe;if(!k){const Ye=_e.data[0];st(!!Ye);const qt=Ye,Zt=qt.error||(null===(Fe=qt[0])||void 0===Fe?void 0:Fe.error);if(Zt){Ne("Connection","WebChannel received error:",Zt);const Ln=Zt.status;let Bt=function(Uu){const OD=Qt[Uu];if(void 0!==OD)return Fb(OD)}(Ln),tr=Zt.message;void 0===Bt&&(Bt=ce.INTERNAL,tr="Unknown error status: "+Ln+" with message "+Zt.message),k=!0,G.Oi(new Ae(Bt,tr)),S.close()}else Ne("Connection","WebChannel received:",Ye),G.Mi(Ye)}}),ee(g,Jy.STAT_EVENT,_e=>{_e.stat===Mh.PROXY?Ne("Connection","Detected buffering proxy"):_e.stat===Mh.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{G.$i()},0),G}}function YT(){return"undefined"!=typeof window?window:null}function Xh(){return"undefined"!=typeof document?document:null}function ef(n){return new KS(n,!0)}class S_{constructor(e,t,s=1e3,a=1.5,d=6e4){this.Me=e,this.timerId=t,this.Wi=s,this.Gi=a,this.zi=d,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),s=Math.max(0,Date.now()-this.Yi),a=Math.max(0,t-s);a>0&&Ne("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,a,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class x_{constructor(e,t,s,a,d,g,v,w){this.Me=e,this.nr=s,this.sr=a,this.ir=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=v,this.listener=w,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new S_(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,ye.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,ye.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var s=this;return(0,ye.Z)(function*(){s.yr(),s.pr(),s.ur.cancel(),s.rr++,4!==e?s.ur.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),s.ur.Xi()):t&&t.code===ce.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Tr(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.rr===t&&this.Ir(s,a)},s=>{e(()=>{const a=new Ae(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Ar(a)})})}Ir(e,t){const s=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{s(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(a=>{s(()=>this.Ar(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}dr(){var e=this;this.state=5,this.ur.Zi((0,ye.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ex extends x_{constructor(e,t,s,a,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,g),this.k=d}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:tt(),a=e.targetChange.targetIds||[],d=function(w,S){return w.C?(st(void 0===S||"string"==typeof S),Ke.fromBase64String(S||"")):(st(void 0===S||S instanceof Uint8Array),Ke.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),g=e.targetChange.cause,v=g&&function(w){const S=void 0===w.code?ce.UNKNOWN:Fb(w.code);return new Ae(S,w.message||"")}(g);t=new hT(s,a,d,v||null)}else if("documentChange"in e){const s=e.documentChange,a=Sa(n,s.document.name),d=Cr(s.document.updateTime),g=new zr({mapValue:{fields:s.document.fields}}),v=Sn.newFoundDocument(a,d,g);t=new jh(s.targetIds||[],s.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const s=e.documentDelete,a=Sa(n,s.document),d=s.readTime?Cr(s.readTime):yt.min(),g=Sn.newNoDocument(a,d);t=new jh([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const s=e.documentRemove,a=Sa(n,s.document);t=new jh([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return tt();{const s=e.filter,d=new aT(s.count||0);t=new dT(s.targetId,d)}}var w;return t}(this.k,e),s=function(a){if(!("targetChange"in a))return yt.min();const d=a.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Cr(d.readTime):yt.min()}(e);return this.listener.br(t,s)}Pr(e){const t={};t.database=cg(this.k),t.addTarget=function(a,d){let g;const v=d.target;return g=u_(v)?{documents:bT(a,v)}:{query:fg(a,v)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=$h(a,d.resumeToken):d.snapshotVersion.compareTo(yt.min())>0&&(g.readTime=lg(a,d.snapshotVersion.toTimestamp())),g}(this.k,e);const s=function(n,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.gr(t)}vr(e){const t={};t.database=cg(this.k),t.removeTarget=e,this.gr(t)}}class Fo extends x_{constructor(e,t,s,a,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,g),this.k=d,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(st(void 0!==e),n.map(t=>function(s,a){let d=Cr(s.updateTime?s.updateTime:a);return d.isEqual(yt.min())&&(d=Cr(a)),new $S(d,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Cr(e.commitTime);return this.listener.Cr(s,t)}return st(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=cg(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>p_(this.k,s))};this.gr(t)}}class bx extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=s,this.k=a,this.$r=!1}Or(){if(this.$r)throw new Ae(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,s){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.ir.Bi(e,t,s,a,d)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ae(ce.UNKNOWN,a.toString())})}ji(e,t,s){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.ir.ji(e,t,s,a,d)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ae(ce.UNKNOWN,a.toString())})}terminate(){this.$r=!0}}class mR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(cr(t),this.Lr=!1):Ne("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class wx{constructor(e,t,s,a,d){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=d,this.Hr.Ei(v=>{s.enqueueAndForget((0,ye.Z)(function*(){var w;Kl(g)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,ye.Z)(function*(S){const N=Le(S);N.Gr.add(4),yield tf(N),N.Jr.set("Unknown"),N.Gr.delete(4),yield M_(N)}),function(S){return w.apply(this,arguments)})(g))}))}),this.Jr=new mR(s,a)}}function M_(n){return m0.apply(this,arguments)}function m0(){return(m0=(0,ye.Z)(function*(n){if(Kl(n))for(const e of n.zr)yield e(!0)})).apply(this,arguments)}function tf(n){return y0.apply(this,arguments)}function y0(){return(y0=(0,ye.Z)(function*(n){for(const e of n.zr)yield e(!1)})).apply(this,arguments)}function _0(n,e){const t=Le(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),N_(t)?v0(t):xg(t).lr()&&R_(t,e))}function Ag(n,e){const t=Le(n),s=xg(t);t.Wr.delete(e),s.lr()&&QT(t,e),0===t.Wr.size&&(s.lr()?s._r():Kl(t)&&t.Jr.set("Unknown"))}function R_(n,e){n.Yr.X(e.targetId),xg(n).Pr(e)}function QT(n,e){n.Yr.X(e),xg(n).vr(e)}function v0(n){n.Yr=new GS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),xg(n).start(),n.Jr.Br()}function N_(n){return Kl(n)&&!xg(n).hr()&&n.Wr.size>0}function Kl(n){return 0===Le(n).Gr.size}function Cx(n){n.Yr=void 0}function JT(n){return O_.apply(this,arguments)}function O_(){return(O_=(0,ye.Z)(function*(n){n.Wr.forEach((e,t)=>{R_(n,e)})})).apply(this,arguments)}function Ix(n,e){return E0.apply(this,arguments)}function E0(){return(E0=(0,ye.Z)(function*(n,e){Cx(n),N_(n)?(n.Jr.Kr(e),v0(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function XT(n,e,t){return nd.apply(this,arguments)}function nd(){return(nd=(0,ye.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof hT&&2===e.state&&e.cause)try{yield(s=(0,ye.Z)(function*(a,d){const g=d.cause;for(const v of d.targetIds)a.Wr.has(v)&&(yield a.remoteSyncer.rejectListen(v,g),a.Wr.delete(v),a.Yr.removeTarget(v))}),function(a,d){return s.apply(this,arguments)})(n,e)}catch(s){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield nf(n,s)}else if(e instanceof jh?n.Yr.ot(e):e instanceof dT?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(yt.min()))try{const s=yield s0(n.localStore);t.compareTo(s)>=0&&(yield function(a,d){const g=a.Yr.gt(d);return g.targetChanges.forEach((v,w)=>{if(v.resumeToken.approximateByteSize()>0){const S=a.Wr.get(w);S&&a.Wr.set(w,S.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach(v=>{const w=a.Wr.get(v);if(!w)return;a.Wr.set(v,w.withResumeToken(Ke.EMPTY_BYTE_STRING,w.snapshotVersion)),QT(a,v);const S=new Ra(w.target,v,1,w.sequenceNumber);R_(a,S)}),a.remoteSyncer.applyRemoteEvent(g)}(n,t))}catch(s){Ne("RemoteStore","Failed to raise snapshot:",s),yield nf(n,s)}var s})).apply(this,arguments)}function nf(n,e,t){return k_.apply(this,arguments)}function k_(){return(k_=(0,ye.Z)(function*(n,e,t){if(!Fu(e))throw e;n.Gr.add(1),yield tf(n),n.Jr.set("Offline"),t||(t=()=>s0(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield M_(n)}))})).apply(this,arguments)}function eD(n,e){return e().catch(t=>nf(n,t,e))}function rf(n){return tD.apply(this,arguments)}function tD(){return(tD=(0,ye.Z)(function*(n){const e=Le(n),t=Lu(e);let s=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;yR(e);)try{const a=yield dR(e.localStore,s);if(null===a){0===e.Qr.length&&t._r();break}s=a.batchId,_R(e,a)}catch(a){yield nf(e,a)}b0(e)&&w0(e)})).apply(this,arguments)}function yR(n){return Kl(n)&&n.Qr.length<10}function _R(n,e){n.Qr.push(e);const t=Lu(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function b0(n){return Kl(n)&&!Lu(n).hr()&&n.Qr.length>0}function w0(n){Lu(n).start()}function Tx(n){return C0.apply(this,arguments)}function C0(){return(C0=(0,ye.Z)(function*(n){Lu(n).kr()})).apply(this,arguments)}function Dx(n){return I0.apply(this,arguments)}function I0(){return(I0=(0,ye.Z)(function*(n){const e=Lu(n);for(const t of n.Qr)e.Dr(t.mutations)})).apply(this,arguments)}function nD(n,e,t){return rD.apply(this,arguments)}function rD(){return(rD=(0,ye.Z)(function*(n,e,t){const s=n.Qr.shift(),a=gg.from(s,e,t);yield eD(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield rf(n)})).apply(this,arguments)}function vR(n,e){return T0.apply(this,arguments)}function T0(){return(T0=(0,ye.Z)(function*(n,e){var t;e&&Lu(n).Sr&&(yield(t=(0,ye.Z)(function*(s,a){if(uT(d=a.code)&&d!==ce.ABORTED){const g=s.Qr.shift();Lu(s).wr(),yield eD(s,()=>s.remoteSyncer.rejectFailedWrite(g.batchId,a)),yield rf(s)}var d}),function(s,a){return t.apply(this,arguments)})(n,e)),b0(n)&&w0(n)})).apply(this,arguments)}function Sg(n,e){return hr.apply(this,arguments)}function hr(){return(hr=(0,ye.Z)(function*(n,e){const t=Le(n);e?(t.Gr.delete(2),yield M_(t)):e||(t.Gr.add(2),yield tf(t),t.Jr.set("Unknown"))})).apply(this,arguments)}function xg(n){return n.Xr||(n.Xr=function(e,t,s){const a=Le(e);return a.Or(),new Ex(t,a.ir,a.authCredentials,a.appCheckCredentials,a.k,s)}(n.datastore,n.asyncQueue,{Di:JT.bind(null,n),Ni:Ix.bind(null,n),br:XT.bind(null,n)}),n.zr.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Xr.wr(),N_(n)?v0(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),Cx(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Lu(n){return n.Zr||(n.Zr=function(e,t,s){const a=Le(e);return a.Or(),new Fo(t,a.ir,a.authCredentials,a.appCheckCredentials,a.k,s)}(n.datastore,n.asyncQueue,{Di:Tx.bind(null,n),Ni:vR.bind(null,n),Nr:Dx.bind(null,n),Cr:nD.bind(null,n)}),n.zr.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Zr.wr(),yield rf(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class P_{constructor(e,t,s,a,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=d,this.deferred=new An,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,s,a,d){const g=Date.now()+s,v=new P_(e,t,g,a,d);return v.start(s),v}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sf(n,e){if(cr("AsyncQueue",`${e}: ${n}`),Fu(n))return new Ae(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Vu{constructor(e){this.comparator=e?(t,s)=>e(t,s)||ke.comparator(t.key,s.key):(t,s)=>ke.comparator(t.key,s.key),this.keyedMap=Lb(),this.sortedSet=new dr(this.comparator)}static emptySet(e){return new Vu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=s.getNext().key;if(!a.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Vu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class iD{constructor(){this.eo=new dr(ke.comparator)}track(e){const t=e.doc.key,s=this.eo.get(t);s?0!==e.type&&3===s.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==s.type?this.eo=this.eo.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.eo=this.eo.remove(t):1===e.type&&2===s.type?this.eo=this.eo.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):tt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,s)=>{e.push(s)}),e}}class of{constructor(e,t,s,a,d,g,v,w){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=v,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,s,a){const d=[];return t.forEach(g=>{d.push({type:0,doc:g})}),new of(e,t,Vu.emptySet(t),d,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class sD{constructor(){this.so=void 0,this.listeners=[]}}class rd{constructor(){this.queries=new vg(e=>KI(e),Kc),this.onlineState="Unknown",this.io=new Set}}function F_(n,e){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,ye.Z)(function*(n,e){const t=Le(n),s=e.query;let a=!1,d=t.queries.get(s);if(d||(a=!0,d=new sD),a)try{d.so=yield t.onListen(s)}catch(g){const v=sf(g,`Initialization of query '${YI(e.query)}' failed`);return void e.onError(v)}t.queries.set(s,d),d.listeners.push(e),e.ro(t.onlineState),d.so&&e.oo(d.so)&&Ng(t)})).apply(this,arguments)}function Rg(n,e){return D0.apply(this,arguments)}function D0(){return(D0=(0,ye.Z)(function*(n,e){const t=Le(n),s=e.query;let a=!1;const d=t.queries.get(s);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),a=0===d.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)})).apply(this,arguments)}function L_(n,e){const t=Le(n);let s=!1;for(const a of e){const g=t.queries.get(a.query);if(g){for(const v of g.listeners)v.oo(a)&&(s=!0);g.so=a}}s&&Ng(t)}function Ax(n,e,t){const s=Le(n),a=s.queries.get(e);if(a)for(const d of a.listeners)d.onError(t);s.queries.delete(e)}function Ng(n){n.io.forEach(e=>{e.next()})}class V_{constructor(e,t,s){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=s||{}}oo(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new of(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=of.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class Vr{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class Sx{constructor(e){this.k=e}Hn(e){return Sa(this.k,e)}Jn(e){return e.metadata.exists?ET(this.k,e.document,!1):Sn.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Cr(e)}}class xx{constructor(e,t,s){this.mo=e,this.localStore=t,this.k=s,this.queries=[],this.documents=[],this.progress=oD(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,s=new Sx(this.k);for(const a of e)if(a.metadata.queries){const d=s.Hn(a.metadata.name);for(const g of a.metadata.queries){const v=(t.get(g)||Jt()).add(d);t.set(g,v)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function(n,e,t,s){return c0.apply(this,arguments)}(e.localStore,new Sx(e.k),e.documents,e.mo.id),s=e.po(e.documents);for(const a of e.queries)yield fR(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",new Qh(Object.assign({},e.progress),t)})()}}function oD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Mx{constructor(e){this.key=e}}class Og{constructor(e){this.key=e}}class aD{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=Jt(),this.mutatedKeys=Jt(),this.Ao=QI(e),this.Ro=new Vu(this.Ao)}get bo(){return this.To}Po(e,t){const s=t?t.vo:new iD,a=t?t.Ro:this.Ro;let d=t?t.mutatedKeys:this.mutatedKeys,g=a,v=!1;const w=c_(this.query)&&a.size===this.query.limit?a.last():null,S=d_(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((N,k)=>{const G=a.get(N),ee=sg(this.query,k)?k:null,_e=!!G&&this.mutatedKeys.has(G.key),Fe=!!ee&&(ee.hasLocalMutations||this.mutatedKeys.has(ee.key)&&ee.hasCommittedMutations);let Ye=!1;G&&ee?G.data.isEqual(ee.data)?_e!==Fe&&(s.track({type:3,doc:ee}),Ye=!0):this.Vo(G,ee)||(s.track({type:2,doc:ee}),Ye=!0,(w&&this.Ao(ee,w)>0||S&&this.Ao(ee,S)<0)&&(v=!0)):!G&&ee?(s.track({type:0,doc:ee}),Ye=!0):G&&!ee&&(s.track({type:1,doc:G}),Ye=!0,(w||S)&&(v=!0)),Ye&&(ee?(g=g.add(ee),d=Fe?d.add(N):d.delete(N)):(g=g.delete(N),d=d.delete(N)))}),c_(this.query)||d_(this.query))for(;g.size>this.query.limit;){const N=c_(this.query)?g.last():g.first();g=g.delete(N.key),d=d.delete(N.key),s.track({type:1,doc:N})}return{Ro:g,vo:s,Bn:v,mutatedKeys:d}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const d=e.vo.no();d.sort((S,N)=>function(k,G){const ee=_e=>{switch(_e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return ee(k)-ee(G)}(S.type,N.type)||this.Ao(S.doc,N.doc)),this.So(s);const g=t?this.Do():[],v=0===this.Io.size&&this.current?1:0,w=v!==this.Eo;return this.Eo=v,0!==d.length||w?{snapshot:new of(this.query,e.Ro,a,d,e.mutatedKeys,0===v,w,!1),Co:g}:{Co:g}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new iD,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Jt(),this.Ro.forEach(s=>{this.No(s.key)&&(this.Io=this.Io.add(s.key))});const t=[];return e.forEach(s=>{this.Io.has(s)||t.push(new Og(s))}),this.Io.forEach(s=>{e.has(s)||t.push(new Mx(s))}),t}ko(e){this.To=e.zn,this.Io=Jt();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return of.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class ER{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class bR{constructor(e){this.key=e,this.$o=!1}}class wR{constructor(e,t,s,a,d,g){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.Oo={},this.Mo=new vg(v=>KI(v),Kc),this.Fo=new Map,this.Lo=new Set,this.Bo=new dr(ke.comparator),this.Uo=new Map,this.qo=new HT,this.Ko={},this.jo=new Map,this.Qo=Kh.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Rx(n,e){return A0.apply(this,arguments)}function A0(){return(A0=(0,ye.Z)(function*(n,e){const t=Fg(n);let s,a;const d=t.Mo.get(e);if(d)s=d.targetId,t.sharedClientState.addLocalQueryTarget(s),a=d.view.xo();else{const g=yield bg(t.localStore,Qs(e)),v=t.sharedClientState.addLocalQueryTarget(g.targetId);s=g.targetId,a=yield S0(t,e,s,"current"===v),t.isPrimaryClient&&_0(t.remoteStore,g)}return a})).apply(this,arguments)}function S0(n,e,t,s){return x0.apply(this,arguments)}function x0(){return(x0=(0,ye.Z)(function*(n,e,t,s){n.Go=(N,k,G)=>{return(ee=(0,ye.Z)(function*(_e,Fe,Ye,qt){let Zt=Fe.view.Po(Ye);Zt.Bn&&(Zt=yield u0(_e.localStore,Fe.query,!1).then(({documents:tr})=>Fe.view.Po(tr,Zt)));const Ln=qt&&qt.targetChanges.get(Fe.targetId),Bt=Fe.view.applyChanges(Zt,_e.isPrimaryClient,Ln);return F0(_e,Fe.targetId,Bt.Co),Bt.snapshot}),function(_e,Fe,Ye,qt){return ee.apply(this,arguments)})(n,N,k,G);var ee};const a=yield u0(n.localStore,e,!0),d=new aD(e,a.zn),g=d.Po(a.documents),v=ug.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState),w=d.applyChanges(g,n.isPrimaryClient,v);F0(n,t,w.Co);const S=new ER(e,t,d);return n.Mo.set(e,S),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),w.snapshot})).apply(this,arguments)}function Nx(n,e){return uD.apply(this,arguments)}function uD(){return(uD=(0,ye.Z)(function*(n,e){const t=Le(n),s=t.Mo.get(e),a=t.Fo.get(s.targetId);if(a.length>1)return t.Fo.set(s.targetId,a.filter(d=>!Kc(d,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield wg(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Ag(t.remoteStore,s.targetId),kg(t,s.targetId)}).catch(Yh))):(kg(t,s.targetId),yield wg(t.localStore,s.targetId,!0))})).apply(this,arguments)}function M0(){return(M0=(0,ye.Z)(function*(n,e,t){const s=Lg(n);try{const a=yield function(d,g){const v=Le(d),w=Fr.now(),S=g.reduce((k,G)=>k.add(G.key),Jt());let N;return v.persistence.runTransaction("Locally write mutations","readwrite",k=>v.Wn.vn(k,S).next(G=>{N=G;const ee=[];for(const _e of g){const Fe=ZS(_e,N.get(_e.key));null!=Fe&&ee.push(new Zl(_e.key,Fe,Wc(Fe.value.mapValue),wr.exists(!0)))}return v.An.addMutationBatch(k,w,ee,g)})).then(k=>(k.applyToLocalDocumentSet(N),{batchId:k.batchId,changes:N}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(d,g,v){let w=d.Ko[d.currentUser.toKey()];w||(w=new dr(Pt)),w=w.insert(g,v),d.Ko[d.currentUser.toKey()]=w}(s,a.batchId,t),yield Na(s,a.changes),yield rf(s.remoteStore)}catch(a){const d=sf(a,"Failed to persist write");t.reject(d)}})).apply(this,arguments)}function lD(n,e){return cD.apply(this,arguments)}function cD(){return(cD=(0,ye.Z)(function*(n,e){const t=Le(n);try{const s=yield D_(t.localStore,e);e.targetChanges.forEach((a,d)=>{const g=t.Uo.get(d);g&&(st(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?g.$o=!0:a.modifiedDocuments.size>0?st(g.$o):a.removedDocuments.size>0&&(st(g.$o),g.$o=!1))}),yield Na(t,s,e)}catch(s){yield Yh(s)}})).apply(this,arguments)}function kx(n,e,t){const s=Le(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.Mo.forEach((d,g)=>{const v=g.view.ro(e);v.snapshot&&a.push(v.snapshot)}),function(d,g){const v=Le(d);v.onlineState=g;let w=!1;v.queries.forEach((S,N)=>{for(const k of N.listeners)k.ro(g)&&(w=!0)}),w&&Ng(v)}(s.eventManager,e),a.length&&s.Oo.br(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Px(n,e,t){return R0.apply(this,arguments)}function R0(){return(R0=(0,ye.Z)(function*(n,e,t){const s=Le(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Uo.get(e),d=a&&a.key;if(d){let g=new dr(ke.comparator);g=g.insert(d,Sn.newNoDocument(d,yt.min()));const v=Jt().add(d),w=new Bh(yt.min(),new Map,new qn(Pt),g,v);yield lD(s,w),s.Bo=s.Bo.remove(d),s.Uo.delete(e),id(s)}else yield wg(s.localStore,e,!1).then(()=>kg(s,e,t)).catch(Yh)})).apply(this,arguments)}function Fx(n,e){return N0.apply(this,arguments)}function N0(){return(N0=(0,ye.Z)(function*(n,e){const t=Le(n),s=e.batch.batchId;try{const a=yield cR(t.localStore,e);P0(t,s,null),k0(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Na(t,a)}catch(a){yield Yh(a)}})).apply(this,arguments)}function Lx(n,e,t){return ys.apply(this,arguments)}function ys(){return(ys=(0,ye.Z)(function*(n,e,t){const s=Le(n);try{const a=yield function(d,g){const v=Le(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let S;return v.An.lookupMutationBatch(w,g).next(N=>(st(null!==N),S=N.keys(),v.An.removeMutationBatch(w,N))).next(()=>v.An.performConsistencyCheck(w)).next(()=>v.Wn.vn(w,S))})}(s.localStore,e);P0(s,e,t),k0(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Na(s,a)}catch(a){yield Yh(a)}})).apply(this,arguments)}function O0(){return(O0=(0,ye.Z)(function*(n,e){const t=Le(n);Kl(t.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const g=Le(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>g.An.getHighestUnacknowledgedBatchId(v))}(t.localStore);if(-1===s)return void e.resolve();const a=t.jo.get(s)||[];a.push(e),t.jo.set(s,a)}catch(s){const a=sf(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function k0(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function P0(n,e,t){const s=Le(n);let a=s.Ko[s.currentUser.toKey()];if(a){const d=a.get(e);d&&(t?d.reject(t):d.resolve(),a=a.remove(e)),s.Ko[s.currentUser.toKey()]=a}}function kg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Fo.get(e))n.Mo.delete(s),t&&n.Oo.zo(s,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(s=>{n.qo.containsKey(s)||dD(n,s)})}function dD(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Ag(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),id(n))}function F0(n,e,t){for(const s of t)s instanceof Mx?(n.qo.addReference(s.key,e),Ux(n,s)):s instanceof Og?(Ne("SyncEngine","Document no longer in limbo: "+s.key),n.qo.removeReference(s.key,e),n.qo.containsKey(s.key)||dD(n,s.key)):tt()}function Ux(n,e){const t=e.key,s=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(s)||(Ne("SyncEngine","New document in limbo: "+t),n.Lo.add(s),id(n))}function id(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new ke(et.fromString(e)),s=n.Qo.next();n.Uo.set(s,new bR(t)),n.Bo=n.Bo.insert(t,s),_0(n.remoteStore,new Ra(Qs(Ph(t.path)),s,2,Di.I))}}function Na(n,e,t){return hD.apply(this,arguments)}function hD(){return(hD=(0,ye.Z)(function*(n,e,t){const s=Le(n),a=[],d=[],g=[];var v;s.Mo.isEmpty()||(s.Mo.forEach((v,w)=>{g.push(s.Go(w,e,t).then(S=>{if(S){s.isPrimaryClient&&s.sharedClientState.updateQueryState(w.targetId,S.fromCache?"not-current":"current"),a.push(S);const N=e0.$n(w.targetId,S);d.push(N)}}))}),yield Promise.all(g),s.Oo.br(a),yield(v=(0,ye.Z)(function*(w,S){const N=Le(w);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>Se.forEach(S,G=>Se.forEach(G.kn,ee=>N.persistence.referenceDelegate.addReference(k,G.targetId,ee)).next(()=>Se.forEach(G.xn,ee=>N.persistence.referenceDelegate.removeReference(k,G.targetId,ee)))))}catch(k){if(!Fu(k))throw k;Ne("LocalStore","Failed to update sequence numbers: "+k)}for(const k of S){const G=k.targetId;if(!k.fromCache){const ee=N.qn.get(G),Fe=ee.withLastLimboFreeSnapshotVersion(ee.snapshotVersion);N.qn=N.qn.insert(G,Fe)}}}),function(w,S){return v.apply(this,arguments)})(s.localStore,d))})).apply(this,arguments)}function Bx(n,e){return fD.apply(this,arguments)}function fD(){return(fD=(0,ye.Z)(function*(n,e){const t=Le(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const s=yield r0(t.localStore,e);t.currentUser=e,(a=t).jo.forEach(g=>{g.forEach(v=>{v.reject(new Ae(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.jo.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Na(t,s.Gn)}var a})).apply(this,arguments)}function CR(n,e){const t=Le(n),s=t.Uo.get(e);if(s&&s.$o)return Jt().add(s.key);{let a=Jt();const d=t.Fo.get(e);if(!d)return a;for(const g of d){const v=t.Mo.get(g);a=a.unionWith(v.view.bo)}return a}}function IR(n,e){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,ye.Z)(function*(n,e){const t=Le(n),s=yield u0(t.localStore,e.query,!0),a=e.view.ko(s);return t.isPrimaryClient&&F0(t,e.targetId,a.Co),a})).apply(this,arguments)}function jx(n){return L0.apply(this,arguments)}function L0(){return(L0=(0,ye.Z)(function*(n){const e=Le(n);return jT(e.localStore).then(t=>Na(e,t))})).apply(this,arguments)}function $x(n,e,t,s){return pD.apply(this,arguments)}function pD(){return(pD=(0,ye.Z)(function*(n,e,t,s){const a=Le(n),d=yield function(g,v){const w=Le(g),S=Le(w.An);return w.persistence.runTransaction("Lookup mutation documents","readonly",N=>S.Zt(N,v).next(k=>k?w.Wn.vn(N,k):Se.resolve(null)))}(a.localStore,e);var v;null!==d?("pending"===t?yield rf(a.remoteStore):"acknowledged"===t||"rejected"===t?(P0(a,e,s||null),k0(a,e),v=e,Le(Le(a.localStore).An).ee(v)):tt(),yield Na(a,d)):Ne("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function V0(){return(V0=(0,ye.Z)(function*(n,e){const t=Le(n);if(Fg(t),Lg(t),!0===e&&!0!==t.Wo){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield gD(t,s.toArray());t.Wo=!0,yield Sg(t.remoteStore,!0);for(const d of a)_0(t.remoteStore,d)}else if(!1===e&&!1!==t.Wo){const s=[];let a=Promise.resolve();t.Fo.forEach((d,g)=>{t.sharedClientState.isLocalQueryTarget(g)?s.push(g):a=a.then(()=>(kg(t,g),wg(t.localStore,g,!0))),Ag(t.remoteStore,g)}),yield a,yield gD(t,s),function(d){const g=Le(d);g.Uo.forEach((v,w)=>{Ag(g.remoteStore,w)}),g.qo.hs(),g.Uo=new Map,g.Bo=new dr(ke.comparator)}(t),t.Wo=!1,yield Sg(t.remoteStore,!1)}})).apply(this,arguments)}function gD(n,e,t){return _s.apply(this,arguments)}function _s(){return(_s=(0,ye.Z)(function*(n,e,t){const s=Le(n),a=[],d=[];for(const g of e){let v;const w=s.Fo.get(g);if(w&&0!==w.length){v=yield bg(s.localStore,Qs(w[0]));for(const S of w){const N=s.Mo.get(S),k=yield IR(s,N);k.snapshot&&d.push(k.snapshot)}}else{const S=yield Cg(s.localStore,g);v=yield bg(s.localStore,S),yield S0(s,Hx(S),g,!1)}a.push(v)}return s.Oo.br(d),a})).apply(this,arguments)}function Hx(n){return zI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function mD(n){const e=Le(n);return Le(Le(e.localStore).persistence).Tn()}function qx(n,e,t,s){return U_.apply(this,arguments)}function U_(){return(U_=(0,ye.Z)(function*(n,e,t,s){const a=Le(n);if(a.Wo)Ne("SyncEngine","Ignoring unexpected query state notification.");else if(a.Fo.has(e))switch(t){case"current":case"not-current":{const d=yield jT(a.localStore),g=Bh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Na(a,d,g);break}case"rejected":yield wg(a.localStore,e,!0),kg(a,e,s);break;default:tt()}})).apply(this,arguments)}function yD(n,e,t){return B_.apply(this,arguments)}function B_(){return(B_=(0,ye.Z)(function*(n,e,t){const s=Fg(n);if(s.Wo){for(const a of e){if(s.Fo.has(a)){Ne("SyncEngine","Adding an already active target "+a);continue}const d=yield Cg(s.localStore,a),g=yield bg(s.localStore,d);yield S0(s,Hx(d),g.targetId,!1),_0(s.remoteStore,g)}for(const a of t)s.Fo.has(a)&&(yield wg(s.localStore,a,!1).then(()=>{Ag(s.remoteStore,a),kg(s,a)}).catch(Yh))}})).apply(this,arguments)}function Fg(n){const e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Px.bind(null,e),e.Oo.br=L_.bind(null,e.eventManager),e.Oo.zo=Ax.bind(null,e.eventManager),e}function Lg(n){const e=Le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lx.bind(null,e),e}class Vg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.k=ef(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return n0(this.persistence,new BT,e.initialUser,this.k)}Yo(e){return new Ig(d0.ks,this.k)}Jo(e){return new g0}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ug extends Vg{constructor(e,t,s){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,ye.Z)(function*(){yield t().call(s,e),yield function(n){return $T.apply(this,arguments)}(s.localStore),yield s.tc.initialize(s,e),yield Lg(s.tc.syncEngine),yield rf(s.tc.remoteStore),yield s.persistence.sn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Zo(e){return n0(this.persistence,new BT,e.initialUser,this.k)}Xo(e){return new aR(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=Eg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Si.withCacheSize(this.cacheSizeBytes):Si.DEFAULT;return new Jb(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,YT(),Xh(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new g0}}class _D extends Ug{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,ye.Z)(function*(){yield t().call(s,e);const a=s.tc.syncEngine;s.sharedClientState instanceof Dg&&(s.sharedClientState.syncEngine={mi:$x.bind(null,a),gi:qx.bind(null,a),yi:yD.bind(null,a),Tn:mD.bind(null,a),_i:jx.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.sn(function(){var d=(0,ye.Z)(function*(g){yield function(n,e){return V0.apply(this,arguments)}(s.tc.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):g||s.gcScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}Jo(e){const t=YT();if(!Dg.Pt(t))throw new Ae(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Eg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Dg(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class j_{initialize(e,t){var s=this;return(0,ye.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>kx(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Bx.bind(null,s.syncEngine),yield Sg(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new rd}createDatastore(e){const t=ef(e.databaseInfo.databaseId),s=new vx(e.databaseInfo);return new bx(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,d=v=>kx(this.syncEngine,v,0),g=WT.Pt()?new WT:new GT,new wx(t,s,a,d,g);var t,s,a,d,g}createSyncEngine(e,t){return function(s,a,d,g,v,w,S){const N=new wR(s,a,d,g,v,w);return S&&(N.Wo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const s=Le(t);Ne("RemoteStore","RemoteStore shutting down."),s.Gr.add(5),yield tf(s),s.Hr.shutdown(),s.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function vD(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class $_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ED{constructor(e,t){this.sc=e,this.k=t,this.metadata=new An,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(s=>{s&&s._o()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.oc();if(null===t)return null;const s=e.ic.decode(t),a=Number(s);isNaN(a)&&e.cc(`length string (${s}) is not valid number`);const d=yield e.ac(a);return new Vr(JSON.parse(d),t.length+a)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,ye.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}ac(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const s=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.sc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Gx{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,ye.Z)(function*(d,g){const v=Le(d),w=cg(v.k)+"/documents",S={documents:g.map(ee=>Zh(v.k,ee))},N=yield v.ji("BatchGetDocuments",w,S),k=new Map;N.forEach(ee=>{const _e=function(n,e){return"found"in e?function(t,s){st(!!s.found);const a=Sa(t,s.found.name),d=Cr(s.found.updateTime),g=new zr({mapValue:{fields:s.found.fields}});return Sn.newFoundDocument(a,d,g)}(n,e):"missing"in e?function(t,s){st(!!s.missing),st(!!s.readTime);const a=Sa(t,s.missing),d=Cr(s.readTime);return Sn.newNoDocument(a,d)}(n,e):tt()}(v.k,ee);k.set(_e.key.toString(),_e)});const G=[];return g.forEach(ee=>{const _e=k.get(ee.toString());st(!!_e),G.push(_e)}),G}),function(d,g){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Aa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const d=ke.fromPath(a);e.mutations.push(new Lr(d,e.precondition(d)))}),yield(s=(0,ye.Z)(function*(a,d){const g=Le(a),v=cg(g.k)+"/documents",w={writes:d.map(S=>p_(g.k,S))};yield g.Bi("Commit",v,w)}),function(a,d){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tt();t=yt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Ae(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?wr.updateTime(t):wr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yt.min()))throw new Ae(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wr.updateTime(t)}return wr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Wx{constructor(e,t,s,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=s,this.deferred=a,this.lc=5,this.ur=new S_(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,ye.Z)(function*(){const t=new Gx(e.datastore),s=e.dc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(d=>{e.wc(d)}))}).catch(a=>{e.wc(a)})}))}dc(e){try{const t=this.updateFunction(e);return!Zc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!uT(t)}return!1}}class zx{constructor(e,t,s,a){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Gr.UNAUTHENTICATED,this.clientId=_b.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var g=(0,ye.Z)(function*(v){Ne("FirestoreClient","Received user=",v.uid),yield d.authCredentialListener(v),d.user=v});return function(v){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(s,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new An;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=sf(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Z_(n,e){return B0.apply(this,arguments)}function B0(){return(B0=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,ye.Z)(function*(d){s.isEqual(d)||(yield r0(e.localStore,d),s=d)});return function(d){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function gi(n,e){return sd.apply(this,arguments)}function sd(){return(sd=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield af(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(a=>{return(d=(0,ye.Z)(function*(g,v){const w=Le(g);w.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const S=Kl(w);w.Gr.add(3),yield tf(w),S&&w.Jr.set("Unknown"),yield w.remoteSyncer.handleCredentialChange(v),w.Gr.delete(3),yield M_(w)}),function(g,v){return d.apply(this,arguments)})(e.remoteStore,a);var d}),n.onlineComponents=e})).apply(this,arguments)}function af(n){return H_.apply(this,arguments)}function H_(){return(H_=(0,ye.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield Z_(n,new Vg)),n.offlineComponents})).apply(this,arguments)}function od(n){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,ye.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield gi(n,new j_)),n.onlineComponents})).apply(this,arguments)}function j0(n){return af(n).then(e=>e.persistence)}function uf(n){return af(n).then(e=>e.localStore)}function bD(n){return od(n).then(e=>e.remoteStore)}function $0(n){return od(n).then(e=>e.syncEngine)}function lf(n){return Z0.apply(this,arguments)}function Z0(){return(Z0=(0,ye.Z)(function*(n){const e=yield od(n),t=e.eventManager;return t.onListen=Rx.bind(null,e.syncEngine),t.onUnlisten=Nx.bind(null,e.syncEngine),t})).apply(this,arguments)}function CD(n,e,t={}){const s=new An;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(a,d,g,v,w){const S=new $_({next:k=>{d.enqueueAndForget(()=>Rg(a,N));const G=k.docs.has(g);!G&&k.fromCache?w.reject(new Ae(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&k.fromCache&&v&&"server"===v.source?w.reject(new Ae(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(k)},error:k=>w.reject(k)}),N=new V_(Ph(g.path),S,{includeMetadataChanges:!0,wo:!0});return F_(a,N)}(yield lf(n),n.asyncQueue,e,t,s)})),s.promise}function cf(n,e,t={}){const s=new An;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(a,d,g,v,w){const S=new $_({next:k=>{d.enqueueAndForget(()=>Rg(a,N)),k.fromCache&&"server"===v.source?w.reject(new Ae(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(k)},error:k=>w.reject(k)}),N=new V_(g,S,{includeMetadataChanges:!0,wo:!0});return F_(a,N)}(yield lf(n),n.asyncQueue,e,t,s)})),s.promise}class q0{constructor(e,t,s,a,d,g,v,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=v,this.useFetchStreams=w}}class df{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof df&&e.projectId===this.projectId&&e.database===this.database}}const G0=new Map;function q_(n,e,t){if(!t)throw new Ae(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ID(n,e,t,s){if(!0===e&&!0===s)throw new Ae(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TD(n){if(!ke.isDocumentKey(n))throw new Ae(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DD(n){if(ke.isDocumentKey(n))throw new Ae(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function eo(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":tt()}function Rt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=eo(n);throw new Ae(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ad(n,e){if(e<=0)throw new Ae(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class jg{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ID("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oa{constructor(e,t,s){this._authCredentials=t,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jg({}),this._settingsFrozen=!1,e instanceof df?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ae(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new df(a.options.projectId)}(e))}get app(){if(!this._app)throw new Ae(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jg(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new xS;switch(t.type){case"gapi":const s=t.client;return st(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new RS(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ae(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=G0.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),G0.delete(e),t.terminate())}(this),Promise.resolve()}}class bn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class mi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new mi(this.firestore,e,this._query)}}class Lo extends mi{constructor(e,t,s){super(e,t,Ph(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new ke(e))}withConverter(e){return new Lo(this.firestore,e,this._path)}}function W0(n,e,...t){if(n=(0,St.m9)(n),q_("collection","path",e),n instanceof Oa){const s=et.fromString(e,...t);return DD(s),new Lo(n,null,s)}{if(!(n instanceof bn||n instanceof Lo))throw new Ae(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(et.fromString(e,...t));return DD(s),new Lo(n.firestore,null,s)}}function $g(n,e,...t){if(n=(0,St.m9)(n),1===arguments.length&&(e=_b.A()),q_("doc","path",e),n instanceof Oa){const s=et.fromString(e,...t);return TD(s),new bn(n,null,new ke(s))}{if(!(n instanceof bn||n instanceof Lo))throw new Ae(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(et.fromString(e,...t));return TD(s),new bn(n.firestore,n instanceof Lo?n.converter:null,new ke(s))}}function G_(n,e){return n=(0,St.m9)(n),e=(0,St.m9)(e),(n instanceof bn||n instanceof Lo)&&(e instanceof bn||e instanceof Lo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function SD(n,e){return n=(0,St.m9)(n),e=(0,St.m9)(e),n instanceof mi&&e instanceof mi&&n.firestore===e.firestore&&Kc(n._query,e._query)&&n.converter===e.converter}class tM{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new S_(this,"async_queue_retry"),this.bc=()=>{const t=Xh();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=Xh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=Xh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new An;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!Fu(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(s=>{throw this.Ec=s,this.Ic=!1,cr("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(s)),s}).then(s=>(this.Ic=!1,s))));return this.mc=t,t}enqueueAfterDelay(e,t,s){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const a=P_.createAndSchedule(this,e,t,s,d=>this.Sc(d));return this.Tc.push(a),a}Pc(){this.Ec&&tt()}verifyOperationInProgress(){}Dc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function W_(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class ud{constructor(){this._progressObserver={},this._taskCompletionResolver=new An,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Fn extends Oa{constructor(e,t,s){super(e,t,s),this.type="firestore",this._queue=new tM,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||nM(this),this._firestoreClient.terminate()}}function Ur(n){return n._firestoreClient||nM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function nM(n){var e;const t=n._freezeSettings(),s=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new q0(n._databaseId,d,n._persistenceKey,(v=t).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var d,v;n._firestoreClient=new zx(n._authCredentials,n._appCheckCredentials,n._queue,s)}function xD(n,e,t){const s=new An;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield Z_(n,t),yield gi(n,e),s.resolve()}catch(a){if(!("FirebaseError"===(d=a).name?d.code===ce.FAILED_PRECONDITION||d.code===ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),s.reject(a)}var d})).then(()=>s.promise)}function iM(n){if(n._initialized||n._terminated)throw new Ae(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ql{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new i(Ke.fromBase64String(e))}catch(t){throw new Ae(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new i(Ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class o{constructor(e){this._methodName=e}}class u{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}const l=/^__.*__$/;class h{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Zl(e,this.data,this.fieldMask,t,this.fieldTransforms):new og(e,this.data,t,this.fieldTransforms)}}class m{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Zl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class b{constructor(e,t,s,a,d,g){this.settings=e,this.databaseId=t,this.k=s,this.ignoreUndefinedProperties=a,void 0===d&&this.xc(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new b(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Oc({path:s,Fc:!1});return a.Lc(e),a}Bc(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Oc({path:s,Fc:!1});return a.xc(),a}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return ff(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(_(this.$c)&&l.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class I{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=s||ef(e)}Qc(e,t,s,a=!1){return new b({$c:e,methodName:t,jc:s,path:Hn.emptyPath(),Fc:!1,Kc:a},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function A(n){const e=n._freezeSettings(),t=ef(n._databaseId);return new I(n._databaseId,!!e.ignoreUndefinedProperties,t)}function R(n,e,t,s,a,d={}){const g=n.Qc(d.merge||d.mergeFields?2:0,e,t,a);ld("Data must be an object, but it was:",g,s);const v=fr(s,g);let w,S;if(d.merge)w=new Ia(g.fieldMask),S=g.fieldTransforms;else if(d.mergeFields){const N=[];for(const k of d.mergeFields){const G=Jl(e,k,t);if(!g.contains(G))throw new Ae(ce.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);z_(N,G)||N.push(G)}w=new Ia(N),S=g.fieldTransforms.filter(k=>w.covers(k.field))}else w=null,S=g.fieldTransforms;return new h(new zr(v),w,S)}class O extends o{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof O}}function B(n,e,t){return new b({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class q extends o{_toFieldTransform(e){return new Uh(e.path,new Da)}isEqual(e){return e instanceof q}}class se extends o{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=B(this,e,!0),s=this.Wc.map(d=>wt(d,t)),a=new Lh(s);return new Uh(e.path,a)}isEqual(e){return this===e}}class Q extends o{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=B(this,e,!0),s=this.Wc.map(d=>wt(d,t)),a=new Yc(s);return new Uh(e.path,a)}isEqual(e){return this===e}}class Me extends o{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new Vh(e.k,eT(e.k,this.Gc));return new Uh(e.path,t)}isEqual(e){return this===e}}function me(n,e,t,s){const a=n.Qc(1,e,t);ld("Data must be an object, but it was:",a,s);const d=[],g=zr.empty();Ca(s,(w,S)=>{const N=Xl(e,w,t);S=(0,St.m9)(S);const k=a.Bc(N);if(S instanceof O)d.push(N);else{const G=wt(S,k);null!=G&&(d.push(N),g.set(N,G))}});const v=new Ia(d);return new m(g,v,a.fieldTransforms)}function Qe(n,e,t,s,a,d){const g=n.Qc(1,e,t),v=[Jl(e,s,t)],w=[a];if(d.length%2!=0)throw new Ae(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let G=0;G<d.length;G+=2)v.push(Jl(e,d[G])),w.push(d[G+1]);const S=[],N=zr.empty();for(let G=v.length-1;G>=0;--G)if(!z_(S,v[G])){const ee=v[G];let _e=w[G];_e=(0,St.m9)(_e);const Fe=g.Bc(ee);if(_e instanceof O)S.push(ee);else{const Ye=wt(_e,Fe);null!=Ye&&(S.push(ee),N.set(ee,Ye))}}const k=new Ia(S);return new m(N,k,g.fieldTransforms)}function ot(n,e,t,s=!1){return wt(t,n.Qc(s?4:3,e))}function wt(n,e){if(vs(n=(0,St.m9)(n)))return ld("Unsupported field value:",e,n),fr(n,e);if(n instanceof o)return function(t,s){if(!_(s.$c))throw s.qc(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qc(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,s){const a=[];let d=0;for(const g of t){let v=wt(g,s.Uc(d));null==v&&(v={nullValue:"NULL_VALUE"}),a.push(v),d++}return{arrayValue:{values:a}}}(n,e)}return function(t,s){if(null===(t=(0,St.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return eT(s.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Fr.fromDate(t);return{timestampValue:lg(s.k,a)}}if(t instanceof Fr){const a=new Fr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:lg(s.k,a)}}if(t instanceof u)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof i)return{bytesValue:$h(s.k,t._byteString)};if(t instanceof bn){const a=s.databaseId,d=t.firestore._databaseId;if(!d.isEqual(a))throw s.qc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:f_(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.qc(`Unsupported field value: ${eo(t)}`)}(n,e)}function fr(n,e){const t={};return OS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(n,(s,a)=>{const d=wt(a,e.Mc(s));null!=d&&(t[s]=d)}),{mapValue:{fields:t}}}function vs(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Fr||n instanceof u||n instanceof i||n instanceof bn||n instanceof o)}function ld(n,e,t){if(!vs(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=eo(t);throw e.qc("an object"===s?n+" a custom object":n+" "+s)}var s}function Jl(n,e,t){if((e=(0,St.m9)(e))instanceof Ql)return e._internalPath;if("string"==typeof e)return Xl(n,e);throw ff("Field path arguments must be of type string or ",n,!1,void 0,t)}const hf=new RegExp("[~\\*/\\[\\]]");function Xl(n,e,t){if(e.search(hf)>=0)throw ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ql(...e.split("."))._internalPath}catch(s){throw ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ff(n,e,t,s,a){const d=s&&!s.isEmpty(),g=void 0!==a;let v=`Function ${e}() called with invalid data`;t&&(v+=" (via `toFirestore()`)"),v+=". ";let w="";return(d||g)&&(w+=" (found",d&&(w+=` in field ${s}`),g&&(w+=` in document ${a}`),w+=")"),new Ae(ce.INVALID_ARGUMENT,v+n+w)}function z_(n,e){return n.some(t=>t.isEqual(e))}class cd{constructor(e,t,s,a,d){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new K0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class K0 extends cd{data(){return super.data()}}function pf(n,e){return"string"==typeof e?Xl(n,e):e instanceof Ql?e._internalPath:e._delegate._internalPath}class Zg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dd extends cd{constructor(e,t,s,a,d,g){super(e,t,s,a,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Y0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(pf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Y0 extends dd{data(e={}){return super.data(e)}}class gf{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Zg(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Y0(this._firestore,this._userDataWriter,s.key,s,new Zg(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(g=>({type:"added",doc:new Y0(s._firestore,s._userDataWriter,g.doc.key,g.doc,new Zg(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(g=>a||3!==g.type).map(g=>{const v=new Y0(s._firestore,s._userDataWriter,g.doc.key,g.doc,new Zg(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter);let w=-1,S=-1;return 0!==g.type&&(w=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:g1(g.type),doc:v,oldIndex:w,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function g1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function kR(n,e){return n instanceof dd&&e instanceof dd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof gf&&e instanceof gf&&n._firestore===e._firestore&&SD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function PR(n){if(d_(n)&&0===n.explicitOrderBy.length)throw new Ae(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q0{}function mf(n,...e){for(const t of e)n=t._apply(n);return n}class m1 extends Q0{constructor(e,t,s){super(),this.zc=e,this.Hc=t,this.Jc=s,this.type="where"}_apply(e){const t=A(e.firestore),s=function(a,d,g,v,w,S,N){let k;if(w.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Ae(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if("in"===S||"not-in"===S){jR(N,S);const ee=[];for(const _e of N)ee.push(BR(v,a,_e));k={arrayValue:{values:ee}}}else k=BR(v,a,N)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||jR(N,S),k=ot(g,"where",N,"in"===S||"not-in"===S);const G=Kr.create(w,S,k);return function(ee,_e){if(_e.V()){const Ye=Ab(ee);if(null!==Ye&&!Ye.isEqual(_e.field))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ye.toString()}' and '${_e.field.toString()}'`);const qt=Db(ee);null!==qt&&$R(0,_e.field,qt)}const Fe=function(Ye,qt){for(const Zt of Ye.filters)if(qt.indexOf(Zt.op)>=0)return Zt.op;return null}(ee,function(Ye){switch(Ye){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(_e.op));if(null!==Fe)throw new Ae(ce.INVALID_ARGUMENT,Fe===_e.op?`Invalid query. You cannot use more than one '${_e.op.toString()}' filter.`:`Invalid query. You cannot use '${_e.op.toString()}' filters with '${Fe.toString()}' filters.`)}(a,G),G}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new mi(e.firestore,e.converter,function(a,d){const g=a.filters.concat([d]);return new Po(a.path,a.collectionGroup,a.explicitOrderBy.slice(),g,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class _1 extends Q0{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(s,a,d){if(null!==s.startAt)throw new Ae(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Ae(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new kh(a,d);return function(v,w){if(null===Db(v)){const S=Ab(v);null!==S&&$R(0,S,w.field)}}(s,g),g}(e._query,this.zc,this.Yc);return new mi(e.firestore,e.converter,function(s,a){const d=s.explicitOrderBy.concat([a]);return new Po(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class FR extends Q0{constructor(e,t,s){super(),this.type=e,this.Xc=t,this.Zc=s}_apply(e){return new mi(e.firestore,e.converter,Sb(e._query,this.Xc,this.Zc))}}class LR extends Q0{constructor(e,t,s){super(),this.type=e,this.ta=t,this.ea=s}_apply(e){const t=UR(e,this.type,this.ta,this.ea);return new mi(e.firestore,e.converter,(a=t,new Po((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class VR extends Q0{constructor(e,t,s){super(),this.type=e,this.ta=t,this.ea=s}_apply(e){const t=UR(e,this.type,this.ta,this.ea);return new mi(e.firestore,e.converter,(a=t,new Po((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function UR(n,e,t,s){if(t[0]=(0,St.m9)(t[0]),t[0]instanceof cd)return function(a,d,g,v,w){if(!v)throw new Ae(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const S=[];for(const N of Fh(a))if(N.field.isKeyField())S.push(s_(d,v.key));else{const k=v.data.field(N.field);if(t_(k))throw new Ae(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const G=N.field.canonicalString();throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${G}' (used as the orderBy) does not exist.`)}S.push(k)}return new l_(S,w)}(n._query,n.firestore._databaseId,e,t[0]._document,s);{const a=A(n.firestore);return function(d,g,v,w,S,N){const k=d.explicitOrderBy;if(S.length>k.length)throw new Ae(ce.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const G=[];for(let ee=0;ee<S.length;ee++){const _e=S[ee];if(k[ee].field.isKeyField()){if("string"!=typeof _e)throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof _e}`);if(!ig(d)&&-1!==_e.indexOf("/"))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${_e}' contains a slash.`);const Fe=d.path.child(et.fromString(_e));if(!ke.isDocumentKey(Fe))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Fe}' is not because it contains an odd number of segments.`);const Ye=new ke(Fe);G.push(s_(g,Ye))}else{const Fe=ot(v,w,_e);G.push(Fe)}}return new l_(G,N)}(n._query,n.firestore._databaseId,a,e,t,s)}}function BR(n,e,t){if("string"==typeof(t=(0,St.m9)(t))){if(""===t)throw new Ae(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ig(e)&&-1!==t.indexOf("/"))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(et.fromString(t));if(!ke.isDocumentKey(s))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return s_(n,new ke(s))}if(t instanceof bn)return s_(n,t._key);throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eo(t)}.`)}function jR(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ae(ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function $R(n,e,t){if(!t.isEqual(e))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class sM{convertValue(e,t="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tt()}}convertObject(e,t){const s={};return Ca(e.fields,(a,d)=>{s[a]=this.convertValue(d,t)}),s}convertGeoPoint(e){return new u(hn(e.latitude),hn(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Eb(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(n_(e));default:return null}}convertTimestamp(e){const t=Ta(e);return new Fr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);st($b(s));const a=new df(s.get(1),s.get(3)),d=new ke(s.popFirst(5));return a.isEqual(t)||cr(`Document ${d} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function MD(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class D1 extends sM{constructor(e){super(),this.firestore=e}convertBytes(e){return new i(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,t)}}class ZR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=A(e)}set(e,t,s){this._verifyNotCommitted();const a=yf(e,this._firestore),d=MD(a.converter,t,s),g=R(this._dataReader,"WriteBatch.set",a._key,d,null!==a.converter,s);return this._mutations.push(g.toMutation(a._key,wr.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const d=yf(e,this._firestore);let g;return g="string"==typeof(t=(0,St.m9)(t))||t instanceof Ql?Qe(this._dataReader,"WriteBatch.update",d._key,t,s,a):me(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(g.toMutation(d._key,wr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=yf(e,this._firestore);return this._mutations=this._mutations.concat(new Aa(t._key,wr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yf(n,e){if((n=(0,St.m9)(n)).firestore!==e)throw new Ae(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Hg extends sM{constructor(e){super(),this.firestore=e}convertBytes(e){return new i(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,t)}}function HR(n,e,t){n=Rt(n,bn);const s=Rt(n.firestore,Fn),a=MD(n.converter,e,t);return K_(s,[R(A(s),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,wr.none())])}function qR(n,e,t,...s){n=Rt(n,bn);const a=Rt(n.firestore,Fn),d=A(a);let g;return g="string"==typeof(e=(0,St.m9)(e))||e instanceof Ql?Qe(d,"updateDoc",n._key,e,t,s):me(d,"updateDoc",n._key,e),K_(a,[g.toMutation(n._key,wr.exists(!0))])}function GR(n,...e){var t,s,a;n=(0,St.m9)(n);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||W_(e[g])||(d=e[g],g++);const v={includeMetadataChanges:d.includeMetadataChanges};if(W_(e[g])){const k=e[g];e[g]=null===(t=k.next)||void 0===t?void 0:t.bind(k),e[g+1]=null===(s=k.error)||void 0===s?void 0:s.bind(k),e[g+2]=null===(a=k.complete)||void 0===a?void 0:a.bind(k)}let w,S,N;if(n instanceof bn)S=Rt(n.firestore,Fn),N=Ph(n._key.path),w={next:k=>{e[g]&&e[g](oM(S,n,k))},error:e[g+1],complete:e[g+2]};else{const k=Rt(n,mi);S=Rt(k.firestore,Fn),N=k._query;const G=new Hg(S);w={next:ee=>{e[g]&&e[g](new gf(S,G,k,ee))},error:e[g+1],complete:e[g+2]},PR(n._query)}return function(k,G,ee,_e){const Fe=new $_(_e),Ye=new V_(G,Fe,ee);return k.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return F_(yield lf(k),Ye)})),()=>{Fe.nc(),k.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Rg(yield lf(k),Ye)}))}}(Ur(S),N,v,w)}function K_(n,e){return function(t,s){const a=new An;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(n,e,t){return M0.apply(this,arguments)}(yield $0(t),s,a)})),a.promise}(Ur(n),e)}function oM(n,e,t){const s=t.docs.get(e._key),a=new Hg(n);return new dd(n,a,e._key,s,new Zg(t.hasPendingWrites,t.fromCache),e.converter)}class F1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=A(e)}get(e){const t=yf(e,this._firestore),s=new D1(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return tt();const d=a[0];if(d.isFoundDocument())return new cd(this._firestore,s,d.key,d,t.converter);if(d.isNoDocument())return new cd(this._firestore,s,t._key,null,t.converter);throw tt()})}set(e,t,s){const a=yf(e,this._firestore),d=MD(a.converter,t,s),g=R(this._dataReader,"Transaction.set",a._key,d,null!==a.converter,s);return this._transaction.set(a._key,g),this}update(e,t,s,...a){const d=yf(e,this._firestore);let g;return g="string"==typeof(t=(0,St.m9)(t))||t instanceof Ql?Qe(this._dataReader,"Transaction.update",d._key,t,s,a):me(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,g),this}delete(e){const t=yf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=yf(e,this._firestore),s=new Hg(this._firestore);return super.get(e).then(a=>new dd(this._firestore,s,t._key,a._document,new Zg(!1,!1),t.converter))}}function aM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function WR(){if("undefined"==typeof Uint8Array)throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function zR(){if("undefined"==typeof atob)throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Rh=Rc.SDK_VERSION,(0,Rc._registerComponent)(new Dv.wA("firestore",(t,{options:s})=>{const a=t.getProvider("app").getImmediate(),d=new Fn(a,new MS(t.getProvider("auth-internal")),new ZI(t.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:e},s),d._setSettings(s),d},"PUBLIC")),(0,Rc.registerVersion)(BI,"3.4.3",n),(0,Rc.registerVersion)(BI,"3.4.3","esm2017")}();class J0{constructor(e){this._delegate=e}static fromBase64String(e){return zR(),new J0(i.fromBase64String(e))}static fromUint8Array(e){return WR(),new J0(i.fromUint8Array(e))}toBase64(){return zR(),this._delegate.toBase64()}toUint8Array(){return WR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function uM(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const s of["next","error","complete"])if(s in t&&"function"==typeof t[s])return!0;return!1}(n)}class G1{enableIndexedDbPersistence(e,t){return function(n,e){iM(n=Rt(n,Fn));const t=Ur(n),s=n._freezeSettings(),a=new j_;return xD(t,a,new Ug(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){iM(n=Rt(n,Fn));const e=Ur(n),t=n._freezeSettings(),s=new j_;return xD(e,s,new _D(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Ae(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new An;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(s){if(!Xs.Pt())return Promise.resolve();const a=s+"main";yield Xs.delete(a)}),function(s){return t.apply(this,arguments)})(Eg(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class KR{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof df||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Xp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function(n,e,t,s={}){var a;const d=(n=Rt(n,Oa))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&Xp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let g,v;if("string"==typeof s.mockUserToken)g=s.mockUserToken,v=Gr.MOCK_USER;else{g=(0,St.Sg)(s.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new Ae(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Gr(w)}n._authCredentials=new JM(new yb(g,v))}}(this._delegate,e,t,s)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield j0(n),t=yield bD(n);return e.setNetworkEnabled(!0),function(s){const a=Le(s);return a.Gr.delete(0),M_(a)}(t)}))}(Ur(n=Rt(n,Fn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield j0(n),t=yield bD(n);return e.setNetworkEnabled(!1),(s=(0,ye.Z)(function*(a){const d=Le(a);d.Gr.add(0),yield tf(d),d.Jr.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(Ur(n=Rt(n,Fn)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,ID("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new An;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(n,e){return O0.apply(this,arguments)}(yield $0(e),t)})),t.promise}(Ur(n=Rt(n,Fn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new $_(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return s=yield lf(n),a=t,Le(s).io.add(a),void a.next();var s,a})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return s=yield lf(n),a=t,void Le(s).io.delete(a);var s,a}))}}(Ur(n=Rt(n,Fn)),W_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Y_(this,W0(this._delegate,e))}catch(t){throw Es(t,"collection()","Firestore.collection()")}}doc(e){try{return new ka(this,$g(this._delegate,e))}catch(t){throw Es(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new bs(this,function(n,e){if(n=Rt(n,Oa),q_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new mi(n,null,(t=e,new Po(et.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Es(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new An;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const s=yield(a=n,od(a).then(d=>d.datastore));var a;new Wx(n.asyncQueue,s,e,t).run()})),t.promise}(Ur(n=Rt(n,Fn)),t=>e(new F1(n,t)))}(this._delegate,t=>e(new YR(this,t)))}batch(){return Ur(this._delegate),new QR(new ZR(this._delegate,e=>K_(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Ur(n=Rt(n,Fn)),s=new ud;return function(n,e,t,s){const a=function(d,g){let v;return v="string"==typeof d?(new TextEncoder).encode(d):d,w=function(w,S){if(w instanceof Uint8Array)return vD(w,S);if(w instanceof ArrayBuffer)return vD(new Uint8Array(w),S);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new ED(w,g);var w}(t,ef(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function(n,e,t){const s=Le(n);var a;(a=(0,ye.Z)(function*(d,g,v){try{const w=yield g.getMetadata();if(yield function(G,ee){const _e=Le(G),Fe=Cr(ee.createTime);return _e.persistence.runTransaction("hasNewerBundle","readonly",Ye=>_e.Ye.getBundleMetadata(Ye,ee.id)).then(Ye=>!!Ye&&Ye.createTime.compareTo(Fe)>=0)}(d.localStore,w))return yield g.close(),void v._completeWith((G=w,{taskState:"Success",documentsLoaded:G.totalDocuments,bytesLoaded:G.totalBytes,totalDocuments:G.totalDocuments,totalBytes:G.totalBytes}));v._updateProgress(oD(w));const S=new xx(w,d.localStore,g.k);let N=yield g.Ho();for(;N;){const G=yield S.yo(N);G&&v._updateProgress(G),N=yield g.Ho()}const k=yield S.complete();yield Na(d,k.In,void 0),yield function(G,ee){const _e=Le(G);return _e.persistence.runTransaction("Save bundle","readwrite",Fe=>_e.Ye.saveBundleMetadata(Fe,ee))}(d.localStore,w),v._completeWith(k.progress)}catch(w){Xp("SyncEngine",`Loading bundle failed with ${w}`),v._failWith(w)}var G}),function(d,g,v){return a.apply(this,arguments)})(s,e,t).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield $0(n),a,s)}))}(t,n._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,s){const a=Le(t);return a.persistence.runTransaction("Get named query","readonly",d=>a.Ye.getNamedQuery(d,s))}(yield uf(n),e)}))}(Ur(n=Rt(n,Fn)),e).then(t=>t?new mi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new bs(this,t):null)}}class RD extends sM{constructor(e){super(),this.firestore=e}convertBytes(e){return new J0(new i(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ka.forKey(t,this.firestore,null)}}class YR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new RD(e)}get(e){const t=Gg(e);return this._delegate.get(t).then(s=>new X0(this._firestore,new dd(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=Gg(e);return s?(aM("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const d=Gg(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...a),this}delete(e){const t=Gg(e);return this._delegate.delete(t),this}}class QR{constructor(e){this._delegate=e}set(e,t,s){const a=Gg(e);return s?(aM("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const d=Gg(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...a),this}delete(e){const t=Gg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class qg{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Y0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ew(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=qg.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let d=a.get(t);return d||(d=new qg(e,new RD(e),t),a.set(t,d)),d}}qg.INSTANCES=new WeakMap;class ka{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new RD(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ka(t,new bn(t._delegate,s,new ke(e)))}static forKey(e,t,s){return new ka(t,new bn(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Y_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Y_(this.firestore,W0(this._delegate,e))}catch(t){throw Es(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,St.m9)(e))instanceof bn&&G_(this._delegate,e)}set(e,t){t=aM("DocumentReference.set",t);try{return t?HR(this._delegate,e,t):HR(this._delegate,e)}catch(s){throw Es(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?qR(this._delegate,e):qR(this._delegate,e,t,...s)}catch(a){throw Es(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return K_(Rt(n.firestore,Fn),[new Aa(n._key,wr.none())])}(this._delegate)}onSnapshot(...e){const t=JR(e),s=XR(e,a=>new X0(this.firestore,new dd(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return GR(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Rt(n,bn);const e=Rt(n.firestore,Fn),t=Ur(e),s=new Hg(e);return function(n,e){const t=new An;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(s=(0,ye.Z)(function*(a,d,g){try{const v=yield function(w,S){const N=Le(w);return N.persistence.runTransaction("read document","readonly",k=>N.Wn.Rn(k,S))}(a,d);v.isFoundDocument()?g.resolve(v):v.isNoDocument()?g.resolve(null):g.reject(new Ae(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const w=sf(v,`Failed to get document '${d} from cache`);g.reject(w)}}),function(a,d,g){return s.apply(this,arguments)})(yield uf(n),e,t);var s})),t.promise}(t,n._key).then(a=>new dd(e,s,n._key,a,new Zg(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Rt(n,bn);const e=Rt(n.firestore,Fn);return CD(Ur(e),n._key,{source:"server"}).then(t=>oM(e,n,t))}(this._delegate):function(n){n=Rt(n,bn);const e=Rt(n.firestore,Fn);return CD(Ur(e),n._key).then(t=>oM(e,n,t))}(this._delegate),t.then(s=>new X0(this.firestore,new dd(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new ka(this.firestore,this._delegate.withConverter(e?qg.getInstance(this.firestore,e):null))}}function Es(n,e,t){return n.message=n.message.replace(e,t),n}function JR(n){for(const e of n)if("object"==typeof e&&!uM(e))return e;return{}}function XR(n,e){var t,s;let a;return a=uM(n[0])?n[0]:uM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:d=>{a.next&&a.next(e(d))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class X0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ka(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return kR(this._delegate,e._delegate)}}class ew extends X0{data(e){const t=this._delegate.data(e);return function(n,e){n||tt()}(void 0!==t),t}}class bs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new RD(e)}where(e,t,s){try{return new bs(this.firestore,mf(this._delegate,function(n,e,t){const s=e,a=pf("where",n);return new m1(a,s,t)}(e,t,s)))}catch(a){throw Es(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new bs(this.firestore,mf(this._delegate,function(n,e="asc"){const t=e,s=pf("orderBy",n);return new _1(s,t)}(e,t)))}catch(s){throw Es(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new bs(this.firestore,mf(this._delegate,function(n){return ad("limit",n),new FR("limit",n,"F")}(e)))}catch(t){throw Es(t,"limit()","Query.limit()")}}limitToLast(e){try{return new bs(this.firestore,mf(this._delegate,function(n){return ad("limitToLast",n),new FR("limitToLast",n,"L")}(e)))}catch(t){throw Es(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new bs(this.firestore,mf(this._delegate,function(...n){return new LR("startAt",n,!0)}(...e)))}catch(t){throw Es(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new bs(this.firestore,mf(this._delegate,function(...n){return new LR("startAfter",n,!1)}(...e)))}catch(t){throw Es(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new bs(this.firestore,mf(this._delegate,function(...n){return new VR("endBefore",n,!0)}(...e)))}catch(t){throw Es(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new bs(this.firestore,mf(this._delegate,function(...n){return new VR("endAt",n,!1)}(...e)))}catch(t){throw Es(t,"endAt()","Query.endAt()")}}isEqual(e){return SD(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Rt(n,mi);const e=Rt(n.firestore,Fn),t=Ur(e),s=new Hg(e);return function(n,e){const t=new An;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(s=(0,ye.Z)(function*(a,d,g){try{const v=yield u0(a,d,!0),w=new aD(d,v.zn),S=w.Po(v.documents),N=w.applyChanges(S,!1);g.resolve(N.snapshot)}catch(v){const w=sf(v,`Failed to execute query '${d} against cache`);g.reject(w)}}),function(a,d,g){return s.apply(this,arguments)})(yield uf(n),e,t);var s})),t.promise}(t,n._query).then(a=>new gf(e,s,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Rt(n,mi);const e=Rt(n.firestore,Fn),t=Ur(e),s=new Hg(e);return cf(t,n._query,{source:"server"}).then(a=>new gf(e,s,n,a))}(this._delegate):function(n){n=Rt(n,mi);const e=Rt(n.firestore,Fn),t=Ur(e),s=new Hg(e);return PR(n._query),cf(t,n._query).then(a=>new gf(e,s,n,a))}(this._delegate),t.then(s=>new lM(this.firestore,new gf(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=JR(e),s=XR(e,a=>new lM(this.firestore,new gf(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return GR(this._delegate,t,s)}withConverter(e){return new bs(this.firestore,this._delegate.withConverter(e?qg.getInstance(this.firestore,e):null))}}class z1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ew(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new bs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ew(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new z1(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new ew(this._firestore,s))})}isEqual(e){return kR(this._delegate,e._delegate)}}class Y_ extends bs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ka(this.firestore,e):null}doc(e){try{return new ka(this.firestore,void 0===e?$g(this._delegate):$g(this._delegate,e))}catch(t){throw Es(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Rt(n.firestore,Fn),s=$g(n),a=MD(n.converter,e);return K_(t,[R(A(n.firestore),"addDoc",s._key,a,null!==n.converter,{}).toMutation(s._key,wr.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new ka(this.firestore,t))}isEqual(e){return G_(this._delegate,e._delegate)}withConverter(e){return new Y_(this.firestore,this._delegate.withConverter(e?qg.getInstance(this.firestore,e):null))}}function Gg(n){return Rt(n,bn)}class cM{constructor(...e){this._delegate=new Ql(...e)}static documentId(){return new cM(Hn.keyField().canonicalString())}isEqual(e){return(e=(0,St.m9)(e))instanceof Ql&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wg{constructor(e){this._delegate=e}static serverTimestamp(){const e=new q("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Wg(e)}static delete(){const e=new O("deleteField");return e._methodName="FieldValue.delete",new Wg(e)}static arrayUnion(...e){const t=function(...n){return new se("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Wg(t)}static arrayRemove(...e){const t=function(...n){return new Q("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Wg(t)}static increment(e){const t=function(n){return new Me("increment",n)}(e);return t._methodName="FieldValue.increment",new Wg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const K1={Firestore:KR,GeoPoint:u,Timestamp:Fr,Blob:J0,Transaction:YR,WriteBatch:QR,DocumentReference:ka,DocumentSnapshot:X0,Query:bs,QueryDocumentSnapshot:ew,QuerySnapshot:lM,CollectionReference:Y_,FieldPath:cM,FieldValue:Wg,setLogLevel:function(n){!function(n){Vl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function e1(n,e){return function(n,e=KA.z){return new si.y(t=>{let s;return null!=e?e.schedule(()=>{s=n.onSnapshot({includeMetadataChanges:!0},t)}):s=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(n,e)}function dM(n,e){return e1(n,e).pipe((0,at.U)(t=>({payload:t,type:"query"})))}function ND(n,e){return dM(n,e).pipe(hl(void 0),vy(),(0,at.U)(([t,s])=>{const a=s.payload.docChanges(),d=a.map(g=>({type:g.type,payload:g}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((g,v)=>{const w=a.find(N=>N.doc.ref.isEqual(g.ref)),S=null==t?void 0:t.payload.docs.find(N=>N.ref.isEqual(g.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(g.metadata)||!w&&S&&JSON.stringify(S.metadata)===JSON.stringify(g.metadata)||d.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:g}})}),d}))}function t1(n,e,t){return ND(n,t).pipe(ra((s,a)=>function(n,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return hM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return hM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return hM(n,e.oldIndex,1)}return n}(n,s))}),n}(s,a.map(d=>d.payload),e),[]),t=>t.lift(new NC(void 0,void 0)),(0,at.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function hM(n,e,t,...s){const a=n.slice();return a.splice(e,t,...s),a}function n1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,e){n.INTERNAL.registerComponent(new Dv.wA("firestore-compat",t=>((e,t)=>new KR(e,t,new G1))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},K1)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.12")}(kC.Z);class r1{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=ND(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,at.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(hl(void 0),vy(),ss(([s,a])=>a.length>0||!s),(0,at.U)(([s,a])=>a),Zr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ra((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=n1(e);return t1(this.query,t,this.afs.schedulers.outsideAngular).pipe(Zr.iC)}valueChanges(e={}){return dM(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Zr.iC)}get(e){return(0,sn.D)(this.query.get(e)).pipe(Zr.iC)}add(e){return this.ref.add(e)}doc(e){return new i1(this.ref.doc(e),this.afs)}}class i1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:d}=s1(s,t);return new r1(a,d,this.afs)}snapshotChanges(){return function(n,e){return e1(n,e).pipe(hl(void 0),vy(),(0,at.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Zr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,at.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,sn.D)(this.ref.get(e)).pipe(Zr.iC)}}class nN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ND(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),ss(t=>t.length>0),Zr.iC):ND(this.query,this.afs.schedulers.outsideAngular).pipe(Zr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ra((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=n1(e);return t1(this.query,t,this.afs.schedulers.outsideAngular).pipe(Zr.iC)}valueChanges(e={}){return dM(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Zr.iC)}get(e){return(0,sn.D)(this.query.get(e)).pipe(Zr.iC)}}const rN=new c.OlP("angularfire2.enableFirestorePersistence"),iN=new c.OlP("angularfire2.firestore.persistenceSettings"),sN=new c.OlP("angularfire2.firestore.settings"),oN=new c.OlP("angularfire2.firestore.use-emulator");function s1(n,e=(t=>t)){return{query:e(n),ref:n}}let o1=(()=>{class n{constructor(t,s,a,d,g,v,w,S,N,k,G,ee,_e,Fe,Ye,qt,Zt){this.schedulers=w;const Ln=(0,Zi.on)(t,v,s),Bt=N;k&&zw(Ln,v,G,_e,Fe,Ye,ee,qt),[this.firestore,this.persistenceEnabled$]=(0,Zi.cc)(`${Ln.name}.firestore`,"AngularFirestore",Ln.name,()=>{const tr=v.runOutsideAngular(()=>Ln.firestore());if(d&&tr.settings(d),Bt&&tr.useEmulator(...Bt),a&&!Ba(g)){const Uu=()=>{try{return(0,sn.D)(tr.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(OD){return"undefined"!=typeof console&&console.warn(OD),(0,Xe.of)(!1)}};return[tr,v.runOutsideAngular(Uu)]}return[tr,(0,Xe.of)(!1)]},[d,Bt,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:g}=s1(a,s),v=this.schedulers.ngZone.run(()=>d);return new r1(v,g,this)}collectionGroup(t,s){const a=s||(g=>g),d=this.firestore.collectionGroup(t);return new nN(a(d),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new i1(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Zi.Dh),c.LFG(Zi.xv,8),c.LFG(rN,8),c.LFG(sN,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Zr.HU),c.LFG(iN,8),c.LFG(oN,8),c.LFG(ey,8),c.LFG(qv,8),c.LFG(qw,8),c.LFG(Gv,8),c.LFG(Gw,8),c.LFG(Xm,8),c.LFG(Ww,8),c.LFG($w,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),aN=(()=>{class n{constructor(t){this.afs=t}addEmployee(t){return t.id=this.afs.createId(),this.afs.collection("/Employees").add(t)}getAllEmployee(){return this.afs.collection("/Employees").snapshotChanges()}deleteEmployee(t){return console.log(t.id),this.afs.doc("/Employees/"+t.id).delete().then(()=>{},s=>{alert("Something went wrong. "+s.message)})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(o1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"td",16),c._uU(2),c.qZA(),c.TgZ(3,"td",16),c._uU(4),c.qZA(),c.TgZ(5,"td",16),c._uU(6),c.qZA(),c.TgZ(7,"td",16),c._uU(8),c.qZA(),c.TgZ(9,"td",16),c.TgZ(10,"button",49),c.NdJ("click",function(){const d=c.CHM(t).$implicit;return c.oxw().showEmployeeInfo(d)}),c._uU(11,"Info"),c.qZA(),c.TgZ(12,"button",50),c.NdJ("click",function(){const d=c.CHM(t).$implicit;return c.oxw().editEmployeeInfo(d)}),c._uU(13,"Edit"),c.qZA(),c.TgZ(14,"button",51),c.NdJ("click",function(){const d=c.CHM(t).$implicit;return c.oxw().deleteEmployee(d)}),c._uU(15,"Delete"),c.qZA(),c.qZA(),c.qZA()}if(2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t.first_name),c.xp6(2),c.Oqu(t.last_name),c.xp6(2),c.Oqu(t.email),c.xp6(2),c.Oqu(t.mobile)}}let lN=(()=>{class n{constructor(t){this.empService=t,this.uid="",this.first_name="",this.last_name="",this.mobile="",this.email="",this.address="",this.employeeList=[]}ngOnInit(){this.getAllEmployees(),this.uid="",this.first_name="",this.last_name="",this.mobile="",this.email="",this.address=""}addEmployee(){this.empService.addEmployee({id:"",first_name:this.first_name,last_name:this.last_name,mobile:this.mobile,email:this.email,address:this.address}),this.ngOnInit()}getAllEmployees(){this.empService.getAllEmployee().subscribe(t=>{this.employeeList=t.map(s=>{const a=s.payload.doc.data();return a.id=s.payload.doc.id,a})},t=>{alert("Error occured while fetching employee data."+t.message)})}deleteEmployee(t){window.confirm("Are you sure you want to delete "+t.first_name+" "+t.last_name+" ?")&&(this.empService.deleteEmployee(t),this.empService.getAllEmployee())}showEmployeeInfo(t){this.uid=t.id,this.first_name=t.first_name,this.last_name=t.last_name,this.mobile=t.mobile,this.email=t.email,this.address=t.address}editEmployeeInfo(t){this.uid=t.id,this.first_name=t.first_name,this.last_name=t.last_name,this.mobile=t.mobile,this.email=t.email,this.address=t.address}saveEditedEmployee(){var t={id:this.uid,first_name:this.first_name,last_name:this.last_name,mobile:this.mobile,email:this.email,address:this.address};this.empService.deleteEmployee(t),this.empService.addEmployee(t),this.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(aN))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-employee-section"]],decls:141,vars:17,consts:[[1,"container-fluid","m-0","p-0",2,"min-height","100vh"],[1,"mt-2"],[1,"text-muted","text-warning"],[1,"text-muted"],[1,"row","pe-2","mt-3"],[1,"col-sm-4","text-center"],["href","","data-bs-toggle","modal","data-bs-target","#exampleModal",2,"text-decoration","none"],[1,"card","shadow"],[1,"card-body"],[2,"text-decoration","none",3,"click"],[1,"text-danger"],["id","listOfEmployee"],[1,"text-muted","mt-3"],[1,"col-sm-12","mt-3"],[1,"table","table-hover"],[1,"text-success"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"form-floating","mb-3"],["type","text","id","firstName","name","firstname","placeholder","first name",1,"form-control",3,"ngModel","ngModelChange"],["for","firstName"],["type","text","id","lastname","name","lastname","placeholder","last name",1,"form-control",3,"ngModel","ngModelChange"],["for","lastname"],["type","email","id","email","name","email","placeholder","name@example.com",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","text","id","mobile","name","mobile","placeholder","9858694565",1,"form-control",3,"ngModel","ngModelChange"],["for","mobile"],[1,"form-floating"],["placeholder","Leave a address here","id","address","name","address",1,"form-control",2,"height","100px",3,"ngModel","ngModelChange"],["for","address"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],["id","editEmployee","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","employeeInfo","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","text","disabled","","id","firstName","name","firstname","placeholder","first name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","disabled","","id","lastname","name","lastname","placeholder","last name",1,"form-control",3,"ngModel","ngModelChange"],["type","email","disabled","","id","email","name","email","placeholder","name@example.com",1,"form-control",3,"ngModel","ngModelChange"],["type","text","disabled","","id","mobile","name","mobile","placeholder","9858694565",1,"form-control",3,"ngModel","ngModelChange"],["disabled","","placeholder","Leave a address here","id","address","name","address",1,"form-control",2,"height","100px",3,"ngModel","ngModelChange"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#employeeInfo",1,"btn","me-2","btn-outline-info",3,"click"],["data-bs-toggle","modal","data-bs-target","#editEmployee",1,"btn","me-2","btn-outline-success",3,"click"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,s){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h4",2),c._uU(3," Employee Section"),c.qZA(),c._UZ(4,"hr",3),c.qZA(),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c.TgZ(7,"a",6),c.TgZ(8,"div",7),c.TgZ(9,"div",8),c.TgZ(10,"h6"),c._uU(11,"Add New Employee"),c.qZA(),c.TgZ(12,"h5"),c._uU(13,"+"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(14,"div",5),c.TgZ(15,"a",9),c.NdJ("click",function(){return s.getAllEmployees()}),c.TgZ(16,"div",7),c.TgZ(17,"div",8),c.TgZ(18,"h6",10),c._uU(19,"Total Employees"),c.qZA(),c.TgZ(20,"h5"),c._uU(21),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(22,"div",4),c.TgZ(23,"div",11),c.TgZ(24,"h4",12),c._uU(25,"Employees"),c.qZA(),c.TgZ(26,"div",13),c.TgZ(27,"div",7),c.TgZ(28,"div",8),c.TgZ(29,"table",14),c.TgZ(30,"thead",15),c.TgZ(31,"tr"),c.TgZ(32,"th",16),c._uU(33,"First name"),c.qZA(),c.TgZ(34,"th",16),c._uU(35,"Last name"),c.qZA(),c.TgZ(36,"th",16),c._uU(37,"Email"),c.qZA(),c.TgZ(38,"th",16),c._uU(39,"Mobile"),c.qZA(),c.TgZ(40,"th",16),c._uU(41,"Action"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(42,"tbody"),c.YNc(43,uN,16,4,"tr",17),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(44,"div",18),c.TgZ(45,"div",19),c.TgZ(46,"div",20),c.TgZ(47,"div",21),c.TgZ(48,"h5",22),c._uU(49,"Create employee"),c.qZA(),c._UZ(50,"button",23),c.qZA(),c.TgZ(51,"div",24),c.TgZ(52,"div",25),c.TgZ(53,"input",26),c.NdJ("ngModelChange",function(d){return s.first_name=d}),c.qZA(),c.TgZ(54,"label",27),c._uU(55,"First name"),c.qZA(),c.qZA(),c.TgZ(56,"div",25),c.TgZ(57,"input",28),c.NdJ("ngModelChange",function(d){return s.last_name=d}),c.qZA(),c.TgZ(58,"label",29),c._uU(59,"Last name"),c.qZA(),c.qZA(),c.TgZ(60,"div",25),c.TgZ(61,"input",30),c.NdJ("ngModelChange",function(d){return s.email=d}),c.qZA(),c.TgZ(62,"label",31),c._uU(63,"Email address"),c.qZA(),c.qZA(),c.TgZ(64,"div",25),c.TgZ(65,"input",32),c.NdJ("ngModelChange",function(d){return s.mobile=d}),c.qZA(),c.TgZ(66,"label",33),c._uU(67,"Mobile"),c.qZA(),c.qZA(),c.TgZ(68,"div",34),c.TgZ(69,"textarea",35),c.NdJ("ngModelChange",function(d){return s.address=d}),c.qZA(),c.TgZ(70,"label",36),c._uU(71,"Address"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(72,"div",37),c.TgZ(73,"button",38),c._uU(74,"Close"),c.qZA(),c.TgZ(75,"button",39),c.NdJ("click",function(){return s.addEmployee()}),c._uU(76,"Add"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(77,"div",40),c.TgZ(78,"div",19),c.TgZ(79,"div",20),c.TgZ(80,"div",21),c.TgZ(81,"h5",22),c._uU(82,"Create employee"),c.qZA(),c._UZ(83,"button",23),c.qZA(),c.TgZ(84,"div",24),c.TgZ(85,"div",25),c.TgZ(86,"input",26),c.NdJ("ngModelChange",function(d){return s.first_name=d}),c.qZA(),c.TgZ(87,"label",27),c._uU(88,"First name"),c.qZA(),c.qZA(),c.TgZ(89,"div",25),c.TgZ(90,"input",28),c.NdJ("ngModelChange",function(d){return s.last_name=d}),c.qZA(),c.TgZ(91,"label",29),c._uU(92,"Last name"),c.qZA(),c.qZA(),c.TgZ(93,"div",25),c.TgZ(94,"input",30),c.NdJ("ngModelChange",function(d){return s.email=d}),c.qZA(),c.TgZ(95,"label",31),c._uU(96,"Email address"),c.qZA(),c.qZA(),c.TgZ(97,"div",25),c.TgZ(98,"input",32),c.NdJ("ngModelChange",function(d){return s.mobile=d}),c.qZA(),c.TgZ(99,"label",33),c._uU(100,"Mobile"),c.qZA(),c.qZA(),c.TgZ(101,"div",34),c.TgZ(102,"textarea",35),c.NdJ("ngModelChange",function(d){return s.address=d}),c.qZA(),c.TgZ(103,"label",36),c._uU(104,"Address"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(105,"div",37),c.TgZ(106,"button",38),c._uU(107,"Close"),c.qZA(),c.TgZ(108,"button",41),c.NdJ("click",function(){return s.saveEditedEmployee()}),c._uU(109,"Update"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(110,"div",42),c.TgZ(111,"div",19),c.TgZ(112,"div",20),c.TgZ(113,"div",21),c.TgZ(114,"h5",22),c._uU(115,"Employee Details"),c.qZA(),c._UZ(116,"button",23),c.qZA(),c.TgZ(117,"div",24),c.TgZ(118,"div",25),c.TgZ(119,"input",43),c.NdJ("ngModelChange",function(d){return s.first_name=d}),c.qZA(),c.TgZ(120,"label",27),c._uU(121,"First name"),c.qZA(),c.qZA(),c.TgZ(122,"div",25),c.TgZ(123,"input",44),c.NdJ("ngModelChange",function(d){return s.last_name=d}),c.qZA(),c.TgZ(124,"label",29),c._uU(125,"Last name"),c.qZA(),c.qZA(),c.TgZ(126,"div",25),c.TgZ(127,"input",45),c.NdJ("ngModelChange",function(d){return s.email=d}),c.qZA(),c.TgZ(128,"label",31),c._uU(129,"Email address"),c.qZA(),c.qZA(),c.TgZ(130,"div",25),c.TgZ(131,"input",46),c.NdJ("ngModelChange",function(d){return s.mobile=d}),c.qZA(),c.TgZ(132,"label",33),c._uU(133,"Mobile"),c.qZA(),c.qZA(),c.TgZ(134,"div",34),c.TgZ(135,"textarea",47),c.NdJ("ngModelChange",function(d){return s.address=d}),c.qZA(),c.TgZ(136,"label",36),c._uU(137,"Address"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(138,"div",37),c.TgZ(139,"button",48),c.NdJ("click",function(){return s.ngOnInit()}),c._uU(140,"Close"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(21),c.Oqu(s.employeeList.length),c.xp6(22),c.Q6J("ngForOf",s.employeeList),c.xp6(10),c.Q6J("ngModel",s.first_name),c.xp6(4),c.Q6J("ngModel",s.last_name),c.xp6(4),c.Q6J("ngModel",s.email),c.xp6(4),c.Q6J("ngModel",s.mobile),c.xp6(4),c.Q6J("ngModel",s.address),c.xp6(17),c.Q6J("ngModel",s.first_name),c.xp6(4),c.Q6J("ngModel",s.last_name),c.xp6(4),c.Q6J("ngModel",s.email),c.xp6(4),c.Q6J("ngModel",s.mobile),c.xp6(4),c.Q6J("ngModel",s.address),c.xp6(17),c.Q6J("ngModel",s.first_name),c.xp6(4),c.Q6J("ngModel",s.last_name),c.xp6(4),c.Q6J("ngModel",s.email),c.xp6(4),c.Q6J("ngModel",s.mobile),c.xp6(4),c.Q6J("ngModel",s.address))},directives:[ti,Iu,ry,vh],styles:[""]}),n})(),cN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-analytics"]],decls:5,vars:0,consts:[[1,"container-fluid","m-0","p-0",2,"min-height","100vh"],[1,"mt-2"],[1,"text-muted","text-warning"],[1,"text-muted"]],template:function(t,s){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h4",2),c._uU(3," Analytics Section"),c.qZA(),c._UZ(4,"hr",3),c.qZA(),c.qZA())},styles:[""]}),n})(),dN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-settings"]],decls:5,vars:0,consts:[[1,"container-fluid","m-0","p-0",2,"min-height","100vh"],[1,"mt-2"],[1,"text-muted","text-warning"],[1,"text-muted"]],template:function(t,s){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h4",2),c._uU(3,"Settings"),c.qZA(),c._UZ(4,"hr",3),c.qZA(),c.qZA())},styles:[""]}),n})(),hN=(()=>{class n{constructor(t){this.afs=t}addMenu(t){return t.id=this.afs.createId(),this.afs.collection("/Menu").add(t)}deleteMenu(t){return this.afs.doc("Menu/"+t.id).delete()}getAllMenu(){return this.afs.collection("/Menu").snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(o1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"td",16),c._uU(2),c.qZA(),c.TgZ(3,"td",16),c._uU(4),c.qZA(),c.TgZ(5,"td",16),c._uU(6),c.qZA(),c.TgZ(7,"td",16),c.TgZ(8,"button",37),c.NdJ("click",function(){const d=c.CHM(t).$implicit;return c.oxw().editMenuInfo(d)}),c._uU(9,"Edit"),c.qZA(),c.TgZ(10,"button",38),c.NdJ("click",function(){const d=c.CHM(t).$implicit;return c.oxw().deleteMenu(d)}),c._uU(11,"Delete"),c.qZA(),c.qZA(),c.qZA()}if(2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t.name),c.xp6(2),c.Oqu(t.full_price),c.xp6(2),c.Oqu(t.half_price)}}let pN=(()=>{class n{constructor(t){this.menuService=t,this.totalMenus=[],this.uid="",this.name="",this.full=0,this.half=0}ngOnInit(){this.getAllMenu(),this.uid="",this.name="",this.full=0,this.half=0}addMenu(){this.menuService.addMenu({id:"",name:this.name,half_price:this.half,full_price:this.full}),this.ngOnInit()}getAllMenu(){this.menuService.getAllMenu().subscribe(t=>{this.totalMenus=t.map(s=>{const a=s.payload.doc.data();return a.id=s.payload.doc.id,a})},t=>{alert("Error occured while fetching employee data."+t.message)})}deleteMenu(t){window.confirm("Are you sure you want to delete "+t.name+" ?")&&(this.menuService.deleteMenu(t),this.menuService.getAllMenu())}editMenuInfo(t){this.uid=t.id,this.name=t.name,this.full=t.full_price,this.half=t.half_price}saveEditedMenu(){var t={id:this.uid,name:this.name,full_price:this.full,half_price:this.half};this.menuService.deleteMenu(t),this.menuService.addMenu(t),this.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hN))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-menu"]],decls:92,vars:8,consts:[[1,"container-fluid","m-0","p-0",2,"min-height","100vh"],[1,"mt-2"],[1,"text-muted","text-warning"],[1,"text-muted"],[1,"row","pe-2","mt-3"],[1,"col-sm-4","text-center"],["href","","data-bs-toggle","modal","data-bs-target","#exampleModal",2,"text-decoration","none"],[1,"card","shadow"],[1,"card-body"],[2,"text-decoration","none"],[1,"text-danger"],["id","listOfMenu"],[1,"text-muted","mt-3"],[1,"col-sm-12","mt-3"],[1,"table","table-hover"],[1,"text-success"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"form-floating","mb-3"],["type","text","id","firstName","name","firstname","placeholder","first name",1,"form-control",3,"ngModel","ngModelChange"],["for","firstName"],["type","text","id","lastname","name","lastname","placeholder","last name",1,"form-control",3,"ngModel","ngModelChange"],["for","lastname"],["type","text","id","email","name","email","placeholder","name@example.com",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],["id","editMenu","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["data-bs-toggle","modal","data-bs-target","#editMenu",1,"btn","me-2","btn-outline-success",3,"click"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,s){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h4",2),c._uU(3," Menu Section"),c.qZA(),c._UZ(4,"hr",3),c.qZA(),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c.TgZ(7,"a",6),c.TgZ(8,"div",7),c.TgZ(9,"div",8),c.TgZ(10,"h6"),c._uU(11,"Add New Menu"),c.qZA(),c.TgZ(12,"h5"),c._uU(13,"+"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(14,"div",5),c.TgZ(15,"a",9),c.TgZ(16,"div",7),c.TgZ(17,"div",8),c.TgZ(18,"h6",10),c._uU(19,"Total Menu"),c.qZA(),c.TgZ(20,"h5"),c._uU(21),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(22,"div",4),c.TgZ(23,"div",11),c.TgZ(24,"h4",12),c._uU(25,"Menu"),c.qZA(),c.TgZ(26,"div",13),c.TgZ(27,"div",7),c.TgZ(28,"div",8),c.TgZ(29,"table",14),c.TgZ(30,"thead",15),c.TgZ(31,"tr"),c.TgZ(32,"th",16),c._uU(33,"Name"),c.qZA(),c.TgZ(34,"th",16),c._uU(35,"Full"),c.qZA(),c.TgZ(36,"th",16),c._uU(37,"Half"),c.qZA(),c.TgZ(38,"th",16),c._uU(39,"Action"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(40,"tbody"),c.YNc(41,fN,12,3,"tr",17),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(42,"div",18),c.TgZ(43,"div",19),c.TgZ(44,"div",20),c.TgZ(45,"div",21),c.TgZ(46,"h5",22),c._uU(47,"Add menu"),c.qZA(),c._UZ(48,"button",23),c.qZA(),c.TgZ(49,"div",24),c.TgZ(50,"div",25),c.TgZ(51,"input",26),c.NdJ("ngModelChange",function(d){return s.name=d}),c.qZA(),c.TgZ(52,"label",27),c._uU(53,"Name"),c.qZA(),c.qZA(),c.TgZ(54,"div",25),c.TgZ(55,"input",28),c.NdJ("ngModelChange",function(d){return s.full=d}),c.qZA(),c.TgZ(56,"label",29),c._uU(57,"Full price"),c.qZA(),c.qZA(),c.TgZ(58,"div",25),c.TgZ(59,"input",30),c.NdJ("ngModelChange",function(d){return s.half=d}),c.qZA(),c.TgZ(60,"label",31),c._uU(61,"Half price"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(62,"div",32),c.TgZ(63,"button",33),c._uU(64,"Close"),c.qZA(),c.TgZ(65,"button",34),c.NdJ("click",function(){return s.addMenu()}),c._uU(66,"Add"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(67,"div",35),c.TgZ(68,"div",19),c.TgZ(69,"div",20),c.TgZ(70,"div",21),c.TgZ(71,"h5",22),c._uU(72,"Edit menu"),c.qZA(),c._UZ(73,"button",23),c.qZA(),c.TgZ(74,"div",24),c.TgZ(75,"div",25),c.TgZ(76,"input",26),c.NdJ("ngModelChange",function(d){return s.name=d}),c.qZA(),c.TgZ(77,"label",27),c._uU(78,"Name"),c.qZA(),c.qZA(),c.TgZ(79,"div",25),c.TgZ(80,"input",28),c.NdJ("ngModelChange",function(d){return s.full=d}),c.qZA(),c.TgZ(81,"label",29),c._uU(82,"Full price"),c.qZA(),c.qZA(),c.TgZ(83,"div",25),c.TgZ(84,"input",30),c.NdJ("ngModelChange",function(d){return s.half=d}),c.qZA(),c.TgZ(85,"label",31),c._uU(86,"Half price"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(87,"div",32),c.TgZ(88,"button",33),c._uU(89,"Close"),c.qZA(),c.TgZ(90,"button",36),c.NdJ("click",function(){return s.saveEditedMenu()}),c._uU(91,"Update"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(21),c.Oqu(s.totalMenus.length),c.xp6(20),c.Q6J("ngForOf",s.totalMenus),c.xp6(10),c.Q6J("ngModel",s.name),c.xp6(4),c.Q6J("ngModel",s.full),c.xp6(4),c.Q6J("ngModel",s.half),c.xp6(17),c.Q6J("ngModel",s.name),c.xp6(4),c.Q6J("ngModel",s.full),c.xp6(4),c.Q6J("ngModel",s.half))},directives:[ti,Iu,ry,vh],styles:[""]}),n})();function gN(n,e){1&n&&c._UZ(0,"app-admin-panel")}function mN(n,e){1&n&&c._UZ(0,"app-bill-section")}function yN(n,e){1&n&&c._UZ(0,"app-employee-section")}function _N(n,e){1&n&&c._UZ(0,"app-analytics")}function vN(n,e){1&n&&c._UZ(0,"app-settings")}function EN(n,e){1&n&&c._UZ(0,"app-menu")}const bN=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:AC},{path:"register",component:SC},{path:"forgot-password",component:pw},{path:"varify-email",component:wE},{path:"dashboard",component:(()=>{class n{constructor(t){this.auth=t,this.dashboard=!1,this.billSection=!1,this.employeeSection=!1,this.settings=!1,this.analytics=!1,this.menu=!1}ngOnInit(){this.showDashboard()}setOff(){this.dashboard=!1,this.billSection=!1,this.employeeSection=!1,this.settings=!1,this.analytics=!1,this.menu=!1}showDashboard(){this.setOff(),this.dashboard=!0}showBillSection(){this.setOff(),this.billSection=!0}showEmployeeSection(){this.setOff(),this.employeeSection=!0}showSettings(){this.setOff(),this.settings=!0}showAnalytics(){this.setOff(),this.analytics=!0}showMenu(){this.setOff(),this.menu=!0}signout(){this.auth.logout()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ty))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-user-dashboard"]],decls:28,vars:6,consts:[[1,"conatiner-fluid","p-0","m-0",2,"overflow","hidden"],[1,"row"],[1,"col-sm-2","bg-dark","sidebar","p-3","pe-0"],[1,"p-3","text-warning"],[1,"text-white"],[1,"p-3",3,"click"],[1,"col-sm-10"],[4,"ngIf"]],template:function(t,s){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"a",3),c.TgZ(4,"strong"),c._uU(5,"Restaurant App"),c.qZA(),c.qZA(),c._UZ(6,"hr",4),c.TgZ(7,"a",5),c.NdJ("click",function(){return s.showDashboard()}),c._uU(8,"Dashboard"),c.qZA(),c.TgZ(9,"a",5),c.NdJ("click",function(){return s.showBillSection()}),c._uU(10,"Bill Section"),c.qZA(),c.TgZ(11,"a",5),c.NdJ("click",function(){return s.showMenu()}),c._uU(12,"Menu"),c.qZA(),c.TgZ(13,"a",5),c.NdJ("click",function(){return s.showEmployeeSection()}),c._uU(14,"Employees Section"),c.qZA(),c.TgZ(15,"a",5),c.NdJ("click",function(){return s.showSettings()}),c._uU(16,"Settings"),c.qZA(),c.TgZ(17,"a",5),c.NdJ("click",function(){return s.showAnalytics()}),c._uU(18,"Analytics"),c.qZA(),c.TgZ(19,"a",5),c.NdJ("click",function(){return s.signout()}),c._uU(20,"Sign out"),c.qZA(),c.qZA(),c.TgZ(21,"div",6),c.YNc(22,gN,1,0,"app-admin-panel",7),c.YNc(23,mN,1,0,"app-bill-section",7),c.YNc(24,yN,1,0,"app-employee-section",7),c.YNc(25,_N,1,0,"app-analytics",7),c.YNc(26,vN,1,0,"app-settings",7),c.YNc(27,EN,1,0,"app-menu",7),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(22),c.Q6J("ngIf",s.dashboard),c.xp6(1),c.Q6J("ngIf",s.billSection),c.xp6(1),c.Q6J("ngIf",s.employeeSection),c.xp6(1),c.Q6J("ngIf",s.analytics),c.xp6(1),c.Q6J("ngIf",s.settings),c.xp6(1),c.Q6J("ngIf",s.menu))},directives:[Ki,xC,zA,lN,cN,dN,pN],styles:[".sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#faebd7;display:block!important;cursor:pointer}"]}),n})()}];let wN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[wv.forRoot(bN)],wv]}),n})(),CN=(()=>{class n{constructor(){this.title="hotel-management"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,s){1&t&&c._UZ(0,"router-outlet")},directives:[Lm],styles:[""]}),n})();const a1_firebaseConfig={apiKey:"AIzaSyDbhdWawp0lmRKtCzg_0jmA_dy_pk2gKfg",authDomain:"hotel-management-3390d.firebaseapp.com",projectId:"hotel-management-3390d",storageBucket:"hotel-management-3390d.appspot.com",messagingSenderId:"1010076842792",appId:"1:1010076842792:web:dea2e76a1e36573aae6e1d"};let IN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[CN]}),n.\u0275inj=c.cJS({providers:[],imports:[[Xa,wN,Zi.hO.initializeApp(a1_firebaseConfig),IC]]}),n})();(0,c.G48)(),sl().bootstrapModule(IN).catch(n=>console.error(n))},3394:(Je,Ee,L)=>{"use strict";L.d(Ee,{Z:()=>be});var c=L(3854),J=L(3910),P=L(8026),le=L(5422);class te{constructor(W,ge){this._delegate=W,this.firebase=ge,(0,P._addComponent)(W,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=W.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this._delegate.automaticDataCollectionEnabled=W}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(W=>{this._delegate.checkDestroyed(),W()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(W,ge=P._DEFAULT_ENTRY_NAME){var fe;this._delegate.checkDestroyed();const he=this._delegate.container.getProvider(W);return!he.isInitialized()&&"EXPLICIT"===(null===(fe=he.getComponent())||void 0===fe?void 0:fe.instantiationMode)&&he.initialize(),he.getImmediate({identifier:ge})}_removeServiceInstance(W,ge=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(W).clearInstance(ge)}_addComponent(W){(0,P._addComponent)(this._delegate,W)}_addOrOverwriteComponent(W){(0,P._addOrOverwriteComponent)(this._delegate,W)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function X(){const de=function(de){const W={},ge={__esModule:!0,initializeApp:function(pt,pn={}){const _t=P.initializeApp(pt,pn);if((0,c.r3)(W,_t.name))return W[_t.name];const Et=new de(_t,ge);return W[_t.name]=Et,Et},app:he,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function(pt){const pn=pt.name,_t=pn.replace("-compat","");if(P._registerComponent(pt)&&"PUBLIC"===pt.type){const Et=(ct=he())=>{if("function"!=typeof ct[_t])throw pe.create("invalid-app-argument",{appName:pn});return ct[_t]()};void 0!==pt.serviceProps&&(0,c.ZB)(Et,pt.serviceProps),ge[_t]=Et,de.prototype[_t]=function(...ct){return this._getService.bind(this,pn).apply(this,pt.multipleInstances?ct:[])}}return"PUBLIC"===pt.type?ge[_t]:null},removeApp:function(pt){delete W[pt]},useAsService:function(pt,pn){return"serverAuth"===pn?null:pn},modularAPIs:P}};function he(pt){if(!(0,c.r3)(W,pt=pt||P._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:pt});return W[pt]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function(){return Object.keys(W).map(pt=>W[pt])}}),he.App=de,ge}(te);return de.INTERNAL=Object.assign(Object.assign({},de.INTERNAL),{createFirebaseNamespace:X,extendNamespace:function(ge){(0,c.ZB)(de,ge)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),de}(),V=new le.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const de=self.firebase.SDK_VERSION;de&&de.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const be=F;(0,P.registerVersion)("@firebase/app-compat","0.1.15",undefined)},8026:(Je,Ee,L)=>{"use strict";L.r(Ee),L.d(Ee,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Pa,_DEFAULT_ENTRY_NAME:()=>to,_addComponent:()=>Gi,_addOrOverwriteComponent:()=>Is,_apps:()=>Mn,_clearComponents:()=>Gn,_components:()=>Cs,_getProvider:()=>ln,_registerComponent:()=>Wi,_removeServiceInstance:()=>jt,deleteApp:()=>nr,getApp:()=>pr,getApps:()=>Ie,initializeApp:()=>Dr,onLog:()=>Nt,registerVersion:()=>yi,setLogLevel:()=>Br});var c=L(8239),J=L(3910),P=L(5422),le=L(3854);class te{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(Vt=>{if(function(nt){const Te=nt.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(Vt)){const Xt=Vt.getImmediate();return`${Xt.library}/${Xt.version}`}return null}).filter(Vt=>Vt).join(" ")}}const pe="@firebase/app",X=new P.Yd("@firebase/app"),to="[DEFAULT]",Bu={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mn=new Map,Cs=new Map;function Gi(nt,Te){try{nt.container.addComponent(Te)}catch(Vt){X.debug(`Component ${Te.name} failed to register with FirebaseApp ${nt.name}`,Vt)}}function Is(nt,Te){nt.container.addOrOverwriteComponent(Te)}function Wi(nt){const Te=nt.name;if(Cs.has(Te))return X.debug(`There were multiple attempts to register component ${Te}.`),!1;Cs.set(Te,nt);for(const Vt of Mn.values())Gi(Vt,nt);return!0}function ln(nt,Te){return nt.container.getProvider(Te)}function jt(nt,Te,Vt=to){ln(nt,Te).clearInstance(Vt)}function Gn(){Cs.clear()}const Lt=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Ct{constructor(Te,Vt,Xt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},Vt),this._name=Vt.name,this._automaticDataCollectionEnabled=Vt.automaticDataCollectionEnabled,this._container=Xt,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Lt.create("app-deleted",{appName:this._name})}}const Pa="9.6.4";function Dr(nt,Te={}){"object"!=typeof Te&&(Te={name:Te});const Vt=Object.assign({name:to,automaticDataCollectionEnabled:!1},Te),Xt=Vt.name;if("string"!=typeof Xt||!Xt)throw Lt.create("bad-app-name",{appName:String(Xt)});const gn=Mn.get(Xt);if(gn){if((0,le.vZ)(nt,gn.options)&&(0,le.vZ)(Vt,gn.config))return gn;throw Lt.create("duplicate-app",{appName:Xt})}const Ot=new J.H0(Xt);for(const qe of Cs.values())Ot.addComponent(qe);const ze=new Ct(nt,Vt,Ot);return Mn.set(Xt,ze),ze}function pr(nt=to){const Te=Mn.get(nt);if(!Te)throw Lt.create("no-app",{appName:nt});return Te}function Ie(){return Array.from(Mn.values())}function nr(nt){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,c.Z)(function*(nt){const Te=nt.name;Mn.has(Te)&&(Mn.delete(Te),yield Promise.all(nt.container.getProviders().map(Vt=>Vt.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function yi(nt,Te,Vt){var Xt;let gn=null!==(Xt=Bu[nt])&&void 0!==Xt?Xt:nt;Vt&&(gn+=`-${Vt}`);const Ot=gn.match(/\s|\//),ze=Te.match(/\s|\//);if(Ot||ze){const qe=[`Unable to register library "${gn}" with version "${Te}":`];return Ot&&qe.push(`library name "${gn}" contains illegal characters (whitespace or "/")`),Ot&&ze&&qe.push("and"),ze&&qe.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void X.warn(qe.join(" "))}Wi(new J.wA(`${gn}-version`,()=>({library:gn,version:Te}),"VERSION"))}function Nt(nt,Te){if(null!==nt&&"function"!=typeof nt)throw Lt.create("invalid-log-argument");(0,P.Am)(nt,Te)}function Br(nt){(0,P.Ub)(nt)}Wi(new J.wA("platform-logger",Te=>new te(Te),"PRIVATE")),yi(pe,"0.7.14",""),yi(pe,"0.7.14","esm2017"),yi("fire-js","")},3910:(Je,Ee,L)=>{"use strict";L.d(Ee,{wA:()=>P,H0:()=>ue});var c=L(8239),J=L(3854);class P{constructor(F,V,Y){this.name=F,this.instanceFactory=V,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const le="[DEFAULT]";class te{constructor(F,V){this.name=F,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const V=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(V)){const Y=new J.BH;if(this.instancesDeferred.set(V,Y),this.isInitialized(V)||this.shouldAutoInitialize())try{const K=this.getOrInitializeService({instanceIdentifier:V});K&&Y.resolve(K)}catch(K){}}return this.instancesDeferred.get(V).promise}getImmediate(F){var V;const Y=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),K=null!==(V=null==F?void 0:F.optional)&&void 0!==V&&V;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(K)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(oe){if(K)return null;throw oe}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if("EAGER"===F.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:le})}catch(V){}for(const[V,Y]of this.instancesDeferred.entries()){const K=this.normalizeInstanceIdentifier(V);try{const oe=this.getOrInitializeService({instanceIdentifier:K});Y.resolve(oe)}catch(oe){}}}}clearInstance(F=le){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,c.Z)(function*(){const V=Array.from(F.instances.values());yield Promise.all([...V.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...V.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=le){return this.instances.has(F)}getOptions(F=le){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:V={}}=F,Y=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const K=this.getOrInitializeService({instanceIdentifier:Y,options:V});for(const[oe,be]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(oe)&&be.resolve(K);return K}onInit(F,V){var Y;const K=this.normalizeInstanceIdentifier(V),oe=null!==(Y=this.onInitCallbacks.get(K))&&void 0!==Y?Y:new Set;oe.add(F),this.onInitCallbacks.set(K,oe);const be=this.instances.get(K);return be&&F(be,K),()=>{oe.delete(F)}}invokeOnInitCallbacks(F,V){const Y=this.onInitCallbacks.get(V);if(Y)for(const K of Y)try{K(F,V)}catch(oe){}}getOrInitializeService({instanceIdentifier:F,options:V={}}){let Y=this.instances.get(F);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(X=F,X===le?void 0:X),options:V}),this.instances.set(F,Y),this.instancesOptions.set(F,V),this.invokeOnInitCallbacks(Y,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,Y)}catch(K){}var X;return Y||null}normalizeInstanceIdentifier(F=le){return this.component?this.component.multipleInstances?F:le:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const V=this.getProvider(F.name);if(V.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);V.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const V=new te(F,this);return this.providers.set(F,V),V}getProviders(){return Array.from(this.providers.values())}}},5422:(Je,Ee,L)=>{"use strict";L.d(Ee,{in:()=>J,Yd:()=>pe,Ub:()=>ue,Am:()=>X});const c=[];var J=(()=>{return(F=J||(J={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",J;var F})();const P={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},le=J.INFO,te={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},re=(F,V,...Y)=>{if(V<F.logLevel)return;const K=(new Date).toISOString(),oe=te[V];if(!oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[oe](`[${K}]  ${F.name}:`,...Y)};class pe{constructor(V){this.name=V,this._logLevel=le,this._logHandler=re,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in J))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?P[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...V),this._logHandler(this,J.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...V),this._logHandler(this,J.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,J.INFO,...V),this._logHandler(this,J.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,J.WARN,...V),this._logHandler(this,J.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...V),this._logHandler(this,J.ERROR,...V)}}function ue(F){c.forEach(V=>{V.setLogLevel(F)})}function X(F,V){for(const Y of c){let K=null;V&&V.level&&(K=P[V.level]),Y.userLogHandler=null===F?null:(oe,be,...de)=>{const W=de.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch(fe){return null}}).filter(ge=>ge).join(" ");be>=(null!=K?K:oe.logLevel)&&F({level:J[be].toLowerCase(),message:W,args:de,type:oe.name})}}}},8239:(Je,Ee,L)=>{"use strict";function c(P,le,te,re,pe,ue,X){try{var F=P[ue](X),V=F.value}catch(Y){return void te(Y)}F.done?le(V):Promise.resolve(V).then(re,pe)}function J(P){return function(){var le=this,te=arguments;return new Promise(function(re,pe){var ue=P.apply(le,te);function X(V){c(ue,re,pe,X,F,"next",V)}function F(V){c(ue,re,pe,X,F,"throw",V)}X(void 0)})}}L.d(Ee,{Z:()=>J})}},Je=>{Je(Je.s=9755)}]);